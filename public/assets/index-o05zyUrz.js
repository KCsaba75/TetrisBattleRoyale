var jv=t=>{throw TypeError(t)};var Lh=(t,e,n)=>e.has(t)||jv("Cannot "+n);var U=(t,e,n)=>(Lh(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?jv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),he=(t,e,n,r)=>(Lh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),yt=(t,e,n)=>(Lh(t,e,"access private method"),n);var cc=(t,e,n,r)=>({set _(s){he(t,e,s,n)},get _(){return U(t,e,r)}});function eP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function EE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TE={exports:{}},vd={},xE={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sl=Symbol.for("react.element"),tP=Symbol.for("react.portal"),nP=Symbol.for("react.fragment"),rP=Symbol.for("react.strict_mode"),sP=Symbol.for("react.profiler"),iP=Symbol.for("react.provider"),oP=Symbol.for("react.context"),aP=Symbol.for("react.forward_ref"),lP=Symbol.for("react.suspense"),cP=Symbol.for("react.memo"),uP=Symbol.for("react.lazy"),Fv=Symbol.iterator;function dP(t){return t===null||typeof t!="object"?null:(t=Fv&&t[Fv]||t["@@iterator"],typeof t=="function"?t:null)}var SE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},IE=Object.assign,bE={};function Oo(t,e,n){this.props=t,this.context=e,this.refs=bE,this.updater=n||SE}Oo.prototype.isReactComponent={};Oo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function CE(){}CE.prototype=Oo.prototype;function _m(t,e,n){this.props=t,this.context=e,this.refs=bE,this.updater=n||SE}var Em=_m.prototype=new CE;Em.constructor=_m;IE(Em,Oo.prototype);Em.isPureReactComponent=!0;var Uv=Array.isArray,AE=Object.prototype.hasOwnProperty,Tm={current:null},PE={key:!0,ref:!0,__self:!0,__source:!0};function RE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)AE.call(e,r)&&!PE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Sl,type:t,key:i,ref:o,props:s,_owner:Tm.current}}function hP(t,e){return{$$typeof:Sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sl}function fP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var $v=/\/+/g;function Vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?fP(""+t.key):e.toString(36)}function Hc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sl:case tP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Vh(o,0):r,Uv(s)?(n="",t!=null&&(n=t.replace($v,"$&/")+"/"),Hc(s,e,n,"",function(u){return u})):s!=null&&(xm(s)&&(s=hP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace($v,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Uv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Vh(i,a);o+=Hc(i,e,n,c,s)}else if(c=dP(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Vh(i,a++),o+=Hc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(t,e,n){if(t==null)return t;var r=[],s=0;return Hc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function pP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},qc={transition:null},mP={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:qc,ReactCurrentOwner:Tm};function kE(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:uc,forEach:function(t,e,n){uc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return uc(t,function(){e++}),e},toArray:function(t){return uc(t,function(e){return e})||[]},only:function(t){if(!xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Oo;ge.Fragment=nP;ge.Profiler=sP;ge.PureComponent=_m;ge.StrictMode=rP;ge.Suspense=lP;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mP;ge.act=kE;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=IE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Tm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)AE.call(e,c)&&!PE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Sl,type:t.type,key:s,ref:i,props:r,_owner:o}};ge.createContext=function(t){return t={$$typeof:oP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iP,_context:t},t.Consumer=t};ge.createElement=RE;ge.createFactory=function(t){var e=RE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:aP,render:t}};ge.isValidElement=xm;ge.lazy=function(t){return{$$typeof:uP,_payload:{_status:-1,_result:t},_init:pP}};ge.memo=function(t,e){return{$$typeof:cP,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};ge.unstable_act=kE;ge.useCallback=function(t,e){return Mt.current.useCallback(t,e)};ge.useContext=function(t){return Mt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Mt.current.useEffect(t,e)};ge.useId=function(){return Mt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Mt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Mt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Mt.current.useReducer(t,e,n)};ge.useRef=function(t){return Mt.current.useRef(t)};ge.useState=function(t){return Mt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Mt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Mt.current.useTransition()};ge.version="18.3.1";xE.exports=ge;var v=xE.exports;const Mr=EE(v),NE=eP({__proto__:null,default:Mr},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP=v,yP=Symbol.for("react.element"),vP=Symbol.for("react.fragment"),wP=Object.prototype.hasOwnProperty,_P=gP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,EP={key:!0,ref:!0,__self:!0,__source:!0};function DE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)wP.call(e,r)&&!EP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:yP,type:t,key:i,ref:o,props:s,_owner:_P.current}}vd.Fragment=vP;vd.jsx=DE;vd.jsxs=DE;TE.exports=vd;var f=TE.exports,OE={exports:{}},tn={},ME={exports:{}},LE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var J=V.length;V.push(q);e:for(;0<J;){var ne=J-1>>>1,le=V[ne];if(0<s(le,q))V[ne]=q,V[J]=le,J=ne;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var q=V[0],J=V.pop();if(J!==q){V[0]=J;e:for(var ne=0,le=V.length,ye=le>>>1;ne<ye;){var Ne=2*(ne+1)-1,Qe=V[Ne],H=Ne+1,B=V[H];if(0>s(Qe,J))H<le&&0>s(B,Qe)?(V[ne]=B,V[H]=J,ne=H):(V[ne]=Qe,V[Ne]=J,ne=Ne);else if(H<le&&0>s(B,J))V[ne]=B,V[H]=J,ne=H;else break e}}return q}function s(V,q){var J=V.sortIndex-q.sortIndex;return J!==0?J:V.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,p=null,m=3,w=!1,x=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(V){for(var q=n(u);q!==null;){if(q.callback===null)r(u);else if(q.startTime<=V)r(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function k(V){if(y=!1,T(V),!x)if(n(c)!==null)x=!0,X(O);else{var q=n(u);q!==null&&Z(k,q.startTime-V)}}function O(V,q){x=!1,y&&(y=!1,E(I),I=-1),w=!0;var J=m;try{for(T(q),p=n(c);p!==null&&(!(p.expirationTime>q)||V&&!N());){var ne=p.callback;if(typeof ne=="function"){p.callback=null,m=p.priorityLevel;var le=ne(p.expirationTime<=q);q=t.unstable_now(),typeof le=="function"?p.callback=le:p===n(c)&&r(c),T(q)}else r(c);p=n(c)}if(p!==null)var ye=!0;else{var Ne=n(u);Ne!==null&&Z(k,Ne.startTime-q),ye=!1}return ye}finally{p=null,m=J,w=!1}}var L=!1,b=null,I=-1,A=5,P=-1;function N(){return!(t.unstable_now()-P<A)}function D(){if(b!==null){var V=t.unstable_now();P=V;var q=!0;try{q=b(!0,V)}finally{q?R():(L=!1,b=null)}}else L=!1}var R;if(typeof _=="function")R=function(){_(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=D,R=function(){ee.postMessage(null)}}else R=function(){S(D,0)};function X(V){b=V,L||(L=!0,R())}function Z(V,q){I=S(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){x||w||(x=!0,X(O))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var J=m;m=q;try{return V()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=m;m=V;try{return q()}finally{m=J}},t.unstable_scheduleCallback=function(V,q,J){var ne=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ne+J:ne):J=ne,V){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=J+le,V={id:d++,callback:q,priorityLevel:V,startTime:J,expirationTime:le,sortIndex:-1},J>ne?(V.sortIndex=J,e(u,V),n(c)===null&&V===n(u)&&(y?(E(I),I=-1):y=!0,Z(k,J-ne))):(V.sortIndex=le,e(c,V),x||w||(x=!0,X(O))),V},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(V){var q=m;return function(){var J=m;m=q;try{return V.apply(this,arguments)}finally{m=J}}}})(LE);ME.exports=LE;var TP=ME.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP=v,Zt=TP;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var VE=new Set,Wa={};function di(t,e){mo(t,e),mo(t+"Capture",e)}function mo(t,e){for(Wa[t]=e,t=0;t<e.length;t++)VE.add(e[t])}var hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=Object.prototype.hasOwnProperty,SP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zv={},Bv={};function IP(t){return Vf.call(Bv,t)?!0:Vf.call(zv,t)?!1:SP.test(t)?Bv[t]=!0:(zv[t]=!0,!1)}function bP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CP(t,e,n,r){if(e===null||typeof e>"u"||bP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ht[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ht[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ht[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ht[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ht[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ht[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ht[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ht[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ht[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sm,Im);ht[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sm,Im);ht[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sm,Im);ht[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ht[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});ht.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ht[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function bm(t,e,n,r){var s=ht.hasOwnProperty(e)?ht[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CP(e,n,s,r)&&(n=null),r||s===null?IP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xr=xP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dc=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),Cm=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),jE=Symbol.for("react.provider"),FE=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Ff=Symbol.for("react.suspense"),Uf=Symbol.for("react.suspense_list"),Pm=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),UE=Symbol.for("react.offscreen"),Wv=Symbol.iterator;function ca(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,jh;function wa(t){if(jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jh=e&&e[1]||""}return`
`+jh+t}var Fh=!1;function Uh(t,e){if(!t||Fh)return"";Fh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Fh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wa(t):""}function AP(t){switch(t.tag){case 5:return wa(t.type);case 16:return wa("Lazy");case 13:return wa("Suspense");case 19:return wa("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function $f(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Ni:return"Portal";case jf:return"Profiler";case Cm:return"StrictMode";case Ff:return"Suspense";case Uf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case FE:return(t.displayName||"Context")+".Consumer";case jE:return(t._context.displayName||"Context")+".Provider";case Am:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pm:return e=t.displayName||null,e!==null?e:$f(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return $f(t(e))}catch{}}return null}function PP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $f(e);case 8:return e===Cm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $E(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function RP(t){var e=$E(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hc(t){t._valueTracker||(t._valueTracker=RP(t))}function zE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$E(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Eu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zf(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Hv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BE(t,e){e=e.checked,e!=null&&bm(t,"checked",e,!1)}function Bf(t,e){BE(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wf(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wf(t,e,n){(e!=="number"||Eu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var _a=Array.isArray;function Hi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Hf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(_a(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function WE(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Gv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var fc,qE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(fc=fc||document.createElement("div"),fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ha(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kP=["Webkit","ms","Moz","O"];Object.keys(Pa).forEach(function(t){kP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pa[e]=Pa[t]})});function KE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pa.hasOwnProperty(t)&&Pa[t]?(""+e).trim():e+"px"}function GE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=KE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var NP=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kf(t,e){if(e){if(NP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Gf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=null;function Rm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yf=null,qi=null,Ki=null;function Qv(t){if(t=Cl(t)){if(typeof Yf!="function")throw Error(z(280));var e=t.stateNode;e&&(e=xd(e),Yf(t.stateNode,t.type,e))}}function QE(t){qi?Ki?Ki.push(t):Ki=[t]:qi=t}function YE(){if(qi){var t=qi,e=Ki;if(Ki=qi=null,Qv(t),e)for(t=0;t<e.length;t++)Qv(e[t])}}function XE(t,e){return t(e)}function JE(){}var $h=!1;function ZE(t,e,n){if($h)return t(e,n);$h=!0;try{return XE(t,e,n)}finally{$h=!1,(qi!==null||Ki!==null)&&(JE(),YE())}}function qa(t,e){var n=t.stateNode;if(n===null)return null;var r=xd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Xf=!1;if(hr)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){Xf=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{Xf=!1}function DP(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Ra=!1,Tu=null,xu=!1,Jf=null,OP={onError:function(t){Ra=!0,Tu=t}};function MP(t,e,n,r,s,i,o,a,c){Ra=!1,Tu=null,DP.apply(OP,arguments)}function LP(t,e,n,r,s,i,o,a,c){if(MP.apply(this,arguments),Ra){if(Ra){var u=Tu;Ra=!1,Tu=null}else throw Error(z(198));xu||(xu=!0,Jf=u)}}function hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yv(t){if(hi(t)!==t)throw Error(z(188))}function VP(t){var e=t.alternate;if(!e){if(e=hi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Yv(s),t;if(i===r)return Yv(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function tT(t){return t=VP(t),t!==null?nT(t):null}function nT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nT(t);if(e!==null)return e;t=t.sibling}return null}var rT=Zt.unstable_scheduleCallback,Xv=Zt.unstable_cancelCallback,jP=Zt.unstable_shouldYield,FP=Zt.unstable_requestPaint,Ge=Zt.unstable_now,UP=Zt.unstable_getCurrentPriorityLevel,km=Zt.unstable_ImmediatePriority,sT=Zt.unstable_UserBlockingPriority,Su=Zt.unstable_NormalPriority,$P=Zt.unstable_LowPriority,iT=Zt.unstable_IdlePriority,wd=null,$n=null;function zP(t){if($n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(wd,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:HP,BP=Math.log,WP=Math.LN2;function HP(t){return t>>>=0,t===0?32:31-(BP(t)/WP|0)|0}var pc=64,mc=4194304;function Ea(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Iu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ea(a):(i&=o,i!==0&&(r=Ea(i)))}else o=n&~s,o!==0?r=Ea(o):i!==0&&(r=Ea(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),s=1<<n,r|=t[n],e&=~s;return r}function qP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-In(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=qP(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Zf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function oT(){var t=pc;return pc<<=1,!(pc&4194240)&&(pc=64),t}function zh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Il(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function GP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-In(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function aT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lT,Dm,cT,uT,dT,ep=!1,gc=[],Zr=null,es=null,ts=null,Ka=new Map,Ga=new Map,Ur=[],QP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jv(t,e){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":Ka.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(e.pointerId)}}function da(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Cl(e),e!==null&&Dm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function YP(t,e,n,r,s){switch(e){case"focusin":return Zr=da(Zr,t,e,n,r,s),!0;case"dragenter":return es=da(es,t,e,n,r,s),!0;case"mouseover":return ts=da(ts,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ka.set(i,da(Ka.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ga.set(i,da(Ga.get(i)||null,t,e,n,r,s)),!0}return!1}function hT(t){var e=Us(t.target);if(e!==null){var n=hi(e);if(n!==null){if(e=n.tag,e===13){if(e=eT(n),e!==null){t.blockedOn=e,dT(t.priority,function(){cT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=tp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qf=r,n.target.dispatchEvent(r),Qf=null}else return e=Cl(n),e!==null&&Dm(e),t.blockedOn=n,!1;e.shift()}return!0}function Zv(t,e,n){Kc(t)&&n.delete(e)}function XP(){ep=!1,Zr!==null&&Kc(Zr)&&(Zr=null),es!==null&&Kc(es)&&(es=null),ts!==null&&Kc(ts)&&(ts=null),Ka.forEach(Zv),Ga.forEach(Zv)}function ha(t,e){t.blockedOn===e&&(t.blockedOn=null,ep||(ep=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,XP)))}function Qa(t){function e(s){return ha(s,t)}if(0<gc.length){ha(gc[0],t);for(var n=1;n<gc.length;n++){var r=gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zr!==null&&ha(Zr,t),es!==null&&ha(es,t),ts!==null&&ha(ts,t),Ka.forEach(e),Ga.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)hT(n),n.blockedOn===null&&Ur.shift()}var Gi=xr.ReactCurrentBatchConfig,bu=!0;function JP(t,e,n,r){var s=Ae,i=Gi.transition;Gi.transition=null;try{Ae=1,Om(t,e,n,r)}finally{Ae=s,Gi.transition=i}}function ZP(t,e,n,r){var s=Ae,i=Gi.transition;Gi.transition=null;try{Ae=4,Om(t,e,n,r)}finally{Ae=s,Gi.transition=i}}function Om(t,e,n,r){if(bu){var s=tp(t,e,n,r);if(s===null)Jh(t,e,r,Cu,n),Jv(t,r);else if(YP(s,t,e,n,r))r.stopPropagation();else if(Jv(t,r),e&4&&-1<QP.indexOf(t)){for(;s!==null;){var i=Cl(s);if(i!==null&&lT(i),i=tp(t,e,n,r),i===null&&Jh(t,e,r,Cu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Jh(t,e,r,null,n)}}var Cu=null;function tp(t,e,n,r){if(Cu=null,t=Rm(r),t=Us(t),t!==null)if(e=hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cu=t,null}function fT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UP()){case km:return 1;case sT:return 4;case Su:case $P:return 16;case iT:return 536870912;default:return 16}default:return 16}}var Yr=null,Mm=null,Gc=null;function pT(){if(Gc)return Gc;var t,e=Mm,n=e.length,r,s="value"in Yr?Yr.value:Yr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gc=s.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yc(){return!0}function e0(){return!1}function nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yc:e0,this.isPropagationStopped=e0,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=yc)},persist:function(){},isPersistent:yc}),e}var Mo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lm=nn(Mo),bl=$e({},Mo,{view:0,detail:0}),eR=nn(bl),Bh,Wh,fa,_d=$e({},bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fa&&(fa&&t.type==="mousemove"?(Bh=t.screenX-fa.screenX,Wh=t.screenY-fa.screenY):Wh=Bh=0,fa=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:Wh}}),t0=nn(_d),tR=$e({},_d,{dataTransfer:0}),nR=nn(tR),rR=$e({},bl,{relatedTarget:0}),Hh=nn(rR),sR=$e({},Mo,{animationName:0,elapsedTime:0,pseudoElement:0}),iR=nn(sR),oR=$e({},Mo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aR=nn(oR),lR=$e({},Mo,{data:0}),n0=nn(lR),cR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dR[t])?!!e[t]:!1}function Vm(){return hR}var fR=$e({},bl,{key:function(t){if(t.key){var e=cR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pR=nn(fR),mR=$e({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r0=nn(mR),gR=$e({},bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),yR=nn(gR),vR=$e({},Mo,{propertyName:0,elapsedTime:0,pseudoElement:0}),wR=nn(vR),_R=$e({},_d,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ER=nn(_R),TR=[9,13,27,32],jm=hr&&"CompositionEvent"in window,ka=null;hr&&"documentMode"in document&&(ka=document.documentMode);var xR=hr&&"TextEvent"in window&&!ka,mT=hr&&(!jm||ka&&8<ka&&11>=ka),s0=" ",i0=!1;function gT(t,e){switch(t){case"keyup":return TR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oi=!1;function SR(t,e){switch(t){case"compositionend":return yT(e);case"keypress":return e.which!==32?null:(i0=!0,s0);case"textInput":return t=e.data,t===s0&&i0?null:t;default:return null}}function IR(t,e){if(Oi)return t==="compositionend"||!jm&&gT(t,e)?(t=pT(),Gc=Mm=Yr=null,Oi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mT&&e.locale!=="ko"?null:e.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bR[t.type]:e==="textarea"}function vT(t,e,n,r){QE(r),e=Au(e,"onChange"),0<e.length&&(n=new Lm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Na=null,Ya=null;function CR(t){PT(t,0)}function Ed(t){var e=Vi(t);if(zE(e))return t}function AR(t,e){if(t==="change")return e}var wT=!1;if(hr){var qh;if(hr){var Kh="oninput"in document;if(!Kh){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),Kh=typeof a0.oninput=="function"}qh=Kh}else qh=!1;wT=qh&&(!document.documentMode||9<document.documentMode)}function l0(){Na&&(Na.detachEvent("onpropertychange",_T),Ya=Na=null)}function _T(t){if(t.propertyName==="value"&&Ed(Ya)){var e=[];vT(e,Ya,t,Rm(t)),ZE(CR,e)}}function PR(t,e,n){t==="focusin"?(l0(),Na=e,Ya=n,Na.attachEvent("onpropertychange",_T)):t==="focusout"&&l0()}function RR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ed(Ya)}function kR(t,e){if(t==="click")return Ed(e)}function NR(t,e){if(t==="input"||t==="change")return Ed(e)}function DR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var An=typeof Object.is=="function"?Object.is:DR;function Xa(t,e){if(An(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Vf.call(e,s)||!An(t[s],e[s]))return!1}return!0}function c0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function u0(t,e){var n=c0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=c0(n)}}function ET(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ET(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TT(){for(var t=window,e=Eu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Eu(t.document)}return e}function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OR(t){var e=TT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ET(n.ownerDocument.documentElement,n)){if(r!==null&&Fm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=u0(n,i);var o=u0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MR=hr&&"documentMode"in document&&11>=document.documentMode,Mi=null,np=null,Da=null,rp=!1;function d0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rp||Mi==null||Mi!==Eu(r)||(r=Mi,"selectionStart"in r&&Fm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Da&&Xa(Da,r)||(Da=r,r=Au(np,"onSelect"),0<r.length&&(e=new Lm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mi)))}function vc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Li={animationend:vc("Animation","AnimationEnd"),animationiteration:vc("Animation","AnimationIteration"),animationstart:vc("Animation","AnimationStart"),transitionend:vc("Transition","TransitionEnd")},Gh={},xT={};hr&&(xT=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function Td(t){if(Gh[t])return Gh[t];if(!Li[t])return t;var e=Li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xT)return Gh[t]=e[n];return t}var ST=Td("animationend"),IT=Td("animationiteration"),bT=Td("animationstart"),CT=Td("transitionend"),AT=new Map,h0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){AT.set(t,e),di(e,[t])}for(var Qh=0;Qh<h0.length;Qh++){var Yh=h0[Qh],LR=Yh.toLowerCase(),VR=Yh[0].toUpperCase()+Yh.slice(1);Ss(LR,"on"+VR)}Ss(ST,"onAnimationEnd");Ss(IT,"onAnimationIteration");Ss(bT,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(CT,"onTransitionEnd");mo("onMouseEnter",["mouseout","mouseover"]);mo("onMouseLeave",["mouseout","mouseover"]);mo("onPointerEnter",["pointerout","pointerover"]);mo("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function f0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LP(r,e,void 0,t),t.currentTarget=null}function PT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;f0(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;f0(s,a,u),i=c}}}if(xu)throw t=Jf,xu=!1,Jf=null,t}function Me(t,e){var n=e[lp];n===void 0&&(n=e[lp]=new Set);var r=t+"__bubble";n.has(r)||(RT(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),RT(n,t,r,e)}var wc="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[wc]){t[wc]=!0,VE.forEach(function(n){n!=="selectionchange"&&(jR.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wc]||(e[wc]=!0,Xh("selectionchange",!1,e))}}function RT(t,e,n,r){switch(fT(e)){case 1:var s=JP;break;case 4:s=ZP;break;default:s=Om}n=s.bind(null,e,n,t),s=void 0,!Xf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Jh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Us(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}ZE(function(){var u=i,d=Rm(n),p=[];e:{var m=AT.get(t);if(m!==void 0){var w=Lm,x=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":w=pR;break;case"focusin":x="focus",w=Hh;break;case"focusout":x="blur",w=Hh;break;case"beforeblur":case"afterblur":w=Hh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=t0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=nR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=yR;break;case ST:case IT:case bT:w=iR;break;case CT:w=wR;break;case"scroll":w=eR;break;case"wheel":w=ER;break;case"copy":case"cut":case"paste":w=aR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=r0}var y=(e&4)!==0,S=!y&&t==="scroll",E=y?m!==null?m+"Capture":null:m;y=[];for(var _=u,T;_!==null;){T=_;var k=T.stateNode;if(T.tag===5&&k!==null&&(T=k,E!==null&&(k=qa(_,E),k!=null&&y.push(Za(_,k,T)))),S)break;_=_.return}0<y.length&&(m=new w(m,x,null,n,d),p.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Qf&&(x=n.relatedTarget||n.fromElement)&&(Us(x)||x[fr]))break e;if((w||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,w?(x=n.relatedTarget||n.toElement,w=u,x=x?Us(x):null,x!==null&&(S=hi(x),x!==S||x.tag!==5&&x.tag!==6)&&(x=null)):(w=null,x=u),w!==x)){if(y=t0,k="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=r0,k="onPointerLeave",E="onPointerEnter",_="pointer"),S=w==null?m:Vi(w),T=x==null?m:Vi(x),m=new y(k,_+"leave",w,n,d),m.target=S,m.relatedTarget=T,k=null,Us(d)===u&&(y=new y(E,_+"enter",x,n,d),y.target=T,y.relatedTarget=S,k=y),S=k,w&&x)t:{for(y=w,E=x,_=0,T=y;T;T=Ti(T))_++;for(T=0,k=E;k;k=Ti(k))T++;for(;0<_-T;)y=Ti(y),_--;for(;0<T-_;)E=Ti(E),T--;for(;_--;){if(y===E||E!==null&&y===E.alternate)break t;y=Ti(y),E=Ti(E)}y=null}else y=null;w!==null&&p0(p,m,w,y,!1),x!==null&&S!==null&&p0(p,S,x,y,!0)}}e:{if(m=u?Vi(u):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var O=AR;else if(o0(m))if(wT)O=NR;else{O=RR;var L=PR}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=kR);if(O&&(O=O(t,u))){vT(p,O,n,d);break e}L&&L(t,m,u),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Wf(m,"number",m.value)}switch(L=u?Vi(u):window,t){case"focusin":(o0(L)||L.contentEditable==="true")&&(Mi=L,np=u,Da=null);break;case"focusout":Da=np=Mi=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,d0(p,n,d);break;case"selectionchange":if(MR)break;case"keydown":case"keyup":d0(p,n,d)}var b;if(jm)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Oi?gT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(mT&&n.locale!=="ko"&&(Oi||I!=="onCompositionStart"?I==="onCompositionEnd"&&Oi&&(b=pT()):(Yr=d,Mm="value"in Yr?Yr.value:Yr.textContent,Oi=!0)),L=Au(u,I),0<L.length&&(I=new n0(I,t,null,n,d),p.push({event:I,listeners:L}),b?I.data=b:(b=yT(n),b!==null&&(I.data=b)))),(b=xR?SR(t,n):IR(t,n))&&(u=Au(u,"onBeforeInput"),0<u.length&&(d=new n0("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:u}),d.data=b))}PT(p,e)})}function Za(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Au(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=qa(t,n),i!=null&&r.unshift(Za(t,i,s)),i=qa(t,e),i!=null&&r.push(Za(t,i,s))),t=t.return}return r}function Ti(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function p0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=qa(n,i),c!=null&&o.unshift(Za(n,c,a))):s||(c=qa(n,i),c!=null&&o.push(Za(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FR=/\r\n?/g,UR=/\u0000|\uFFFD/g;function m0(t){return(typeof t=="string"?t:""+t).replace(FR,`
`).replace(UR,"")}function _c(t,e,n){if(e=m0(e),m0(t)!==e&&n)throw Error(z(425))}function Pu(){}var sp=null,ip=null;function op(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ap=typeof setTimeout=="function"?setTimeout:void 0,$R=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,zR=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(t){return g0.resolve(null).then(t).catch(BR)}:ap;function BR(t){setTimeout(function(){throw t})}function Zh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Qa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Qa(e)}function ns(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lo=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Lo,el="__reactProps$"+Lo,fr="__reactContainer$"+Lo,lp="__reactEvents$"+Lo,WR="__reactListeners$"+Lo,HR="__reactHandles$"+Lo;function Us(t){var e=t[Fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fr]||n[Fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y0(t);t!==null;){if(n=t[Fn])return n;t=y0(t)}return e}t=n,n=t.parentNode}return null}function Cl(t){return t=t[Fn]||t[fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function xd(t){return t[el]||null}var cp=[],ji=-1;function Is(t){return{current:t}}function Ve(t){0>ji||(t.current=cp[ji],cp[ji]=null,ji--)}function ke(t,e){ji++,cp[ji]=t.current,t.current=e}var ps={},It=Is(ps),zt=Is(!1),Xs=ps;function go(t,e){var n=t.type.contextTypes;if(!n)return ps;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Bt(t){return t=t.childContextTypes,t!=null}function Ru(){Ve(zt),Ve(It)}function v0(t,e,n){if(It.current!==ps)throw Error(z(168));ke(It,e),ke(zt,n)}function kT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,PP(t)||"Unknown",s));return $e({},n,r)}function ku(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ps,Xs=It.current,ke(It,t),ke(zt,zt.current),!0}function w0(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=kT(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,Ve(zt),Ve(It),ke(It,t)):Ve(zt),ke(zt,n)}var rr=null,Sd=!1,ef=!1;function NT(t){rr===null?rr=[t]:rr.push(t)}function qR(t){Sd=!0,NT(t)}function bs(){if(!ef&&rr!==null){ef=!0;var t=0,e=Ae;try{var n=rr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rr=null,Sd=!1}catch(s){throw rr!==null&&(rr=rr.slice(t+1)),rT(km,bs),s}finally{Ae=e,ef=!1}}return null}var Fi=[],Ui=0,Nu=null,Du=0,sn=[],on=0,Js=null,or=1,ar="";function Vs(t,e){Fi[Ui++]=Du,Fi[Ui++]=Nu,Nu=t,Du=e}function DT(t,e,n){sn[on++]=or,sn[on++]=ar,sn[on++]=Js,Js=t;var r=or;t=ar;var s=32-In(r)-1;r&=~(1<<s),n+=1;var i=32-In(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,or=1<<32-In(e)+s|n<<s|r,ar=i+t}else or=1<<i|n<<s|r,ar=t}function Um(t){t.return!==null&&(Vs(t,1),DT(t,1,0))}function $m(t){for(;t===Nu;)Nu=Fi[--Ui],Fi[Ui]=null,Du=Fi[--Ui],Fi[Ui]=null;for(;t===Js;)Js=sn[--on],sn[on]=null,ar=sn[--on],sn[on]=null,or=sn[--on],sn[on]=null}var Yt=null,Qt=null,je=!1,_n=null;function OT(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=ns(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Js!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Qt=null,!0):!1;default:return!1}}function up(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dp(t){if(je){var e=Qt;if(e){var n=e;if(!_0(t,e)){if(up(t))throw Error(z(418));e=ns(n.nextSibling);var r=Yt;e&&_0(t,e)?OT(r,n):(t.flags=t.flags&-4097|2,je=!1,Yt=t)}}else{if(up(t))throw Error(z(418));t.flags=t.flags&-4097|2,je=!1,Yt=t}}}function E0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function Ec(t){if(t!==Yt)return!1;if(!je)return E0(t),je=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!op(t.type,t.memoizedProps)),e&&(e=Qt)){if(up(t))throw MT(),Error(z(418));for(;e;)OT(t,e),e=ns(e.nextSibling)}if(E0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=ns(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Yt?ns(t.stateNode.nextSibling):null;return!0}function MT(){for(var t=Qt;t;)t=ns(t.nextSibling)}function yo(){Qt=Yt=null,je=!1}function zm(t){_n===null?_n=[t]:_n.push(t)}var KR=xr.ReactCurrentBatchConfig;function pa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Tc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function T0(t){var e=t._init;return e(t._payload)}function LT(t){function e(E,_){if(t){var T=E.deletions;T===null?(E.deletions=[_],E.flags|=16):T.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=os(E,_),E.index=0,E.sibling=null,E}function i(E,_,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<_?(E.flags|=2,_):T):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,T,k){return _===null||_.tag!==6?(_=lf(T,E.mode,k),_.return=E,_):(_=s(_,T),_.return=E,_)}function c(E,_,T,k){var O=T.type;return O===Di?d(E,_,T.props.children,k,T.key):_!==null&&(_.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===jr&&T0(O)===_.type)?(k=s(_,T.props),k.ref=pa(E,_,T),k.return=E,k):(k=nu(T.type,T.key,T.props,null,E.mode,k),k.ref=pa(E,_,T),k.return=E,k)}function u(E,_,T,k){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=cf(T,E.mode,k),_.return=E,_):(_=s(_,T.children||[]),_.return=E,_)}function d(E,_,T,k,O){return _===null||_.tag!==7?(_=Ys(T,E.mode,k,O),_.return=E,_):(_=s(_,T),_.return=E,_)}function p(E,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=lf(""+_,E.mode,T),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dc:return T=nu(_.type,_.key,_.props,null,E.mode,T),T.ref=pa(E,null,_),T.return=E,T;case Ni:return _=cf(_,E.mode,T),_.return=E,_;case jr:var k=_._init;return p(E,k(_._payload),T)}if(_a(_)||ca(_))return _=Ys(_,E.mode,T,null),_.return=E,_;Tc(E,_)}return null}function m(E,_,T,k){var O=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(E,_,""+T,k);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case dc:return T.key===O?c(E,_,T,k):null;case Ni:return T.key===O?u(E,_,T,k):null;case jr:return O=T._init,m(E,_,O(T._payload),k)}if(_a(T)||ca(T))return O!==null?null:d(E,_,T,k,null);Tc(E,T)}return null}function w(E,_,T,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return E=E.get(T)||null,a(_,E,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case dc:return E=E.get(k.key===null?T:k.key)||null,c(_,E,k,O);case Ni:return E=E.get(k.key===null?T:k.key)||null,u(_,E,k,O);case jr:var L=k._init;return w(E,_,T,L(k._payload),O)}if(_a(k)||ca(k))return E=E.get(T)||null,d(_,E,k,O,null);Tc(_,k)}return null}function x(E,_,T,k){for(var O=null,L=null,b=_,I=_=0,A=null;b!==null&&I<T.length;I++){b.index>I?(A=b,b=null):A=b.sibling;var P=m(E,b,T[I],k);if(P===null){b===null&&(b=A);break}t&&b&&P.alternate===null&&e(E,b),_=i(P,_,I),L===null?O=P:L.sibling=P,L=P,b=A}if(I===T.length)return n(E,b),je&&Vs(E,I),O;if(b===null){for(;I<T.length;I++)b=p(E,T[I],k),b!==null&&(_=i(b,_,I),L===null?O=b:L.sibling=b,L=b);return je&&Vs(E,I),O}for(b=r(E,b);I<T.length;I++)A=w(b,E,I,T[I],k),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?I:A.key),_=i(A,_,I),L===null?O=A:L.sibling=A,L=A);return t&&b.forEach(function(N){return e(E,N)}),je&&Vs(E,I),O}function y(E,_,T,k){var O=ca(T);if(typeof O!="function")throw Error(z(150));if(T=O.call(T),T==null)throw Error(z(151));for(var L=O=null,b=_,I=_=0,A=null,P=T.next();b!==null&&!P.done;I++,P=T.next()){b.index>I?(A=b,b=null):A=b.sibling;var N=m(E,b,P.value,k);if(N===null){b===null&&(b=A);break}t&&b&&N.alternate===null&&e(E,b),_=i(N,_,I),L===null?O=N:L.sibling=N,L=N,b=A}if(P.done)return n(E,b),je&&Vs(E,I),O;if(b===null){for(;!P.done;I++,P=T.next())P=p(E,P.value,k),P!==null&&(_=i(P,_,I),L===null?O=P:L.sibling=P,L=P);return je&&Vs(E,I),O}for(b=r(E,b);!P.done;I++,P=T.next())P=w(b,E,I,P.value,k),P!==null&&(t&&P.alternate!==null&&b.delete(P.key===null?I:P.key),_=i(P,_,I),L===null?O=P:L.sibling=P,L=P);return t&&b.forEach(function(D){return e(E,D)}),je&&Vs(E,I),O}function S(E,_,T,k){if(typeof T=="object"&&T!==null&&T.type===Di&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case dc:e:{for(var O=T.key,L=_;L!==null;){if(L.key===O){if(O=T.type,O===Di){if(L.tag===7){n(E,L.sibling),_=s(L,T.props.children),_.return=E,E=_;break e}}else if(L.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===jr&&T0(O)===L.type){n(E,L.sibling),_=s(L,T.props),_.ref=pa(E,L,T),_.return=E,E=_;break e}n(E,L);break}else e(E,L);L=L.sibling}T.type===Di?(_=Ys(T.props.children,E.mode,k,T.key),_.return=E,E=_):(k=nu(T.type,T.key,T.props,null,E.mode,k),k.ref=pa(E,_,T),k.return=E,E=k)}return o(E);case Ni:e:{for(L=T.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(E,_.sibling),_=s(_,T.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=cf(T,E.mode,k),_.return=E,E=_}return o(E);case jr:return L=T._init,S(E,_,L(T._payload),k)}if(_a(T))return x(E,_,T,k);if(ca(T))return y(E,_,T,k);Tc(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,T),_.return=E,E=_):(n(E,_),_=lf(T,E.mode,k),_.return=E,E=_),o(E)):n(E,_)}return S}var vo=LT(!0),VT=LT(!1),Ou=Is(null),Mu=null,$i=null,Bm=null;function Wm(){Bm=$i=Mu=null}function Hm(t){var e=Ou.current;Ve(Ou),t._currentValue=e}function hp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qi(t,e){Mu=t,Bm=$i=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($t=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(Bm!==t)if(t={context:t,memoizedValue:e,next:null},$i===null){if(Mu===null)throw Error(z(308));$i=t,Mu.dependencies={lanes:0,firstContext:t}}else $i=$i.next=t;return e}var $s=null;function qm(t){$s===null?$s=[t]:$s.push(t)}function jT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,qm(e)):(n.next=s.next,s.next=n),e.interleaved=n,pr(t,r)}function pr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fr=!1;function Km(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pr(t,n)}return s=r.interleaved,s===null?(e.next=e,qm(r)):(e.next=s.next,s.next=e),r.interleaved=e,pr(t,n)}function Yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}function x0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Lu(t,e,n,r){var s=t.updateQueue;Fr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,d=u=c=null,a=i;do{var m=a.lane,w=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,y=a;switch(m=e,w=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){p=x.call(w,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(w,p,m):x,m==null)break e;p=$e({},p,m);break e;case 2:Fr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=w,c=p):d=d.next=w,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ei|=o,t.lanes=o,t.memoizedState=p}}function S0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Al={},zn=Is(Al),tl=Is(Al),nl=Is(Al);function zs(t){if(t===Al)throw Error(z(174));return t}function Gm(t,e){switch(ke(nl,e),ke(tl,t),ke(zn,Al),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:qf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=qf(e,t)}Ve(zn),ke(zn,e)}function wo(){Ve(zn),Ve(tl),Ve(nl)}function UT(t){zs(nl.current);var e=zs(zn.current),n=qf(e,t.type);e!==n&&(ke(tl,t),ke(zn,n))}function Qm(t){tl.current===t&&(Ve(zn),Ve(tl))}var Fe=Is(0);function Vu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tf=[];function Ym(){for(var t=0;t<tf.length;t++)tf[t]._workInProgressVersionPrimary=null;tf.length=0}var Xc=xr.ReactCurrentDispatcher,nf=xr.ReactCurrentBatchConfig,Zs=0,Ue=null,Ze=null,st=null,ju=!1,Oa=!1,rl=0,GR=0;function vt(){throw Error(z(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!An(t[n],e[n]))return!1;return!0}function Jm(t,e,n,r,s,i){if(Zs=i,Ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xc.current=t===null||t.memoizedState===null?JR:ZR,t=n(r,s),Oa){i=0;do{if(Oa=!1,rl=0,25<=i)throw Error(z(301));i+=1,st=Ze=null,e.updateQueue=null,Xc.current=ek,t=n(r,s)}while(Oa)}if(Xc.current=Fu,e=Ze!==null&&Ze.next!==null,Zs=0,st=Ze=Ue=null,ju=!1,e)throw Error(z(300));return t}function Zm(){var t=rl!==0;return rl=0,t}function On(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?Ue.memoizedState=st=t:st=st.next=t,st}function dn(){if(Ze===null){var t=Ue.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var e=st===null?Ue.memoizedState:st.next;if(e!==null)st=e,Ze=t;else{if(t===null)throw Error(z(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},st===null?Ue.memoizedState=st=t:st=st.next=t}return st}function sl(t,e){return typeof e=="function"?e(t):e}function rf(t){var e=dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ze,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Zs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,Ue.lanes|=d,ei|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,An(r,e.memoizedState)||($t=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ue.lanes|=i,ei|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sf(t){var e=dn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);An(i,e.memoizedState)||($t=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function $T(){}function zT(t,e){var n=Ue,r=dn(),s=e(),i=!An(r.memoizedState,s);if(i&&(r.memoizedState=s,$t=!0),r=r.queue,eg(HT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||st!==null&&st.memoizedState.tag&1){if(n.flags|=2048,il(9,WT.bind(null,n,r,s,e),void 0,null),it===null)throw Error(z(349));Zs&30||BT(n,e,s)}return s}function BT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WT(t,e,n,r){e.value=n,e.getSnapshot=r,qT(e)&&KT(t)}function HT(t,e,n){return n(function(){qT(e)&&KT(t)})}function qT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!An(t,n)}catch{return!0}}function KT(t){var e=pr(t,1);e!==null&&bn(e,t,1,-1)}function I0(t){var e=On();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sl,lastRenderedState:t},e.queue=t,t=t.dispatch=XR.bind(null,Ue,t),[e.memoizedState,t]}function il(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ue.updateQueue,e===null?(e={lastEffect:null,stores:null},Ue.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GT(){return dn().memoizedState}function Jc(t,e,n,r){var s=On();Ue.flags|=t,s.memoizedState=il(1|e,n,void 0,r===void 0?null:r)}function Id(t,e,n,r){var s=dn();r=r===void 0?null:r;var i=void 0;if(Ze!==null){var o=Ze.memoizedState;if(i=o.destroy,r!==null&&Xm(r,o.deps)){s.memoizedState=il(e,n,i,r);return}}Ue.flags|=t,s.memoizedState=il(1|e,n,i,r)}function b0(t,e){return Jc(8390656,8,t,e)}function eg(t,e){return Id(2048,8,t,e)}function QT(t,e){return Id(4,2,t,e)}function YT(t,e){return Id(4,4,t,e)}function XT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function JT(t,e,n){return n=n!=null?n.concat([t]):null,Id(4,4,XT.bind(null,e,t),n)}function tg(){}function ZT(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ex(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tx(t,e,n){return Zs&21?(An(n,e)||(n=oT(),Ue.lanes|=n,ei|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$t=!0),t.memoizedState=n)}function QR(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=nf.transition;nf.transition={};try{t(!1),e()}finally{Ae=n,nf.transition=r}}function nx(){return dn().memoizedState}function YR(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rx(t))sx(e,n);else if(n=jT(t,e,n,r),n!==null){var s=Ot();bn(n,t,r,s),ix(n,e,r)}}function XR(t,e,n){var r=is(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rx(t))sx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,An(a,o)){var c=e.interleaved;c===null?(s.next=s,qm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=jT(t,e,s,r),n!==null&&(s=Ot(),bn(n,t,r,s),ix(n,e,r))}}function rx(t){var e=t.alternate;return t===Ue||e!==null&&e===Ue}function sx(t,e){Oa=ju=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ix(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}var Fu={readContext:un,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},JR={readContext:un,useCallback:function(t,e){return On().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:b0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jc(4194308,4,XT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jc(4,2,t,e)},useMemo:function(t,e){var n=On();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=On();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YR.bind(null,Ue,t),[r.memoizedState,t]},useRef:function(t){var e=On();return t={current:t},e.memoizedState=t},useState:I0,useDebugValue:tg,useDeferredValue:function(t){return On().memoizedState=t},useTransition:function(){var t=I0(!1),e=t[0];return t=QR.bind(null,t[1]),On().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ue,s=On();if(je){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),it===null)throw Error(z(349));Zs&30||BT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,b0(HT.bind(null,r,i,t),[t]),r.flags|=2048,il(9,WT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=On(),e=it.identifierPrefix;if(je){var n=ar,r=or;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZR={readContext:un,useCallback:ZT,useContext:un,useEffect:eg,useImperativeHandle:JT,useInsertionEffect:QT,useLayoutEffect:YT,useMemo:ex,useReducer:rf,useRef:GT,useState:function(){return rf(sl)},useDebugValue:tg,useDeferredValue:function(t){var e=dn();return tx(e,Ze.memoizedState,t)},useTransition:function(){var t=rf(sl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:$T,useSyncExternalStore:zT,useId:nx,unstable_isNewReconciler:!1},ek={readContext:un,useCallback:ZT,useContext:un,useEffect:eg,useImperativeHandle:JT,useInsertionEffect:QT,useLayoutEffect:YT,useMemo:ex,useReducer:sf,useRef:GT,useState:function(){return sf(sl)},useDebugValue:tg,useDeferredValue:function(t){var e=dn();return Ze===null?e.memoizedState=t:tx(e,Ze.memoizedState,t)},useTransition:function(){var t=sf(sl)[0],e=dn().memoizedState;return[t,e]},useMutableSource:$T,useSyncExternalStore:zT,useId:nx,unstable_isNewReconciler:!1};function gn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bd={isMounted:function(t){return(t=t._reactInternals)?hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=is(t),i=ur(r,s);i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(bn(e,t,s,r),Yc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ot(),s=is(t),i=ur(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=rs(t,i,s),e!==null&&(bn(e,t,s,r),Yc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ot(),r=is(t),s=ur(n,r);s.tag=2,e!=null&&(s.callback=e),e=rs(t,s,r),e!==null&&(bn(e,t,r,n),Yc(e,t,r))}};function C0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Xa(n,r)||!Xa(s,i):!0}function ox(t,e,n){var r=!1,s=ps,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=Bt(e)?Xs:It.current,r=e.contextTypes,i=(r=r!=null)?go(t,s):ps),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function A0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bd.enqueueReplaceState(e,e.state,null)}function pp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Km(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=Bt(e)?Xs:It.current,s.context=go(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&bd.enqueueReplaceState(s,s.state,null),Lu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function _o(t,e){try{var n="",r=e;do n+=AP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function of(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function mp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tk=typeof WeakMap=="function"?WeakMap:Map;function ax(t,e,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$u||($u=!0,Ip=r),mp(t,e)},n}function lx(t,e,n){n=ur(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){mp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){mp(t,e),typeof r!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function P0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tk;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=mk.bind(null,t,e,n),e.then(t,t))}function R0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function k0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ur(-1,1),e.tag=2,rs(n,e,1))),n.lanes|=1),t)}var nk=xr.ReactCurrentOwner,$t=!1;function Nt(t,e,n,r){e.child=t===null?VT(e,null,n,r):vo(e,t.child,n,r)}function N0(t,e,n,r,s){n=n.render;var i=e.ref;return Qi(e,s),r=Jm(t,e,n,r,i,s),n=Zm(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mr(t,e,s)):(je&&n&&Um(e),e.flags|=1,Nt(t,e,r,s),e.child)}function D0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!cg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,cx(t,e,i,r,s)):(t=nu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Xa,n(o,r)&&t.ref===e.ref)return mr(t,e,s)}return e.flags|=1,t=os(i,r),t.ref=e.ref,t.return=e,e.child=t}function cx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Xa(i,r)&&t.ref===e.ref)if($t=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&($t=!0);else return e.lanes=t.lanes,mr(t,e,s)}return gp(t,e,n,r,s)}function ux(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Bi,Kt),Kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ke(Bi,Kt),Kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ke(Bi,Kt),Kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ke(Bi,Kt),Kt|=r;return Nt(t,e,s,n),e.child}function dx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gp(t,e,n,r,s){var i=Bt(n)?Xs:It.current;return i=go(e,i),Qi(e,s),n=Jm(t,e,n,r,i,s),r=Zm(),t!==null&&!$t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mr(t,e,s)):(je&&r&&Um(e),e.flags|=1,Nt(t,e,n,s),e.child)}function O0(t,e,n,r,s){if(Bt(n)){var i=!0;ku(e)}else i=!1;if(Qi(e,s),e.stateNode===null)Zc(t,e),ox(e,n,r),pp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=un(u):(u=Bt(n)?Xs:It.current,u=go(e,u));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&A0(e,o,r,u),Fr=!1;var m=e.memoizedState;o.state=m,Lu(e,r,o,s),c=e.memoizedState,a!==r||m!==c||zt.current||Fr?(typeof d=="function"&&(fp(e,n,d,r),c=e.memoizedState),(a=Fr||C0(e,n,a,r,m,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:gn(e.type,a),o.props=u,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=un(c):(c=Bt(n)?Xs:It.current,c=go(e,c));var w=n.getDerivedStateFromProps;(d=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&A0(e,o,r,c),Fr=!1,m=e.memoizedState,o.state=m,Lu(e,r,o,s);var x=e.memoizedState;a!==p||m!==x||zt.current||Fr?(typeof w=="function"&&(fp(e,n,w,r),x=e.memoizedState),(u=Fr||C0(e,n,u,r,m,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return yp(t,e,n,r,i,s)}function yp(t,e,n,r,s,i){dx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&w0(e,n,!1),mr(t,e,i);r=e.stateNode,nk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vo(e,t.child,null,i),e.child=vo(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&w0(e,n,!0),e.child}function hx(t){var e=t.stateNode;e.pendingContext?v0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&v0(t,e.context,!1),Gm(t,e.containerInfo)}function M0(t,e,n,r,s){return yo(),zm(s),e.flags|=256,Nt(t,e,n,r),e.child}var vp={dehydrated:null,treeContext:null,retryLane:0};function wp(t){return{baseLanes:t,cachePool:null,transitions:null}}function fx(t,e,n){var r=e.pendingProps,s=Fe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ke(Fe,s&1),t===null)return dp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Pd(o,r,0,null),t=Ys(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wp(n),e.memoizedState=vp,t):ng(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return rk(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=os(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=os(a,i):(i=Ys(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?wp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=vp,r}return i=t.child,t=i.sibling,r=os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ng(t,e){return e=Pd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xc(t,e,n,r){return r!==null&&zm(r),vo(e,t.child,null,n),t=ng(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rk(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=of(Error(z(422))),xc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Pd({mode:"visible",children:r.children},s,0,null),i=Ys(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&vo(e,t.child,null,o),e.child.memoizedState=wp(o),e.memoizedState=vp,i);if(!(e.mode&1))return xc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=of(i,r,void 0),xc(t,e,o,r)}if(a=(o&t.childLanes)!==0,$t||a){if(r=it,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pr(t,s),bn(r,t,s,-1))}return lg(),r=of(Error(z(421))),xc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=gk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=ns(s.nextSibling),Yt=e,je=!0,_n=null,t!==null&&(sn[on++]=or,sn[on++]=ar,sn[on++]=Js,or=t.id,ar=t.overflow,Js=e),e=ng(e,r.children),e.flags|=4096,e)}function L0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),hp(t.return,e,n)}function af(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function px(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=Fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L0(t,n,e);else if(t.tag===19)L0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Fe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),af(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}af(e,!0,n,null,i);break;case"together":af(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ei|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function sk(t,e,n){switch(e.tag){case 3:hx(e),yo();break;case 5:UT(e);break;case 1:Bt(e.type)&&ku(e);break;case 4:Gm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ke(Ou,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ke(Fe,Fe.current&1),e.flags|=128,null):n&e.child.childLanes?fx(t,e,n):(ke(Fe,Fe.current&1),t=mr(t,e,n),t!==null?t.sibling:null);ke(Fe,Fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return px(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Fe,Fe.current),r)break;return null;case 22:case 23:return e.lanes=0,ux(t,e,n)}return mr(t,e,n)}var mx,_p,gx,yx;mx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_p=function(){};gx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,zs(zn.current);var i=null;switch(n){case"input":s=zf(t,s),r=zf(t,r),i=[];break;case"select":s=$e({},s,{value:void 0}),r=$e({},r,{value:void 0}),i=[];break;case"textarea":s=Hf(t,s),r=Hf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Pu)}Kf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wa.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};yx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ma(t,e){if(!je)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ik(t,e,n){var r=e.pendingProps;switch($m(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(e),null;case 1:return Bt(e.type)&&Ru(),wt(e),null;case 3:return r=e.stateNode,wo(),Ve(zt),Ve(It),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ec(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Ap(_n),_n=null))),_p(t,e),wt(e),null;case 5:Qm(e);var s=zs(nl.current);if(n=e.type,t!==null&&e.stateNode!=null)gx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return wt(e),null}if(t=zs(zn.current),Ec(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Fn]=e,r[el]=i,t=(e.mode&1)!==0,n){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(s=0;s<Ta.length;s++)Me(Ta[s],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Hv(r,i),Me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Me("invalid",r);break;case"textarea":Kv(r,i),Me("invalid",r)}Kf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_c(r.textContent,a,t),s=["children",""+a]):Wa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Me("scroll",r)}switch(n){case"input":hc(r),qv(r,i,!0);break;case"textarea":hc(r),Gv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Pu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fn]=e,t[el]=r,mx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Gf(n,r),n){case"dialog":Me("cancel",t),Me("close",t),s=r;break;case"iframe":case"object":case"embed":Me("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ta.length;s++)Me(Ta[s],t);s=r;break;case"source":Me("error",t),s=r;break;case"img":case"image":case"link":Me("error",t),Me("load",t),s=r;break;case"details":Me("toggle",t),s=r;break;case"input":Hv(t,r),s=zf(t,r),Me("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=$e({},r,{value:void 0}),Me("invalid",t);break;case"textarea":Kv(t,r),s=Hf(t,r),Me("invalid",t);break;default:s=r}Kf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?GE(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&qE(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ha(t,c):typeof c=="number"&&Ha(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wa.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Me("scroll",t):c!=null&&bm(t,i,c,o))}switch(n){case"input":hc(t),qv(t,r,!1);break;case"textarea":hc(t),Gv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Hi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Hi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Pu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wt(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=zs(nl.current),zs(zn.current),Ec(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fn]=e,(i=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:_c(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_c(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fn]=e,e.stateNode=r}return wt(e),null;case 13:if(Ve(Fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Qt!==null&&e.mode&1&&!(e.flags&128))MT(),yo(),e.flags|=98560,i=!1;else if(i=Ec(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[Fn]=e}else yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wt(e),i=!1}else _n!==null&&(Ap(_n),_n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Fe.current&1?et===0&&(et=3):lg())),e.updateQueue!==null&&(e.flags|=4),wt(e),null);case 4:return wo(),_p(t,e),t===null&&Ja(e.stateNode.containerInfo),wt(e),null;case 10:return Hm(e.type._context),wt(e),null;case 17:return Bt(e.type)&&Ru(),wt(e),null;case 19:if(Ve(Fe),i=e.memoizedState,i===null)return wt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ma(i,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vu(t),o!==null){for(e.flags|=128,ma(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Fe,Fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ge()>Eo&&(e.flags|=128,r=!0,ma(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ma(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!je)return wt(e),null}else 2*Ge()-i.renderingStartTime>Eo&&n!==1073741824&&(e.flags|=128,r=!0,ma(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ge(),e.sibling=null,n=Fe.current,ke(Fe,r?n&1|2:n&1),e):(wt(e),null);case 22:case 23:return ag(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Kt&1073741824&&(wt(e),e.subtreeFlags&6&&(e.flags|=8192)):wt(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function ok(t,e){switch($m(e),e.tag){case 1:return Bt(e.type)&&Ru(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),Ve(zt),Ve(It),Ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qm(e),null;case 13:if(Ve(Fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(Fe),null;case 4:return wo(),null;case 10:return Hm(e.type._context),null;case 22:case 23:return ag(),null;case 24:return null;default:return null}}var Sc=!1,xt=!1,ak=typeof WeakSet=="function"?WeakSet:Set,Q=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Ep(t,e,n){try{n()}catch(r){He(t,e,r)}}var V0=!1;function lk(t,e){if(sp=bu,t=TT(),Fm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,d=0,p=t,m=null;t:for(;;){for(var w;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++d===r&&(c=o),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ip={focusedElem:t,selectionRange:n},bu=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,S=x.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:gn(e.type,y),S);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=V0,V0=!1,x}function Ma(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ep(e,n,i)}s=s.next}while(s!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Tp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vx(t){var e=t.alternate;e!==null&&(t.alternate=null,vx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fn],delete e[el],delete e[lp],delete e[WR],delete e[HR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wx(t){return t.tag===5||t.tag===3||t.tag===4}function j0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Pu));else if(r!==4&&(t=t.child,t!==null))for(xp(t,e,n),t=t.sibling;t!==null;)xp(t,e,n),t=t.sibling}function Sp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sp(t,e,n),t=t.sibling;t!==null;)Sp(t,e,n),t=t.sibling}var lt=null,wn=!1;function kr(t,e,n){for(n=n.child;n!==null;)_x(t,e,n),n=n.sibling}function _x(t,e,n){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(wd,n)}catch{}switch(n.tag){case 5:xt||zi(n,e);case 6:var r=lt,s=wn;lt=null,kr(t,e,n),lt=r,wn=s,lt!==null&&(wn?(t=lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):lt.removeChild(n.stateNode));break;case 18:lt!==null&&(wn?(t=lt,n=n.stateNode,t.nodeType===8?Zh(t.parentNode,n):t.nodeType===1&&Zh(t,n),Qa(t)):Zh(lt,n.stateNode));break;case 4:r=lt,s=wn,lt=n.stateNode.containerInfo,wn=!0,kr(t,e,n),lt=r,wn=s;break;case 0:case 11:case 14:case 15:if(!xt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ep(n,e,o),s=s.next}while(s!==r)}kr(t,e,n);break;case 1:if(!xt&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}kr(t,e,n);break;case 21:kr(t,e,n);break;case 22:n.mode&1?(xt=(r=xt)||n.memoizedState!==null,kr(t,e,n),xt=r):kr(t,e,n);break;default:kr(t,e,n)}}function F0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ak),e.forEach(function(r){var s=yk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:lt=a.stateNode,wn=!1;break e;case 3:lt=a.stateNode.containerInfo,wn=!0;break e;case 4:lt=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(lt===null)throw Error(z(160));_x(i,o,s),lt=null,wn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){He(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ex(e,t),e=e.sibling}function Ex(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pn(e,t),Dn(t),r&4){try{Ma(3,t,t.return),Cd(3,t)}catch(y){He(t,t.return,y)}try{Ma(5,t,t.return)}catch(y){He(t,t.return,y)}}break;case 1:pn(e,t),Dn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(pn(e,t),Dn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var s=t.stateNode;try{Ha(s,"")}catch(y){He(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&BE(s,i),Gf(a,o);var u=Gf(a,i);for(o=0;o<c.length;o+=2){var d=c[o],p=c[o+1];d==="style"?GE(s,p):d==="dangerouslySetInnerHTML"?qE(s,p):d==="children"?Ha(s,p):bm(s,d,p,u)}switch(a){case"input":Bf(s,i);break;case"textarea":WE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var w=i.value;w!=null?Hi(s,!!i.multiple,w,!1):m!==!!i.multiple&&(i.defaultValue!=null?Hi(s,!!i.multiple,i.defaultValue,!0):Hi(s,!!i.multiple,i.multiple?[]:"",!1))}s[el]=i}catch(y){He(t,t.return,y)}}break;case 6:if(pn(e,t),Dn(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){He(t,t.return,y)}}break;case 3:if(pn(e,t),Dn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qa(e.containerInfo)}catch(y){He(t,t.return,y)}break;case 4:pn(e,t),Dn(t);break;case 13:pn(e,t),Dn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ig=Ge())),r&4&&F0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(xt=(u=xt)||d,pn(e,t),xt=u):pn(e,t),Dn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(m=Q,w=m.child,m.tag){case 0:case 11:case 14:case 15:Ma(4,m,m.return);break;case 1:zi(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(y){He(r,n,y)}}break;case 5:zi(m,m.return);break;case 22:if(m.memoizedState!==null){$0(p);continue}}w!==null?(w.return=m,Q=w):$0(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=KE("display",o))}catch(y){He(t,t.return,y)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(y){He(t,t.return,y)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:pn(e,t),Dn(t),r&4&&F0(t);break;case 21:break;default:pn(e,t),Dn(t)}}function Dn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wx(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ha(s,""),r.flags&=-33);var i=j0(t);Sp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=j0(t);xp(t,a,o);break;default:throw Error(z(161))}}catch(c){He(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ck(t,e,n){Q=t,Tx(t)}function Tx(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var s=Q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||xt;a=Sc;var u=xt;if(Sc=o,(xt=c)&&!u)for(Q=s;Q!==null;)o=Q,c=o.child,o.tag===22&&o.memoizedState!==null?z0(s):c!==null?(c.return=o,Q=c):z0(s);for(;i!==null;)Q=i,Tx(i),i=i.sibling;Q=s,Sc=a,xt=u}U0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Q=i):U0(t)}}function U0(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xt||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:gn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&S0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}S0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Qa(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}xt||e.flags&512&&Tp(e)}catch(m){He(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function $0(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function z0(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(c){He(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){He(e,s,c)}}var i=e.return;try{Tp(e)}catch(c){He(e,i,c)}break;case 5:var o=e.return;try{Tp(e)}catch(c){He(e,o,c)}}}catch(c){He(e,e.return,c)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var uk=Math.ceil,Uu=xr.ReactCurrentDispatcher,rg=xr.ReactCurrentOwner,cn=xr.ReactCurrentBatchConfig,Te=0,it=null,Xe=null,dt=0,Kt=0,Bi=Is(0),et=0,ol=null,ei=0,Ad=0,sg=0,La=null,Ft=null,ig=0,Eo=1/0,nr=null,$u=!1,Ip=null,ss=null,Ic=!1,Xr=null,zu=0,Va=0,bp=null,eu=-1,tu=0;function Ot(){return Te&6?Ge():eu!==-1?eu:eu=Ge()}function is(t){return t.mode&1?Te&2&&dt!==0?dt&-dt:KR.transition!==null?(tu===0&&(tu=oT()),tu):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:fT(t.type)),t):1}function bn(t,e,n,r){if(50<Va)throw Va=0,bp=null,Error(z(185));Il(t,n,r),(!(Te&2)||t!==it)&&(t===it&&(!(Te&2)&&(Ad|=n),et===4&&$r(t,dt)),Wt(t,r),n===1&&Te===0&&!(e.mode&1)&&(Eo=Ge()+500,Sd&&bs()))}function Wt(t,e){var n=t.callbackNode;KP(t,e);var r=Iu(t,t===it?dt:0);if(r===0)n!==null&&Xv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Xv(n),e===1)t.tag===0?qR(B0.bind(null,t)):NT(B0.bind(null,t)),zR(function(){!(Te&6)&&bs()}),n=null;else{switch(aT(r)){case 1:n=km;break;case 4:n=sT;break;case 16:n=Su;break;case 536870912:n=iT;break;default:n=Su}n=Rx(n,xx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xx(t,e){if(eu=-1,tu=0,Te&6)throw Error(z(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=Iu(t,t===it?dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bu(t,r);else{e=r;var s=Te;Te|=2;var i=Ix();(it!==t||dt!==e)&&(nr=null,Eo=Ge()+500,Qs(t,e));do try{fk();break}catch(a){Sx(t,a)}while(!0);Wm(),Uu.current=i,Te=s,Xe!==null?e=0:(it=null,dt=0,e=et)}if(e!==0){if(e===2&&(s=Zf(t),s!==0&&(r=s,e=Cp(t,s))),e===1)throw n=ol,Qs(t,0),$r(t,r),Wt(t,Ge()),n;if(e===6)$r(t,r);else{if(s=t.current.alternate,!(r&30)&&!dk(s)&&(e=Bu(t,r),e===2&&(i=Zf(t),i!==0&&(r=i,e=Cp(t,i))),e===1))throw n=ol,Qs(t,0),$r(t,r),Wt(t,Ge()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:js(t,Ft,nr);break;case 3:if($r(t,r),(r&130023424)===r&&(e=ig+500-Ge(),10<e)){if(Iu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ot(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ap(js.bind(null,t,Ft,nr),e);break}js(t,Ft,nr);break;case 4:if($r(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-In(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uk(r/1960))-r,10<r){t.timeoutHandle=ap(js.bind(null,t,Ft,nr),r);break}js(t,Ft,nr);break;case 5:js(t,Ft,nr);break;default:throw Error(z(329))}}}return Wt(t,Ge()),t.callbackNode===n?xx.bind(null,t):null}function Cp(t,e){var n=La;return t.current.memoizedState.isDehydrated&&(Qs(t,e).flags|=256),t=Bu(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Ap(e)),t}function Ap(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function dk(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!An(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $r(t,e){for(e&=~sg,e&=~Ad,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function B0(t){if(Te&6)throw Error(z(327));Yi();var e=Iu(t,0);if(!(e&1))return Wt(t,Ge()),null;var n=Bu(t,e);if(t.tag!==0&&n===2){var r=Zf(t);r!==0&&(e=r,n=Cp(t,r))}if(n===1)throw n=ol,Qs(t,0),$r(t,e),Wt(t,Ge()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,js(t,Ft,nr),Wt(t,Ge()),null}function og(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Eo=Ge()+500,Sd&&bs())}}function ti(t){Xr!==null&&Xr.tag===0&&!(Te&6)&&Yi();var e=Te;Te|=1;var n=cn.transition,r=Ae;try{if(cn.transition=null,Ae=1,t)return t()}finally{Ae=r,cn.transition=n,Te=e,!(Te&6)&&bs()}}function ag(){Kt=Bi.current,Ve(Bi)}function Qs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,$R(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch($m(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ru();break;case 3:wo(),Ve(zt),Ve(It),Ym();break;case 5:Qm(r);break;case 4:wo();break;case 13:Ve(Fe);break;case 19:Ve(Fe);break;case 10:Hm(r.type._context);break;case 22:case 23:ag()}n=n.return}if(it=t,Xe=t=os(t.current,null),dt=Kt=e,et=0,ol=null,sg=Ad=ei=0,Ft=La=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$s=null}return t}function Sx(t,e){do{var n=Xe;try{if(Wm(),Xc.current=Fu,ju){for(var r=Ue.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ju=!1}if(Zs=0,st=Ze=Ue=null,Oa=!1,rl=0,rg.current=null,n===null||n.return===null){et=1,ol=e,Xe=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=dt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=R0(o);if(w!==null){w.flags&=-257,k0(w,o,a,i,e),w.mode&1&&P0(i,u,e),e=w,c=u;var x=e.updateQueue;if(x===null){var y=new Set;y.add(c),e.updateQueue=y}else x.add(c);break e}else{if(!(e&1)){P0(i,u,e),lg();break e}c=Error(z(426))}}else if(je&&a.mode&1){var S=R0(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),k0(S,o,a,i,e),zm(_o(c,a));break e}}i=c=_o(c,a),et!==4&&(et=2),La===null?La=[i]:La.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=ax(i,c,e);x0(i,E);break e;case 1:a=c;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ss===null||!ss.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=lx(i,a,e);x0(i,k);break e}}i=i.return}while(i!==null)}Cx(n)}catch(O){e=O,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function Ix(){var t=Uu.current;return Uu.current=Fu,t===null?Fu:t}function lg(){(et===0||et===3||et===2)&&(et=4),it===null||!(ei&268435455)&&!(Ad&268435455)||$r(it,dt)}function Bu(t,e){var n=Te;Te|=2;var r=Ix();(it!==t||dt!==e)&&(nr=null,Qs(t,e));do try{hk();break}catch(s){Sx(t,s)}while(!0);if(Wm(),Te=n,Uu.current=r,Xe!==null)throw Error(z(261));return it=null,dt=0,et}function hk(){for(;Xe!==null;)bx(Xe)}function fk(){for(;Xe!==null&&!jP();)bx(Xe)}function bx(t){var e=Px(t.alternate,t,Kt);t.memoizedProps=t.pendingProps,e===null?Cx(t):Xe=e,rg.current=null}function Cx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ok(n,e),n!==null){n.flags&=32767,Xe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Xe=null;return}}else if(n=ik(n,e,Kt),n!==null){Xe=n;return}if(e=e.sibling,e!==null){Xe=e;return}Xe=e=t}while(e!==null);et===0&&(et=5)}function js(t,e,n){var r=Ae,s=cn.transition;try{cn.transition=null,Ae=1,pk(t,e,n,r)}finally{cn.transition=s,Ae=r}return null}function pk(t,e,n,r){do Yi();while(Xr!==null);if(Te&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(GP(t,i),t===it&&(Xe=it=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ic||(Ic=!0,Rx(Su,function(){return Yi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=cn.transition,cn.transition=null;var o=Ae;Ae=1;var a=Te;Te|=4,rg.current=null,lk(t,n),Ex(n,t),OR(ip),bu=!!sp,ip=sp=null,t.current=n,ck(n),FP(),Te=a,Ae=o,cn.transition=i}else t.current=n;if(Ic&&(Ic=!1,Xr=t,zu=s),i=t.pendingLanes,i===0&&(ss=null),zP(n.stateNode),Wt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($u)throw $u=!1,t=Ip,Ip=null,t;return zu&1&&t.tag!==0&&Yi(),i=t.pendingLanes,i&1?t===bp?Va++:(Va=0,bp=t):Va=0,bs(),null}function Yi(){if(Xr!==null){var t=aT(zu),e=cn.transition,n=Ae;try{if(cn.transition=null,Ae=16>t?16:t,Xr===null)var r=!1;else{if(t=Xr,Xr=null,zu=0,Te&6)throw Error(z(331));var s=Te;for(Te|=4,Q=t.current;Q!==null;){var i=Q,o=i.child;if(Q.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Q=u;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Ma(8,d,i)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var m=d.sibling,w=d.return;if(vx(d),d===u){Q=null;break}if(m!==null){m.return=w,Q=m;break}Q=w}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}Q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Q=o;else e:for(;Q!==null;){if(i=Q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ma(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,Q=E;break e}Q=i.return}}var _=t.current;for(Q=_;Q!==null;){o=Q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Q=T;else e:for(o=_;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(O){He(a,a.return,O)}if(a===o){Q=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Q=k;break e}Q=a.return}}if(Te=s,bs(),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(wd,t)}catch{}r=!0}return r}finally{Ae=n,cn.transition=e}}return!1}function W0(t,e,n){e=_o(n,e),e=ax(t,e,1),t=rs(t,e,1),e=Ot(),t!==null&&(Il(t,1,e),Wt(t,e))}function He(t,e,n){if(t.tag===3)W0(t,t,n);else for(;e!==null;){if(e.tag===3){W0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ss===null||!ss.has(r))){t=_o(n,t),t=lx(e,t,1),e=rs(e,t,1),t=Ot(),e!==null&&(Il(e,1,t),Wt(e,t));break}}e=e.return}}function mk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ot(),t.pingedLanes|=t.suspendedLanes&n,it===t&&(dt&n)===n&&(et===4||et===3&&(dt&130023424)===dt&&500>Ge()-ig?Qs(t,0):sg|=n),Wt(t,e)}function Ax(t,e){e===0&&(t.mode&1?(e=mc,mc<<=1,!(mc&130023424)&&(mc=4194304)):e=1);var n=Ot();t=pr(t,e),t!==null&&(Il(t,e,n),Wt(t,n))}function gk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ax(t,n)}function yk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Ax(t,n)}var Px;Px=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zt.current)$t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return $t=!1,sk(t,e,n);$t=!!(t.flags&131072)}else $t=!1,je&&e.flags&1048576&&DT(e,Du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zc(t,e),t=e.pendingProps;var s=go(e,It.current);Qi(e,n),s=Jm(null,e,r,t,s,n);var i=Zm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bt(r)?(i=!0,ku(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Km(e),s.updater=bd,e.stateNode=s,s._reactInternals=e,pp(e,r,t,n),e=yp(null,e,r,!0,i,n)):(e.tag=0,je&&i&&Um(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=wk(r),t=gn(r,t),s){case 0:e=gp(null,e,r,t,n);break e;case 1:e=O0(null,e,r,t,n);break e;case 11:e=N0(null,e,r,t,n);break e;case 14:e=D0(null,e,r,gn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),gp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),O0(t,e,r,s,n);case 3:e:{if(hx(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,FT(t,e),Lu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=_o(Error(z(423)),e),e=M0(t,e,r,n,s);break e}else if(r!==s){s=_o(Error(z(424)),e),e=M0(t,e,r,n,s);break e}else for(Qt=ns(e.stateNode.containerInfo.firstChild),Yt=e,je=!0,_n=null,n=VT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yo(),r===s){e=mr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return UT(e),t===null&&dp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,op(r,s)?o=null:i!==null&&op(r,i)&&(e.flags|=32),dx(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&dp(e),null;case 13:return fx(t,e,n);case 4:return Gm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vo(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),N0(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ke(Ou,r._currentValue),r._currentValue=o,i!==null)if(An(i.value,o)){if(i.children===s.children&&!zt.current){e=mr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ur(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),hp(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),hp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qi(e,n),s=un(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=gn(r,e.pendingProps),s=gn(r.type,s),D0(t,e,r,s,n);case 15:return cx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:gn(r,s),Zc(t,e),e.tag=1,Bt(r)?(t=!0,ku(e)):t=!1,Qi(e,n),ox(e,r,s),pp(e,r,s,n),yp(null,e,r,!0,t,n);case 19:return px(t,e,n);case 22:return ux(t,e,n)}throw Error(z(156,e.tag))};function Rx(t,e){return rT(t,e)}function vk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new vk(t,e,n,r)}function cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wk(t){if(typeof t=="function")return cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Am)return 11;if(t===Pm)return 14}return 2}function os(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function nu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Di:return Ys(n.children,s,i,e);case Cm:o=8,s|=8;break;case jf:return t=ln(12,n,e,s|2),t.elementType=jf,t.lanes=i,t;case Ff:return t=ln(13,n,e,s),t.elementType=Ff,t.lanes=i,t;case Uf:return t=ln(19,n,e,s),t.elementType=Uf,t.lanes=i,t;case UE:return Pd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jE:o=10;break e;case FE:o=9;break e;case Am:o=11;break e;case Pm:o=14;break e;case jr:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=ln(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ys(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function Pd(t,e,n,r){return t=ln(22,t,r,e),t.elementType=UE,t.lanes=n,t.stateNode={isHidden:!1},t}function lf(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function cf(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _k(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ug(t,e,n,r,s,i,o,a,c){return t=new _k(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ln(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Km(i),t}function Ek(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kx(t){if(!t)return ps;t=t._reactInternals;e:{if(hi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Bt(n))return kT(t,n,e)}return e}function Nx(t,e,n,r,s,i,o,a,c){return t=ug(n,r,!0,t,s,i,o,a,c),t.context=kx(null),n=t.current,r=Ot(),s=is(n),i=ur(r,s),i.callback=e??null,rs(n,i,s),t.current.lanes=s,Il(t,s,r),Wt(t,r),t}function Rd(t,e,n,r){var s=e.current,i=Ot(),o=is(s);return n=kx(n),e.context===null?e.context=n:e.pendingContext=n,e=ur(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rs(s,e,o),t!==null&&(bn(t,s,o,i),Yc(t,s,o)),o}function Wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function H0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dg(t,e){H0(t,e),(t=t.alternate)&&H0(t,e)}function Tk(){return null}var Dx=typeof reportError=="function"?reportError:function(t){console.error(t)};function hg(t){this._internalRoot=t}kd.prototype.render=hg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Rd(t,e,null,null)};kd.prototype.unmount=hg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ti(function(){Rd(null,t,null,null)}),e[fr]=null}};function kd(t){this._internalRoot=t}kd.prototype.unstable_scheduleHydration=function(t){if(t){var e=uT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&hT(t)}};function fg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function q0(){}function xk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Wu(o);i.call(u)}}var o=Nx(e,r,t,0,null,!1,!1,"",q0);return t._reactRootContainer=o,t[fr]=o.current,Ja(t.nodeType===8?t.parentNode:t),ti(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Wu(c);a.call(u)}}var c=ug(t,0,!1,null,null,!1,!1,"",q0);return t._reactRootContainer=c,t[fr]=c.current,Ja(t.nodeType===8?t.parentNode:t),ti(function(){Rd(e,c,n,r)}),c}function Dd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Wu(o);a.call(c)}}Rd(e,o,t,s)}else o=xk(n,e,t,s,r);return Wu(o)}lT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ea(e.pendingLanes);n!==0&&(Nm(e,n|1),Wt(e,Ge()),!(Te&6)&&(Eo=Ge()+500,bs()))}break;case 13:ti(function(){var r=pr(t,1);if(r!==null){var s=Ot();bn(r,t,1,s)}}),dg(t,1)}};Dm=function(t){if(t.tag===13){var e=pr(t,134217728);if(e!==null){var n=Ot();bn(e,t,134217728,n)}dg(t,134217728)}};cT=function(t){if(t.tag===13){var e=is(t),n=pr(t,e);if(n!==null){var r=Ot();bn(n,t,e,r)}dg(t,e)}};uT=function(){return Ae};dT=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};Yf=function(t,e,n){switch(e){case"input":if(Bf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xd(r);if(!s)throw Error(z(90));zE(r),Bf(r,s)}}}break;case"textarea":WE(t,n);break;case"select":e=n.value,e!=null&&Hi(t,!!n.multiple,e,!1)}};XE=og;JE=ti;var Sk={usingClientEntryPoint:!1,Events:[Cl,Vi,xd,QE,YE,og]},ga={findFiberByHostInstance:Us,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ik={bundleType:ga.bundleType,version:ga.version,rendererPackageName:ga.rendererPackageName,rendererConfig:ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tT(t),t===null?null:t.stateNode},findFiberByHostInstance:ga.findFiberByHostInstance||Tk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{wd=bc.inject(Ik),$n=bc}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sk;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fg(e))throw Error(z(200));return Ek(t,e,null,n)};tn.createRoot=function(t,e){if(!fg(t))throw Error(z(299));var n=!1,r="",s=Dx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ug(t,1,!1,null,null,n,!1,r,s),t[fr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new hg(e)};tn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=tT(e),t=t===null?null:t.stateNode,t};tn.flushSync=function(t){return ti(t)};tn.hydrate=function(t,e,n){if(!Nd(e))throw Error(z(200));return Dd(null,t,e,!0,n)};tn.hydrateRoot=function(t,e,n){if(!fg(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nx(e,null,t,1,n??null,s,!1,i,o),t[fr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new kd(e)};tn.render=function(t,e,n){if(!Nd(e))throw Error(z(200));return Dd(null,t,e,!1,n)};tn.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(z(40));return t._reactRootContainer?(ti(function(){Dd(null,null,t,!1,function(){t._reactRootContainer=null,t[fr]=null})}),!0):!1};tn.unstable_batchedUpdates=og;tn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Dd(t,e,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function Ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ox)}catch(t){console.error(t)}}Ox(),OE.exports=tn;var fi=OE.exports;const bk=EE(fi);var Mx,K0=fi;Mx=K0.createRoot,K0.hydrateRoot;function Ck(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Lx={exports:{}},Vx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var To=v;function Ak(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pk=typeof Object.is=="function"?Object.is:Ak,Rk=To.useState,kk=To.useEffect,Nk=To.useLayoutEffect,Dk=To.useDebugValue;function Ok(t,e){var n=e(),r=Rk({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Nk(function(){s.value=n,s.getSnapshot=e,uf(s)&&i({inst:s})},[t,n,e]),kk(function(){return uf(s)&&i({inst:s}),t(function(){uf(s)&&i({inst:s})})},[t]),Dk(n),n}function uf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pk(t,n)}catch{return!0}}function Mk(t,e){return e()}var Lk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Mk:Ok;Vx.useSyncExternalStore=To.useSyncExternalStore!==void 0?To.useSyncExternalStore:Lk;Lx.exports=Vx;var Vk=Lx.exports;const jk=NE.useInsertionEffect,Fk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uk=Fk?v.useLayoutEffect:v.useEffect,$k=jk||Uk,jx=t=>{const e=v.useRef([t,(...n)=>e[0](...n)]).current;return $k(()=>{e[0]=t}),e[1]},zk="popstate",pg="pushState",mg="replaceState",Bk="hashchange",G0=[zk,pg,mg,Bk],Wk=t=>{for(const e of G0)addEventListener(e,t);return()=>{for(const e of G0)removeEventListener(e,t)}},Fx=(t,e)=>Vk.useSyncExternalStore(Wk,t,e),Hk=()=>location.search,qk=({ssrSearch:t=""}={})=>Fx(Hk,()=>t),Q0=()=>location.pathname,Kk=({ssrPath:t}={})=>Fx(Q0,t?()=>t:Q0),Gk=(t,{replace:e=!1,state:n=null}={})=>history[e?mg:pg](n,"",t),Qk=(t={})=>[Kk(t),Gk],Y0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Y0]>"u"){for(const t of[pg,mg]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Y0,{value:!0})}const Yk=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Ux=(t="")=>t==="/"?"":t,Xk=(t,e)=>t[0]==="~"?t.slice(1):Ux(e)+t,Jk=(t="",e)=>Yk(X0(Ux(t)),X0(e)),X0=t=>{try{return decodeURI(t)}catch{return t}},$x={hook:Qk,searchHook:qk,parser:Ck,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},zx=v.createContext($x),Pl=()=>v.useContext(zx),Bx={},Wx=v.createContext(Bx),Zk=()=>v.useContext(Wx),Od=t=>{const[e,n]=t.hook(t);return[Jk(t.base,e),jx((r,s)=>n(Xk(r,t.base),s))]},Md=()=>Od(Pl()),Hx=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((p,m)=>[p,c[m]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[a]:[]]:[!1,null]},eN=({children:t,...e})=>{var d,p;const n=Pl(),r=e.hook?$x:n;let s=r;const[i,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let a=v.useRef({}),c=a.current,u=c;for(let m in r){const w=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===u&&w!==u[m]&&(a.current=u={...u}),u[m]=w,w!==r[m]&&(s=u)}return v.createElement(zx.Provider,{value:s,children:t})},J0=({children:t,component:e},n)=>e?v.createElement(e,{params:n}):typeof t=="function"?t(n):t,tN=t=>{let e=v.useRef(Bx),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Cc=({path:t,nest:e,match:n,...r})=>{const s=Pl(),[i]=Od(s),[o,a,c]=n??Hx(s.parser,t,i,e),u=tN({...Zk(),...a});if(!o)return null;const d=c?v.createElement(eN,{base:c},J0(r,u)):J0(r,u);return v.createElement(Wx.Provider,{value:u,children:d})};v.forwardRef((t,e)=>{const n=Pl(),[r,s]=Od(n),{to:i="",href:o=i,onClick:a,asChild:c,children:u,className:d,replace:p,state:m,...w}=t,x=jx(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(a==null||a(S),S.defaultPrevented||(S.preventDefault(),s(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:x,href:y}):v.createElement("a",{...w,onClick:x,href:y,className:d!=null&&d.call?d(r===o):d,children:u,ref:e})});const qx=t=>Array.isArray(t)?t.flatMap(e=>qx(e&&e.type===v.Fragment?e.props.children:e)):[t],nN=({children:t,location:e})=>{const n=Pl(),[r]=Od(n);for(const s of qx(t)){let i=0;if(v.isValidElement(s)&&(i=Hx(n.parser,s.props.path,e||r,s.props.nest))[0])return v.cloneElement(s,{match:i})}return null};var Ld=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Vd=typeof window>"u"||"Deno"in globalThis;function yn(){}function rN(t,e){return typeof t=="function"?t(e):t}function sN(t){return typeof t=="number"&&t>=0&&t!==1/0}function iN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Z0(t,e){return typeof t=="function"?t(e):t}function oN(t,e){return typeof t=="function"?t(e):t}function ew(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==gg(o,e.options))return!1}else if(!ll(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function tw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(al(e.options.mutationKey)!==al(i))return!1}else if(!ll(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function gg(t,e){return((e==null?void 0:e.queryKeyHashFn)||al)(t)}function al(t){return JSON.stringify(t,(e,n)=>Pp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function ll(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!ll(t[n],e[n])):!1}function Kx(t,e){if(t===e)return t;const n=nw(t)&&nw(e);if(n||Pp(t)&&Pp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const d=n?u:i[u];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=Kx(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function nw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Pp(t){if(!rw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rw(t){return Object.prototype.toString.call(t)==="[object Object]"}function aN(t){return new Promise(e=>{setTimeout(e,t)})}function lN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Kx(t,e):e}function cN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function uN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var yg=Symbol();function Gx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===yg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Hs,Hr,io,fE,dN=(fE=class extends Ld{constructor(){super();be(this,Hs);be(this,Hr);be(this,io);he(this,io,e=>{if(!Vd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Hr)||this.setEventListener(U(this,io))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Hr))==null||e.call(this),he(this,Hr,void 0))}setEventListener(e){var n;he(this,io,e),(n=U(this,Hr))==null||n.call(this),he(this,Hr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Hs)!==e&&(he(this,Hs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Hs)=="boolean"?U(this,Hs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Hs=new WeakMap,Hr=new WeakMap,io=new WeakMap,fE),Qx=new dN,oo,qr,ao,pE,hN=(pE=class extends Ld{constructor(){super();be(this,oo,!0);be(this,qr);be(this,ao);he(this,ao,e=>{if(!Vd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,qr)||this.setEventListener(U(this,ao))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,qr))==null||e.call(this),he(this,qr,void 0))}setEventListener(e){var n;he(this,ao,e),(n=U(this,qr))==null||n.call(this),he(this,qr,e(this.setOnline.bind(this)))}setOnline(e){U(this,oo)!==e&&(he(this,oo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,oo)}},oo=new WeakMap,qr=new WeakMap,ao=new WeakMap,pE),Hu=new hN;function fN(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function pN(t){return Math.min(1e3*2**t,3e4)}function Yx(t){return(t??"online")==="online"?Hu.isOnline():!0}var Xx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function df(t){return t instanceof Xx}function Jx(t){let e=!1,n=0,r=!1,s;const i=fN(),o=y=>{var S;r||(m(new Xx(y)),(S=t.abort)==null||S.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>Qx.isFocused()&&(t.networkMode==="always"||Hu.isOnline())&&t.canRun(),d=()=>Yx(t.networkMode)&&t.canRun(),p=y=>{var S;r||(r=!0,(S=t.onSuccess)==null||S.call(t,y),s==null||s(),i.resolve(y))},m=y=>{var S;r||(r=!0,(S=t.onError)==null||S.call(t,y),s==null||s(),i.reject(y))},w=()=>new Promise(y=>{var S;s=E=>{(r||u())&&y(E)},(S=t.onPause)==null||S.call(t)}).then(()=>{var y;s=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const S=n===0?t.initialPromise:void 0;try{y=S??t.fn()}catch(E){y=Promise.reject(E)}Promise.resolve(y).then(p).catch(E=>{var L;if(r)return;const _=t.retry??(Vd?0:3),T=t.retryDelay??pN,k=typeof T=="function"?T(n,E):T,O=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,E);if(e||!O){m(E);return}n++,(L=t.onFail)==null||L.call(t,n,E),aN(k).then(()=>u()?void 0:w()).then(()=>{e?m(E):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?x():w().then(x),i)}}function mN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Dt=mN(),qs,mE,Zx=(mE=class{constructor(){be(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sN(this.gcTime)&&he(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Vd?1/0:5*60*1e3))}clearGcTimeout(){U(this,qs)&&(clearTimeout(U(this,qs)),he(this,qs,void 0))}},qs=new WeakMap,mE),lo,co,rn,Et,Tl,Ks,vn,tr,gE,gN=(gE=class extends Zx{constructor(n){super();be(this,vn);be(this,lo);be(this,co);be(this,rn);be(this,Et);be(this,Tl);be(this,Ks);he(this,Ks,!1),he(this,Tl,n.defaultOptions),this.setOptions(n.options),this.observers=[],he(this,rn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,he(this,lo,vN(this.options)),this.state=n.state??U(this,lo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Et))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Tl),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,rn).remove(this)}setData(n,r){const s=lN(this.state.data,n,this.options);return yt(this,vn,tr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){yt(this,vn,tr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Et))==null?void 0:s.promise;return(i=U(this,Et))==null||i.cancel(n),r?r.then(yn).catch(yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,lo))}isActive(){return this.observers.some(n=>oN(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===yg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!iN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Et))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Et))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Et)&&(U(this,Ks)?U(this,Et).cancel({revert:!0}):U(this,Et).cancelRetry()),this.scheduleGc()),U(this,rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,vn,tr).call(this,{type:"invalidate"})}fetch(n,r){var u,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Et))return U(this,Et).continueRetry(),U(this,Et).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(w=>w.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(he(this,Ks,!0),s.signal)})},o=()=>{const m=Gx(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return i(w),he(this,Ks,!1),this.options.persister?this.options.persister(m,w,this):m(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),he(this,co,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&yt(this,vn,tr).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const c=m=>{var w,x,y,S;df(m)&&m.silent||yt(this,vn,tr).call(this,{type:"error",error:m}),df(m)||((x=(w=U(this,rn).config).onError)==null||x.call(w,m,this),(S=(y=U(this,rn).config).onSettled)==null||S.call(y,this.state.data,m,this)),this.scheduleGc()};return he(this,Et,Jx({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var w,x,y,S;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(E){c(E);return}(x=(w=U(this,rn).config).onSuccess)==null||x.call(w,m,this),(S=(y=U(this,rn).config).onSettled)==null||S.call(y,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,w)=>{yt(this,vn,tr).call(this,{type:"failed",failureCount:m,error:w})},onPause:()=>{yt(this,vn,tr).call(this,{type:"pause"})},onContinue:()=>{yt(this,vn,tr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),U(this,Et).start()}},lo=new WeakMap,co=new WeakMap,rn=new WeakMap,Et=new WeakMap,Tl=new WeakMap,Ks=new WeakMap,vn=new WeakSet,tr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...yN(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return df(i)&&i.revert&&U(this,co)?{...U(this,co),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Dt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,rn).notify({query:this,type:"updated",action:n})})},gE);function yN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function vN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ln,yE,wN=(yE=class extends Ld{constructor(e={}){super();be(this,Ln);this.config=e,he(this,Ln,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??gg(s,n);let o=this.get(i);return o||(o=new gN({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Ln).has(e.queryHash)||(U(this,Ln).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Ln).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Ln).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Ln).get(e)}getAll(){return[...U(this,Ln).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>ew(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>ew(e,r)):n}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ln=new WeakMap,yE),Vn,kt,Gs,jn,Lr,vE,_N=(vE=class extends Zx{constructor(n){super();be(this,jn);be(this,Vn);be(this,kt);be(this,Gs);this.mutationId=n.mutationId,he(this,kt,n.mutationCache),he(this,Vn,[]),this.state=n.state||EN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Vn).includes(n)||(U(this,Vn).push(n),this.clearGcTimeout(),U(this,kt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){he(this,Vn,U(this,Vn).filter(r=>r!==n)),this.scheduleGc(),U(this,kt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Vn).length||(this.state.status==="pending"?this.scheduleGc():U(this,kt).remove(this))}continue(){var n;return((n=U(this,Gs))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,c,u,d,p,m,w,x,y,S,E,_,T,k,O,L,b,I;he(this,Gs,Jx({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(A,P)=>{yt(this,jn,Lr).call(this,{type:"failed",failureCount:A,error:P})},onPause:()=>{yt(this,jn,Lr).call(this,{type:"pause"})},onContinue:()=>{yt(this,jn,Lr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,kt).canRun(this)}));const r=this.state.status==="pending",s=!U(this,Gs).canStart();try{if(!r){yt(this,jn,Lr).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=U(this,kt).config).onMutate)==null?void 0:o.call(i,n,this));const P=await((c=(a=this.options).onMutate)==null?void 0:c.call(a,n));P!==this.state.context&&yt(this,jn,Lr).call(this,{type:"pending",context:P,variables:n,isPaused:s})}const A=await U(this,Gs).start();return await((d=(u=U(this,kt).config).onSuccess)==null?void 0:d.call(u,A,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,A,n,this.state.context)),await((x=(w=U(this,kt).config).onSettled)==null?void 0:x.call(w,A,null,this.state.variables,this.state.context,this)),await((S=(y=this.options).onSettled)==null?void 0:S.call(y,A,null,n,this.state.context)),yt(this,jn,Lr).call(this,{type:"success",data:A}),A}catch(A){try{throw await((_=(E=U(this,kt).config).onError)==null?void 0:_.call(E,A,n,this.state.context,this)),await((k=(T=this.options).onError)==null?void 0:k.call(T,A,n,this.state.context)),await((L=(O=U(this,kt).config).onSettled)==null?void 0:L.call(O,void 0,A,this.state.variables,this.state.context,this)),await((I=(b=this.options).onSettled)==null?void 0:I.call(b,void 0,A,n,this.state.context)),A}finally{yt(this,jn,Lr).call(this,{type:"error",error:A})}}finally{U(this,kt).runNext(this)}}},Vn=new WeakMap,kt=new WeakMap,Gs=new WeakMap,jn=new WeakSet,Lr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dt.batch(()=>{U(this,Vn).forEach(s=>{s.onMutationUpdate(n)}),U(this,kt).notify({mutation:this,type:"updated",action:n})})},vE);function EN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qt,xl,wE,TN=(wE=class extends Ld{constructor(e={}){super();be(this,qt);be(this,xl);this.config=e,he(this,qt,new Map),he(this,xl,Date.now())}build(e,n,r){const s=new _N({mutationCache:this,mutationId:++cc(this,xl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Ac(e),r=U(this,qt).get(n)??[];r.push(e),U(this,qt).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Ac(e);if(U(this,qt).has(n)){const s=(r=U(this,qt).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?U(this,qt).delete(n):U(this,qt).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=U(this,qt).get(Ac(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=U(this,qt).get(Ac(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Dt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...U(this,qt).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tw(n,r))}findAll(e={}){return this.getAll().filter(n=>tw(e,n))}notify(e){Dt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(e.map(n=>n.continue().catch(yn))))}},qt=new WeakMap,xl=new WeakMap,wE);function Ac(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function sw(t){return{onFetch:(e,n)=>{var d,p,m,w,x;const r=e.options,s=(m=(p=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((w=e.state.data)==null?void 0:w.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let y=!1;const S=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=Gx(e.options,e.fetchOptions),_=async(T,k,O)=>{if(y)return Promise.reject();if(k==null&&T.pages.length)return Promise.resolve(T);const L={queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};S(L);const b=await E(L),{maxPages:I}=e.options,A=O?uN:cN;return{pages:A(T.pages,b,I),pageParams:A(T.pageParams,k,I)}};if(s&&i.length){const T=s==="backward",k=T?xN:iw,O={pages:i,pageParams:o},L=k(r,O);a=await _(O,L,T)}else{const T=t??i.length;do{const k=c===0?o[0]??r.initialPageParam:iw(r,a);if(c>0&&k==null)break;a=await _(a,k),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var y,S;return(S=(y=e.options).persister)==null?void 0:S.call(y,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function iw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function xN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var We,Kr,Gr,uo,ho,Qr,fo,po,_E,SN=(_E=class{constructor(t={}){be(this,We);be(this,Kr);be(this,Gr);be(this,uo);be(this,ho);be(this,Qr);be(this,fo);be(this,po);he(this,We,t.queryCache||new wN),he(this,Kr,t.mutationCache||new TN),he(this,Gr,t.defaultOptions||{}),he(this,uo,new Map),he(this,ho,new Map),he(this,Qr,0)}mount(){cc(this,Qr)._++,U(this,Qr)===1&&(he(this,fo,Qx.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,We).onFocus())})),he(this,po,Hu.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,We).onOnline())})))}unmount(){var t,e;cc(this,Qr)._--,U(this,Qr)===0&&((t=U(this,fo))==null||t.call(this),he(this,fo,void 0),(e=U(this,po))==null||e.call(this),he(this,po,void 0))}isFetching(t){return U(this,We).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Kr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,We).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=U(this,We).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Z0(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return U(this,We).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,We).get(r.queryHash),i=s==null?void 0:s.state.data,o=rN(e,i);if(o!==void 0)return U(this,We).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Dt.batch(()=>U(this,We).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,We).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,We);Dt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,We),r={type:"active",...t};return Dt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Dt.batch(()=>U(this,We).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(yn).catch(yn)}invalidateQueries(t={},e={}){return Dt.batch(()=>{if(U(this,We).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Dt.batch(()=>U(this,We).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(yn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(yn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,We).build(this,e);return n.isStaleByTime(Z0(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yn).catch(yn)}fetchInfiniteQuery(t){return t.behavior=sw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yn).catch(yn)}ensureInfiniteQueryData(t){return t.behavior=sw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Hu.isOnline()?U(this,Kr).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,We)}getMutationCache(){return U(this,Kr)}getDefaultOptions(){return U(this,Gr)}setDefaultOptions(t){he(this,Gr,t)}setQueryDefaults(t,e){U(this,uo).set(al(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,uo).values()];let n={};return e.forEach(r=>{ll(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){U(this,ho).set(al(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,ho).values()];let n={};return e.forEach(r=>{ll(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Gr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=gg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===yg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Gr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,We).clear(),U(this,Kr).clear()}},We=new WeakMap,Kr=new WeakMap,Gr=new WeakMap,uo=new WeakMap,ho=new WeakMap,Qr=new WeakMap,fo=new WeakMap,po=new WeakMap,_E),IN=v.createContext(void 0),bN=({client:t,children:e})=>(v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(IN.Provider,{value:t,children:e}));async function CN(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const AN=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e[0],{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await CN(n),await n.json())},PN=new SN({defaultOptions:{queries:{queryFn:AN({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),RN=1,kN=1e6;let hf=0;function NN(){return hf=(hf+1)%Number.MAX_SAFE_INTEGER,hf.toString()}const ff=new Map,ow=t=>{if(ff.has(t))return;const e=setTimeout(()=>{ff.delete(t),ja({type:"REMOVE_TOAST",toastId:t})},kN);ff.set(t,e)},DN=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,RN)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?ow(n):t.toasts.forEach(r=>{ow(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ru=[];let su={toasts:[]};function ja(t){su=DN(su,t),ru.forEach(e=>{e(su)})}function ON({...t}){const e=NN(),n=s=>ja({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>ja({type:"DISMISS_TOAST",toastId:e});return ja({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Rl(){const[t,e]=v.useState(su);return v.useEffect(()=>(ru.push(e),()=>{const n=ru.indexOf(e);n>-1&&ru.splice(n,1)}),[t]),{...t,toast:ON,dismiss:n=>ja({type:"DISMISS_TOAST",toastId:n})}}function ae(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function MN(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function eS(...t){return e=>t.forEach(n=>MN(n,e))}function Pe(...t){return v.useCallback(eS(...t),t)}function LN(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),c=n.length;n=[...n,o];function u(p){const{scope:m,children:w,...x}=p,y=(m==null?void 0:m[t][c])||a,S=v.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:S,children:w})}function d(p,m){const w=(m==null?void 0:m[t][c])||a,x=v.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,VN(s,...e)]}function VN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var ni=v.forwardRef((t,e)=>{const{children:n,...r}=t,s=v.Children.toArray(n),i=s.find(FN);if(i){const o=i.props.children,a=s.map(c=>c===i?v.Children.count(o)>1?v.Children.only(null):v.isValidElement(o)?o.props.children:null:c);return f.jsx(Rp,{...r,ref:e,children:v.isValidElement(o)?v.cloneElement(o,void 0,a):null})}return f.jsx(Rp,{...r,ref:e,children:n})});ni.displayName="Slot";var Rp=v.forwardRef((t,e)=>{const{children:n,...r}=t;if(v.isValidElement(n)){const s=$N(n);return v.cloneElement(n,{...UN(r,n.props),ref:e?eS(e,s):s})}return v.Children.count(n)>1?v.Children.only(null):null});Rp.displayName="SlotClone";var jN=({children:t})=>f.jsx(f.Fragment,{children:t});function FN(t){return v.isValidElement(t)&&t.type===jN}function UN(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $N(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function vg(t){const e=t+"CollectionProvider",[n,r]=LN(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:y}=w,S=Mr.useRef(null),E=Mr.useRef(new Map).current;return f.jsx(s,{scope:x,itemMap:E,collectionRef:S,children:y})};o.displayName=e;const a=t+"CollectionSlot",c=Mr.forwardRef((w,x)=>{const{scope:y,children:S}=w,E=i(a,y),_=Pe(x,E.collectionRef);return f.jsx(ni,{ref:_,children:S})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",p=Mr.forwardRef((w,x)=>{const{scope:y,children:S,...E}=w,_=Mr.useRef(null),T=Pe(x,_),k=i(u,y);return Mr.useEffect(()=>(k.itemMap.set(_,{ref:_,...E}),()=>void k.itemMap.delete(_))),f.jsx(ni,{[d]:"",ref:T,children:S})});p.displayName=u;function m(w){const x=i(t+"CollectionConsumer",w);return Mr.useCallback(()=>{const S=x.collectionRef.current;if(!S)return[];const E=Array.from(S.querySelectorAll(`[${d}]`));return Array.from(x.itemMap.values()).sort((k,O)=>E.indexOf(k.ref.current)-E.indexOf(O.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},m,r]}function zN(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,c=v.useMemo(()=>a,Object.values(a));return f.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function kl(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),c=n.length;n=[...n,o];const u=p=>{var E;const{scope:m,children:w,...x}=p,y=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,S=v.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:S,children:w})};u.displayName=i+"Provider";function d(p,m){var y;const w=((y=m==null?void 0:m[t])==null?void 0:y[c])||a,x=v.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,BN(s,...e)]}function BN(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var WN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=WN.reduce((t,e)=>{const n=v.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?ni:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function tS(t,e){t&&fi.flushSync(()=>t.dispatchEvent(e))}function en(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function HN(t,e=globalThis==null?void 0:globalThis.document){const n=en(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var qN="DismissableLayer",kp="dismissableLayer.update",KN="dismissableLayer.pointerDownOutside",GN="dismissableLayer.focusOutside",aw,nS=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jd=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=v.useContext(nS),[d,p]=v.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=v.useState({}),x=Pe(e,b=>p(b)),y=Array.from(u.layers),[S]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(S),_=d?y.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,k=_>=E,O=YN(b=>{const I=b.target,A=[...u.branches].some(P=>P.contains(I));!k||A||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),L=XN(b=>{const I=b.target;[...u.branches].some(P=>P.contains(I))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return HN(b=>{_===u.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),v.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(aw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),lw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=aw)}},[d,m,n,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),lw())},[d,u]),v.useEffect(()=>{const b=()=>w({});return document.addEventListener(kp,b),()=>document.removeEventListener(kp,b)},[]),f.jsx(me.div,{...c,ref:x,style:{pointerEvents:T?k?"auto":"none":void 0,...t.style},onFocusCapture:ae(t.onFocusCapture,L.onFocusCapture),onBlurCapture:ae(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ae(t.onPointerDownCapture,O.onPointerDownCapture)})});jd.displayName=qN;var QN="DismissableLayerBranch",rS=v.forwardRef((t,e)=>{const n=v.useContext(nS),r=v.useRef(null),s=Pe(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),f.jsx(me.div,{...t,ref:s})});rS.displayName=QN;function YN(t,e=globalThis==null?void 0:globalThis.document){const n=en(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){sS(KN,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function XN(t,e=globalThis==null?void 0:globalThis.document){const n=en(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&sS(GN,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function lw(){const t=new CustomEvent(kp);document.dispatchEvent(t)}function sS(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tS(s,i):s.dispatchEvent(i)}var JN=jd,ZN=rS,bt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},eD="Portal",Fd=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);bt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?bk.createPortal(f.jsx(me.div,{...r,ref:e}),o):null});Fd.displayName=eD;function tD(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var Nl=t=>{const{present:e,children:n}=t,r=nD(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Pe(r.ref,rD(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};Nl.displayName="Presence";function nD(t){const[e,n]=v.useState(),r=v.useRef({}),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,c]=tD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Pc(r.current);i.current=a==="mounted"?u:"none"},[a]),bt(()=>{const u=r.current,d=s.current;if(d!==t){const m=i.current,w=Pc(u);t?c("MOUNT"):w==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),bt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,p=w=>{const y=Pc(r.current).includes(w.animationName);if(w.target===e&&y&&(c("ANIMATION_END"),!s.current)){const S=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=S)})}},m=w=>{w.target===e&&(i.current=Pc(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Pc(t){return(t==null?void 0:t.animationName)||"none"}function rD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function xo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=sD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=en(n),c=v.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,c]}function sD({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,s=v.useRef(r),i=en(e);return v.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var iD="VisuallyHidden",Ud=v.forwardRef((t,e)=>f.jsx(me.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ud.displayName=iD;var wg="ToastProvider",[_g,oD,aD]=vg("Toast"),[iS,I9]=kl("Toast",[aD]),[lD,$d]=iS(wg),oS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=v.useState(null),[u,d]=v.useState(0),p=v.useRef(!1),m=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${wg}\`. Expected non-empty \`string\`.`),f.jsx(_g.Provider,{scope:e,children:f.jsx(lD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:v.useCallback(()=>d(w=>w+1),[]),onToastRemove:v.useCallback(()=>d(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};oS.displayName=wg;var aS="ToastViewport",cD=["F8"],Np="toast.viewportPause",Dp="toast.viewportResume",lS=v.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=cD,label:s="Notifications ({hotkey})",...i}=t,o=$d(aS,n),a=oD(n),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),p=v.useRef(null),m=Pe(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const S=E=>{var T;r.length!==0&&r.every(k=>E[k]||E.code===k)&&((T=p.current)==null||T.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),v.useEffect(()=>{const S=c.current,E=p.current;if(x&&S&&E){const _=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(Np);E.dispatchEvent(L),o.isClosePausedRef.current=!0}},T=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Dp);E.dispatchEvent(L),o.isClosePausedRef.current=!1}},k=L=>{!S.contains(L.relatedTarget)&&T()},O=()=>{S.contains(document.activeElement)||T()};return S.addEventListener("focusin",_),S.addEventListener("focusout",k),S.addEventListener("pointermove",_),S.addEventListener("pointerleave",O),window.addEventListener("blur",_),window.addEventListener("focus",T),()=>{S.removeEventListener("focusin",_),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",_),S.removeEventListener("pointerleave",O),window.removeEventListener("blur",_),window.removeEventListener("focus",T)}}},[x,o.isClosePausedRef]);const y=v.useCallback(({tabbingDirection:S})=>{const _=a().map(T=>{const k=T.ref.current,O=[k,...TD(k)];return S==="forwards"?O:O.reverse()});return(S==="forwards"?_.reverse():_).flat()},[a]);return v.useEffect(()=>{const S=p.current;if(S){const E=_=>{var O,L,b;const T=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!T){const I=document.activeElement,A=_.shiftKey;if(_.target===S&&A){(O=u.current)==null||O.focus();return}const D=y({tabbingDirection:A?"backwards":"forwards"}),R=D.findIndex(W=>W===I);pf(D.slice(R+1))?_.preventDefault():A?(L=u.current)==null||L.focus():(b=d.current)==null||b.focus()}};return S.addEventListener("keydown",E),()=>S.removeEventListener("keydown",E)}},[a,y]),f.jsxs(ZN,{ref:c,role:"region","aria-label":s.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&f.jsx(Op,{ref:u,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"forwards"});pf(S)}}),f.jsx(_g.Slot,{scope:n,children:f.jsx(me.ol,{tabIndex:-1,...i,ref:m})}),x&&f.jsx(Op,{ref:d,onFocusFromOutsideViewport:()=>{const S=y({tabbingDirection:"backwards"});pf(S)}})]})});lS.displayName=aS;var cS="ToastFocusProxy",Op=v.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=$d(cS,n);return f.jsx(Ud,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Op.displayName=cS;var zd="Toast",uD="toast.swipeStart",dD="toast.swipeMove",hD="toast.swipeCancel",fD="toast.swipeEnd",uS=v.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=xo({prop:r,defaultProp:s,onChange:i});return f.jsx(Nl,{present:n||a,children:f.jsx(gD,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:en(t.onPause),onResume:en(t.onResume),onSwipeStart:ae(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(t.onSwipeMove,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ae(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(t.onSwipeEnd,u=>{const{x:d,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});uS.displayName=zd;var[pD,mD]=iS(zd,{onClose(){}}),gD=v.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:w,...x}=t,y=$d(zd,n),[S,E]=v.useState(null),_=Pe(e,W=>E(W)),T=v.useRef(null),k=v.useRef(null),O=s||y.duration,L=v.useRef(0),b=v.useRef(O),I=v.useRef(0),{onToastAdd:A,onToastRemove:P}=y,N=en(()=>{var ee;(S==null?void 0:S.contains(document.activeElement))&&((ee=y.viewport)==null||ee.focus()),o()}),D=v.useCallback(W=>{!W||W===1/0||(window.clearTimeout(I.current),L.current=new Date().getTime(),I.current=window.setTimeout(N,W))},[N]);v.useEffect(()=>{const W=y.viewport;if(W){const ee=()=>{D(b.current),u==null||u()},X=()=>{const Z=new Date().getTime()-L.current;b.current=b.current-Z,window.clearTimeout(I.current),c==null||c()};return W.addEventListener(Np,X),W.addEventListener(Dp,ee),()=>{W.removeEventListener(Np,X),W.removeEventListener(Dp,ee)}}},[y.viewport,O,c,u,D]),v.useEffect(()=>{i&&!y.isClosePausedRef.current&&D(O)},[i,O,y.isClosePausedRef,D]),v.useEffect(()=>(A(),()=>P()),[A,P]);const R=v.useMemo(()=>S?yS(S):null,[S]);return y.viewport?f.jsxs(f.Fragment,{children:[R&&f.jsx(yD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),f.jsx(pD,{scope:n,onClose:N,children:fi.createPortal(f.jsx(_g.ItemSlot,{scope:n,children:f.jsx(JN,{asChild:!0,onEscapeKeyDown:ae(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||N(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:f.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...x,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ae(t.onKeyDown,W=>{W.key==="Escape"&&(a==null||a(W.nativeEvent),W.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:ae(t.onPointerDown,W=>{W.button===0&&(T.current={x:W.clientX,y:W.clientY})}),onPointerMove:ae(t.onPointerMove,W=>{if(!T.current)return;const ee=W.clientX-T.current.x,X=W.clientY-T.current.y,Z=!!k.current,V=["left","right"].includes(y.swipeDirection),q=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,J=V?q(0,ee):0,ne=V?0:q(0,X),le=W.pointerType==="touch"?10:2,ye={x:J,y:ne},Ne={originalEvent:W,delta:ye};Z?(k.current=ye,Rc(dD,p,Ne,{discrete:!1})):cw(ye,y.swipeDirection,le)?(k.current=ye,Rc(uD,d,Ne,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(ee)>le||Math.abs(X)>le)&&(T.current=null)}),onPointerUp:ae(t.onPointerUp,W=>{const ee=k.current,X=W.target;if(X.hasPointerCapture(W.pointerId)&&X.releasePointerCapture(W.pointerId),k.current=null,T.current=null,ee){const Z=W.currentTarget,V={originalEvent:W,delta:ee};cw(ee,y.swipeDirection,y.swipeThreshold)?Rc(fD,w,V,{discrete:!0}):Rc(hD,m,V,{discrete:!0}),Z.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),yD=t=>{const{__scopeToast:e,children:n,...r}=t,s=$d(zd,e),[i,o]=v.useState(!1),[a,c]=v.useState(!1);return _D(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:f.jsx(Fd,{asChild:!0,children:f.jsx(Ud,{...r,children:i&&f.jsxs(f.Fragment,{children:[s.label," ",n]})})})},vD="ToastTitle",dS=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(me.div,{...r,ref:e})});dS.displayName=vD;var wD="ToastDescription",hS=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return f.jsx(me.div,{...r,ref:e})});hS.displayName=wD;var fS="ToastAction",pS=v.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?f.jsx(gS,{altText:n,asChild:!0,children:f.jsx(Eg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fS}\`. Expected non-empty \`string\`.`),null)});pS.displayName=fS;var mS="ToastClose",Eg=v.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=mD(mS,n);return f.jsx(gS,{asChild:!0,children:f.jsx(me.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,s.onClose)})})});Eg.displayName=mS;var gS=v.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return f.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function yS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),ED(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...yS(r))}}),e}function Rc(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?tS(s,i):s.dispatchEvent(i)}var cw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function _D(t=()=>{}){const e=en(t);bt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function ED(t){return t.nodeType===t.ELEMENT_NODE}function TD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function pf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xD=oS,vS=lS,wS=uS,_S=dS,ES=hS,TS=pS,xS=Eg;function SS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=SS(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function SD(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=SS(t))&&(r&&(r+=" "),r+=e);return r}const uw=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,dw=SD,Tg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return dw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],p=i==null?void 0:i[u];if(d===null)return null;const m=uw(d)||uw(p);return s[u][m]}),a=n&&Object.entries(n).reduce((u,d)=>{let[p,m]=d;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:p,className:m,...w}=d;return Object.entries(w).every(x=>{let[y,S]=x;return Array.isArray(S)?S.includes({...i,...a}[y]):{...i,...a}[y]===S})?[...u,p,m]:u},[]);return dw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),IS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=v.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>v.createElement("svg",{ref:c,...bD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:IS("lucide",s),...a},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=(t,e)=>{const n=v.forwardRef(({className:r,...s},i)=>v.createElement(CD,{ref:i,iconNode:e,className:IS(`lucide-${ID(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=Dl("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Dl("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=Dl("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=Dl("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Dl("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function AS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=AS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kD(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=AS(t))&&(r&&(r+=" "),r+=e);return r}const xg="-",ND=t=>{const e=OD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(xg);return a[0]===""&&a.length!==1&&a.shift(),PS(a,e)||DD(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},PS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?PS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(xg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},hw=/^\[(.+)\]$/,DD=t=>{if(hw.test(t)){const e=hw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},OD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return LD(Object.entries(t.classGroups),n).forEach(([i,o])=>{Mp(o,r,i,e)}),r},Mp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:fw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(MD(s)){Mp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Mp(o,fw(e,i),n,r)})})},fw=(t,e)=>{let n=t;return e.split(xg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},MD=t=>t.isThemeGetter,LD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,VD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},RS="!",jD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,d=0,p;for(let S=0;S<a.length;S++){let E=a[S];if(u===0){if(E===s&&(r||a.slice(S,S+i)===e)){c.push(a.slice(d,S)),d=S+i;continue}if(E==="/"){p=S;continue}}E==="["?u++:E==="]"&&u--}const m=c.length===0?a:a.substring(d),w=m.startsWith(RS),x=w?m.substring(1):m,y=p&&p>d?p-d:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},FD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},UD=t=>({cache:VD(t.cacheSize),parseClassName:jD(t),...ND(t)}),$D=/\s+/,zD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split($D);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:w}=n(u);let x=!!w,y=r(x?m.substring(0,w):m);if(!y){if(!x){a=u+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=u+(a.length>0?" "+a:a);continue}x=!1}const S=FD(d).join(":"),E=p?S+RS:S,_=E+y;if(i.includes(_))continue;i.push(_);const T=s(y,x);for(let k=0;k<T.length;++k){const O=T[k];i.push(E+O)}a=u+(a.length>0?" "+a:a)}return a};function BD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kS(e))&&(r&&(r+=" "),r+=n);return r}const kS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kS(t[r]))&&(n&&(n+=" "),n+=e);return n};function WD(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((d,p)=>p(d),t());return n=UD(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=zD(c,n);return s(c,d),d}return function(){return i(BD.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},NS=/^\[(?:([a-z-]+):)?(.+)\]$/i,HD=/^\d+\/\d+$/,qD=new Set(["px","full","screen"]),KD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,GD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,er=t=>Xi(t)||qD.has(t)||HD.test(t),Nr=t=>Vo(t,"length",i2),Xi=t=>!!t&&!Number.isNaN(Number(t)),mf=t=>Vo(t,"number",Xi),ya=t=>!!t&&Number.isInteger(Number(t)),JD=t=>t.endsWith("%")&&Xi(t.slice(0,-1)),ce=t=>NS.test(t),Dr=t=>KD.test(t),ZD=new Set(["length","size","percentage"]),e2=t=>Vo(t,ZD,DS),t2=t=>Vo(t,"position",DS),n2=new Set(["image","url"]),r2=t=>Vo(t,n2,a2),s2=t=>Vo(t,"",o2),va=()=>!0,Vo=(t,e,n)=>{const r=NS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},i2=t=>GD.test(t)&&!QD.test(t),DS=()=>!1,o2=t=>YD.test(t),a2=t=>XD.test(t),l2=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),c=Oe("contrast"),u=Oe("grayscale"),d=Oe("hueRotate"),p=Oe("invert"),m=Oe("gap"),w=Oe("gradientColorStops"),x=Oe("gradientColorStopPositions"),y=Oe("inset"),S=Oe("margin"),E=Oe("opacity"),_=Oe("padding"),T=Oe("saturate"),k=Oe("scale"),O=Oe("sepia"),L=Oe("skew"),b=Oe("space"),I=Oe("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",ce,e],D=()=>[ce,e],R=()=>["",er,Nr],W=()=>["auto",Xi,ce],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",ce],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Xi,ce];return{cacheSize:500,separator:":",theme:{colors:[va],spacing:[er,Nr],blur:["none","",Dr,ce],brightness:ne(),borderColor:[t],borderRadius:["none","","full",Dr,ce],borderSpacing:D(),borderWidth:R(),contrast:ne(),grayscale:q(),hueRotate:ne(),invert:q(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[JD,Nr],inset:N(),margin:N(),opacity:ne(),padding:D(),saturate:ne(),scale:ne(),sepia:q(),skew:ne(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ce]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),ce]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ya,ce]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ce]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",ya,ce]}],"grid-cols":[{"grid-cols":[va]}],"col-start-end":[{col:["auto",{span:["full",ya,ce]},ce]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[va]}],"row-start-end":[{row:["auto",{span:[ya,ce]},ce]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ce]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ce,e]}],"min-w":[{"min-w":[ce,e,"min","max","fit"]}],"max-w":[{"max-w":[ce,e,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,Nr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mf]}],"font-family":[{font:[va]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ce]}],"line-clamp":[{"line-clamp":["none",Xi,mf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",er,ce]}],"list-image":[{"list-image":["none",ce]}],"list-style-type":[{list:["none","disc","decimal",ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",er,Nr]}],"underline-offset":[{"underline-offset":["auto",er,ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),t2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",e2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},r2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:X()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[er,ce]}],"outline-w":[{outline:[er,Nr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[er,Nr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Dr,s2]}],"shadow-color":[{shadow:[va]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dr,ce]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[p]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ce]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",ce]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ya,ce]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[er,Nr,mf]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},c2=WD(l2);function xe(...t){return c2(kD(t))}const u2=xD,OS=v.forwardRef(({className:t,...e},n)=>f.jsx(vS,{ref:n,className:xe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));OS.displayName=vS.displayName;const d2=Tg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MS=v.forwardRef(({className:t,variant:e,...n},r)=>f.jsx(wS,{ref:r,className:xe(d2({variant:e}),t),...n}));MS.displayName=wS.displayName;const h2=v.forwardRef(({className:t,...e},n)=>f.jsx(TS,{ref:n,className:xe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));h2.displayName=TS.displayName;const LS=v.forwardRef(({className:t,...e},n)=>f.jsx(xS,{ref:n,className:xe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:f.jsx(CS,{className:"h-4 w-4"})}));LS.displayName=xS.displayName;const VS=v.forwardRef(({className:t,...e},n)=>f.jsx(_S,{ref:n,className:xe("text-sm font-semibold",t),...e}));VS.displayName=_S.displayName;const jS=v.forwardRef(({className:t,...e},n)=>f.jsx(ES,{ref:n,className:xe("text-sm opacity-90",t),...e}));jS.displayName=ES.displayName;function f2(){const{toasts:t}=Rl();return f.jsxs(u2,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return f.jsxs(MS,{...i,children:[f.jsxs("div",{className:"grid gap-1",children:[n&&f.jsx(VS,{children:n}),r&&f.jsx(jS,{children:r})]}),s,f.jsx(LS,{})]},e)}),f.jsx(OS,{})]})}const p2=Tg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),qe=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ni:"button";return f.jsx(o,{className:xe(p2({variant:e,size:n,className:t})),ref:i,...s})});qe.displayName="Button";const En=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));En.displayName="Card";const m2=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("flex flex-col space-y-1.5 p-6",t),...e}));m2.displayName="CardHeader";const g2=v.forwardRef(({className:t,...e},n)=>f.jsx("h3",{ref:n,className:xe("text-2xl font-semibold leading-none tracking-tight",t),...e}));g2.displayName="CardTitle";const y2=v.forwardRef(({className:t,...e},n)=>f.jsx("p",{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));y2.displayName="CardDescription";const Tn=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("p-6 pt-0",t),...e}));Tn.displayName="CardContent";const v2=v.forwardRef(({className:t,...e},n)=>f.jsx("div",{ref:n,className:xe("flex items-center p-6 pt-0",t),...e}));v2.displayName="CardFooter";const Ci=v.forwardRef(({className:t,type:e,...n},r)=>f.jsx("input",{type:e,className:xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Ci.displayName="Input";var w2="Label",FS=v.forwardRef((t,e)=>f.jsx(me.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));FS.displayName=w2;var US=FS;const _2=Tg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),sr=v.forwardRef(({className:t,...e},n)=>f.jsx(US,{ref:n,className:xe(_2(),t),...e}));sr.displayName=US.displayName;var E2="Separator",pw="horizontal",T2=["horizontal","vertical"],$S=v.forwardRef((t,e)=>{const{decorative:n,orientation:r=pw,...s}=t,i=x2(r)?r:pw,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return f.jsx(me.div,{"data-orientation":i,...a,...s,ref:e})});$S.displayName=E2;function x2(t){return T2.includes(t)}var zS=$S;const Lp=v.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>f.jsx(zS,{ref:s,decorative:n,orientation:e,className:xe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Lp.displayName=zS.displayName;const S2=()=>{};var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},I2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},WS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,w=u&63;c||(w=64,o||(m=64)),r.push(n[d],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):I2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new b2;const m=i<<2|a>>4;if(r.push(m),u!==64){const w=a<<4&240|u>>2;if(r.push(w),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C2=function(t){const e=BS(t);return WS.encodeByteArray(e,!0)},qu=function(t){return C2(t).replace(/\./g,"")},HS=function(t){try{return WS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=()=>A2().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&HS(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return S2()||P2()||R2()||k2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qS=t=>{var e,n;return(n=(e=Bd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},N2=t=>{const e=qS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},KS=()=>{var t;return(t=Bd())===null||t===void 0?void 0:t.config},GS=t=>{var e;return(e=Bd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qu(JSON.stringify(n)),qu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function L2(){var t;const e=(t=Bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U2(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $2(){return!L2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z2(){try{return typeof indexedDB=="object"}catch{return!1}}function B2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="FirebaseError";class Sr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=W2,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ol.prototype.create)}}class Ol{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?H2(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Sr(s,a,r)}}function H2(t,e){return t.replace(q2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const q2=/\{\$([^}]+)}/g;function K2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(gw(i)&&gw(o)){if(!ri(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Sa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function G2(t,e){const n=new Q2(t,e);return n.subscribe.bind(n)}class Q2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Y2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=gf),s.error===void 0&&(s.error=gf),s.complete===void 0&&(s.complete=gf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Y2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t){return t&&t._delegate?t._delegate:t}class si{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new D2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z2(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J2(t){return t===Fs?void 0:t}function Z2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const tO={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},nO=ve.INFO,rO={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},sO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=nO,this._logHandler=sO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const iO=(t,e)=>e.some(n=>t instanceof n);let yw,vw;function oO(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aO(){return vw||(vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,Vp=new WeakMap,YS=new WeakMap,yf=new WeakMap,Ig=new WeakMap;function lO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(as(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QS.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function cO(t){if(Vp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vp.set(t,e)}let jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uO(t){jp=t(jp)}function dO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vf(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),as(r)}:aO().includes(t)?function(...e){return t.apply(vf(this),e),as(QS.get(this))}:function(...e){return as(t.apply(vf(this),e))}}function hO(t){return typeof t=="function"?dO(t):(t instanceof IDBTransaction&&cO(t),iO(t,oO())?new Proxy(t,jp):t)}function as(t){if(t instanceof IDBRequest)return lO(t);if(yf.has(t))return yf.get(t);const e=hO(t);return e!==t&&(yf.set(t,e),Ig.set(e,t)),e}const vf=t=>Ig.get(t);function fO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=as(o);return r&&o.addEventListener("upgradeneeded",c=>{r(as(o.result),c.oldVersion,c.newVersion,as(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pO=["get","getKey","getAll","getAllKeys","count"],mO=["put","add","delete","clear"],wf=new Map;function ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=mO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||pO.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return wf.set(e,i),i}uO(t=>({...t,get:(e,n,r)=>ww(e,n)||t.get(e,n,r),has:(e,n)=>!!ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fp="@firebase/app",_w="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gr=new Sg("@firebase/app"),vO="@firebase/app-compat",wO="@firebase/analytics-compat",_O="@firebase/analytics",EO="@firebase/app-check-compat",TO="@firebase/app-check",xO="@firebase/auth",SO="@firebase/auth-compat",IO="@firebase/database",bO="@firebase/data-connect",CO="@firebase/database-compat",AO="@firebase/functions",PO="@firebase/functions-compat",RO="@firebase/installations",kO="@firebase/installations-compat",NO="@firebase/messaging",DO="@firebase/messaging-compat",OO="@firebase/performance",MO="@firebase/performance-compat",LO="@firebase/remote-config",VO="@firebase/remote-config-compat",jO="@firebase/storage",FO="@firebase/storage-compat",UO="@firebase/firestore",$O="@firebase/vertexai",zO="@firebase/firestore-compat",BO="firebase",WO="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="[DEFAULT]",HO={[Fp]:"fire-core",[vO]:"fire-core-compat",[_O]:"fire-analytics",[wO]:"fire-analytics-compat",[TO]:"fire-app-check",[EO]:"fire-app-check-compat",[xO]:"fire-auth",[SO]:"fire-auth-compat",[IO]:"fire-rtdb",[bO]:"fire-data-connect",[CO]:"fire-rtdb-compat",[AO]:"fire-fn",[PO]:"fire-fn-compat",[RO]:"fire-iid",[kO]:"fire-iid-compat",[NO]:"fire-fcm",[DO]:"fire-fcm-compat",[OO]:"fire-perf",[MO]:"fire-perf-compat",[LO]:"fire-rc",[VO]:"fire-rc-compat",[jO]:"fire-gcs",[FO]:"fire-gcs-compat",[UO]:"fire-fst",[zO]:"fire-fst-compat",[$O]:"fire-vertex","fire-js":"fire-js",[BO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,qO=new Map,$p=new Map;function Ew(t,e){try{t.container.addComponent(e)}catch(n){gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function So(t){const e=t.name;if($p.has(e))return gr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,t);for(const n of Ku.values())Ew(n,t);for(const n of qO.values())Ew(n,t);return!0}function bg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ut(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Ol("app","Firebase",KO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new si("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=WO;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Up,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ls.create("bad-app-name",{appName:String(s)});if(n||(n=KS()),!n)throw ls.create("no-options");const i=Ku.get(s);if(i){if(ri(n,i.options)&&ri(r,i.config))return i;throw ls.create("duplicate-app",{appName:s})}const o=new eO(s);for(const c of $p.values())o.addComponent(c);const a=new GO(n,r,o);return Ku.set(s,a),a}function JS(t=Up){const e=Ku.get(t);if(!e&&t===Up&&KS())return XS();if(!e)throw ls.create("no-app",{appName:t});return e}function cs(t,e,n){var r;let s=(r=HO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gr.warn(a.join(" "));return}So(new si(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="firebase-heartbeat-database",YO=1,cl="firebase-heartbeat-store";let _f=null;function ZS(){return _f||(_f=fO(QO,YO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ls.create("idb-open",{originalErrorMessage:t.message})})),_f}async function XO(t){try{const n=(await ZS()).transaction(cl),r=await n.objectStore(cl).get(e1(t));return await n.done,r}catch(e){if(e instanceof Sr)gr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gr.warn(n.message)}}}async function Tw(t,e){try{const r=(await ZS()).transaction(cl,"readwrite");await r.objectStore(cl).put(e,e1(t)),await r.done}catch(n){if(n instanceof Sr)gr.warn(n.message);else{const r=ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});gr.warn(r.message)}}}function e1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=1024,ZO=30;class eM{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nM(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>ZO){const o=rM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xw(),{heartbeatsToSend:r,unsentEntries:s}=tM(this._heartbeatsCache.heartbeats),i=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return gr.warn(n),""}}}function xw(){return new Date().toISOString().substring(0,10)}function tM(t,e=JO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Sw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z2()?B2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await XO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return qu(JSON.stringify({version:2,heartbeats:t})).length}function rM(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){So(new si("platform-logger",e=>new gO(e),"PRIVATE")),So(new si("heartbeat",e=>new eM(e),"PRIVATE")),cs(Fp,_w,t),cs(Fp,_w,"esm2017"),cs("fire-js","")}sM("");var Un=function(){return Un=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Un.apply(this,arguments)};function Ll(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function iM(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function t1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oM=t1,n1=new Ol("auth","Firebase",t1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=new Sg("@firebase/auth");function aM(t,...e){Gu.logLevel<=ve.WARN&&Gu.warn(`Auth (${jo}): ${t}`,...e)}function iu(t,...e){Gu.logLevel<=ve.ERROR&&Gu.error(`Auth (${jo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw Ag(t,...e)}function Cn(t,...e){return Ag(t,...e)}function Cg(t,e,n){const r=Object.assign(Object.assign({},oM()),{[e]:n});return new Ol("auth","Firebase",r).create(e,{appName:t.name})}function Bn(t){return Cg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&hn(t,"argument-error"),Cg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ag(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return n1.create(t,...e)}function re(t,e,...n){if(!t)throw Ag(e,...n)}function lr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw iu(e),new Error(e)}function yr(t,e){t||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function cM(){return Iw()==="http:"||Iw()==="https:"}function Iw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cM()||j2()||"connection"in navigator)?navigator.onLine:!0}function dM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=M2()||F2()}get(){return uM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pM=new Vl(3e4,6e4);function Cs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ir(t,e,n,r,s={}){return s1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ml(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return V2()||(u.referrerPolicy="no-referrer"),r1.fetch()(await i1(t,t.config.apiHost,n,a),u)})}async function s1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},hM),e);try{const s=new gM(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw kc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw kc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw kc(t,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Cg(t,d,u);hn(t,d)}}catch(s){if(s instanceof Sr)throw s;hn(t,"network-request-failed",{message:String(s)})}}async function jl(t,e,n,r,s={}){const i=await Ir(t,e,n,r,s);return"mfaPendingCredential"in i&&hn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function i1(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Pg(t.config,s):`${t.config.apiScheme}://${s}`;return fM.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function mM(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cn(this.auth,"network-request-failed")),pM.get())})}}function kc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Cn(t,e,r);return s.customData._tokenResponse=n,s}function bw(t){return t!==void 0&&t.enterprise!==void 0}class yM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mM(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vM(t,e){return Ir(t,"GET","/v2/recaptchaConfig",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wM(t,e){return Ir(t,"POST","/v1/accounts:delete",e)}async function Qu(t,e){return Ir(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _M(t,e=!1){const n=At(t),r=await n.getIdToken(e),s=Rg(r);re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Fa(Ef(s.auth_time)),issuedAtTime:Fa(Ef(s.iat)),expirationTime:Fa(Ef(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Ef(t){return Number(t)*1e3}function Rg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const s=HS(n);return s?JSON.parse(s):(iu("Failed to decode base64 JWT payload"),null)}catch(s){return iu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Cw(t){const e=Rg(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Sr&&EM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function EM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fa(this.lastLoginAt),this.creationTime=Fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Io(t,Qu(n,{idToken:r}));re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?o1(i.providerUserInfo):[],a=SM(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Bp(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function xM(t){const e=At(t);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function SM(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function o1(t){return t.map(e=>{var{providerId:n}=e,r=Ll(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IM(t,e){const n=await s1(t,{},async()=>{const r=Ml({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await i1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",r1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function bM(t,e){return Ir(t,"POST","/v2/accounts:revokeToken",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=Cw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await IM(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ji;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ji,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ll(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new TM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Bp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Io(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _M(this,e)}reload(){return xM(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ut(this.auth.app))return Promise.reject(Bn(this.auth));const e=await this.getIdToken();return await Io(this,wM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,w=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:T,emailVerified:k,isAnonymous:O,providerData:L,stsTokenManager:b}=n;re(T&&b,e,"internal-error");const I=Ji.fromJSON(this.name,b);re(typeof T=="string",e,"internal-error"),Or(p,e.name),Or(m,e.name),re(typeof k=="boolean",e,"internal-error"),re(typeof O=="boolean",e,"internal-error"),Or(w,e.name),Or(x,e.name),Or(y,e.name),Or(S,e.name),Or(E,e.name),Or(_,e.name);const A=new xn({uid:T,auth:e,email:m,emailVerified:k,displayName:p,isAnonymous:O,photoURL:x,phoneNumber:w,tenantId:y,stsTokenManager:I,createdAt:E,lastLoginAt:_});return L&&Array.isArray(L)&&(A.providerData=L.map(P=>Object.assign({},P))),S&&(A._redirectEventId=S),A}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ji;s.updateFromServerResponse(n);const i=new xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Yu(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?o1(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ji;a.updateFromIdToken(r);const c=new xn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Bp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function cr(t){yr(t instanceof Function,"Expected a class definition");let e=Aw.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}a1.type="NONE";const Pw=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,n){return`firebase:${t}:${e}:${n}`}class Zi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=ou(this.userKey,s.apiKey,i),this.fullPersistenceKey=ou("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Qu(this.auth,{idToken:e}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,e):null}return xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zi(cr(Pw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||cr(Pw);const o=ou(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const d=await u._get(o);if(d){let p;if(typeof d=="string"){const m=await Qu(e,{idToken:d}).catch(()=>{});if(!m)break;p=await xn._fromGetAccountInfoResponse(e,m,d)}else p=xn._fromJSON(e,d);u!==i&&(a=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Zi(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new Zi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(l1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(f1(e))return"Blackberry";if(p1(e))return"Webos";if(c1(e))return"Safari";if((e.includes("chrome/")||u1(e))&&!e.includes("edge/"))return"Chrome";if(h1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function l1(t=Ct()){return/firefox\//i.test(t)}function c1(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u1(t=Ct()){return/crios\//i.test(t)}function d1(t=Ct()){return/iemobile/i.test(t)}function h1(t=Ct()){return/android/i.test(t)}function f1(t=Ct()){return/blackberry/i.test(t)}function p1(t=Ct()){return/webos/i.test(t)}function kg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CM(t=Ct()){var e;return kg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AM(){return U2()&&document.documentMode===10}function m1(t=Ct()){return kg(t)||h1(t)||p1(t)||f1(t)||/windows phone/i.test(t)||d1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e=[]){let n;switch(t){case"Browser":n=Rw(Ct());break;case"Worker":n=`${Rw(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RM(t,e={}){return Ir(t,"GET","/v2/passwordPolicy",Cs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=6;class NM{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kw(this),this.idTokenSubscription=new kw(this),this.beforeStateQueue=new PM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=n1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Zi.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Qu(this,{idToken:e}),r=await xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ut(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=dM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ut(this.app))return Promise.reject(Bn(this));const n=e?At(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ut(this.app)?Promise.reject(Bn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ut(this.app)?Promise.reject(Bn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RM(this),n=new NM(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ol("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await bM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Zi.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=g1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Ut(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function br(t){return At(t)}class kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=G2(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OM(t){Wd=t}function y1(t){return Wd.loadJS(t)}function MM(){return Wd.recaptchaEnterpriseScript}function LM(){return Wd.gapiScript}function VM(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class jM{constructor(){this.enterprise=new FM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const UM="recaptcha-enterprise",v1="NO_RECAPTCHA";class $M{constructor(e){this.type=UM,this.auth=br(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{vM(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new yM(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;bw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(v1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jM().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&bw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=MM();c.length!==0&&(c+=a),y1(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Nw(t,e,n,r=!1,s=!1){const i=new $M(t);let o;if(s)o=v1;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wp(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Nw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Nw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t,e){const n=bg(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ri(i,e??{}))return s;hn(s,"already-initialized")}return n.initialize({options:e})}function BM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WM(t,e,n){const r=br(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=w1(e),{host:o,port:a}=HM(e),c=a===null?"":`:${a}`,u={url:`${i}//${o}${c}/`},d=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(ri(u,r.config.emulator)&&ri(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,qM()}function w1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HM(t){const e=w1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Dw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Dw(o)}}}function Dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function qM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function KM(t,e){return Ir(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){return jl(t,"POST","/v1/accounts:signInWithPassword",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(t,e){return jl(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}async function YM(t,e){return jl(t,"POST","/v1/accounts:signInWithEmailLink",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends Ng{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ul(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ul(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,n,"signInWithPassword",GM);case"emailLink":return QM(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wp(e,r,"signUpPassword",KM);case"emailLink":return YM(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t,e){return jl(t,"POST","/v1/accounts:signInWithIdp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="http://localhost";class ii extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ll(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ii(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return eo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,eo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,eo(e,n)}buildRequest(){const e={requestUri:XM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ml(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZM(t){const e=xa(Sa(t)).link,n=e?xa(Sa(e)).deep_link_id:null,r=xa(Sa(t)).deep_link_id;return(r?xa(Sa(r)).link:null)||r||n||e||t}class Dg{constructor(e){var n,r,s,i,o,a;const c=xa(Sa(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,p=JM((s=c.mode)!==null&&s!==void 0?s:null);re(u&&d&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=d,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=ZM(e);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return ul._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dg.parseLink(n);return re(r,"argument-error"),ul._fromEmailAndCode(e,r.code,r.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends Og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends Fl{constructor(){super("facebook.com")}static credential(e){return ii._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ii._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ir.credential(n,r)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Fl{constructor(){super("github.com")}static credential(e){return ii._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Fl{constructor(){super("twitter.com")}static credential(e,n){return ii._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wr.credential(n,r)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(t,e){return jl(t,"POST","/v1/accounts:signUp",Cs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await xn._fromIdTokenResponse(e,r,s),o=Ow(r);return new vr({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Ow(r);return new vr({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Ow(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eL(t){var e;if(Ut(t.app))return Promise.reject(Bn(t));const n=br(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new vr({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await _1(n,{returnSecureToken:!0}),s=await vr._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends Sr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Xu(e,n,r,s)}}function E1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(t,i,e,r):i})}async function tL(t,e,n=!1){const r=await Io(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e,n=!1){const{auth:r}=t;if(Ut(r.app))return Promise.reject(Bn(r));const s="reauthenticate";try{const i=await Io(t,E1(r,s,e,t),n);re(i.idToken,r,"internal-error");const o=Rg(i.idToken);re(o,r,"internal-error");const{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),vr._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(t,e,n=!1){if(Ut(t.app))return Promise.reject(Bn(t));const r="signIn",s=await E1(t,r,e),i=await vr._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function rL(t,e){return T1(br(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t){const e=br(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sL(t,e,n){if(Ut(t.app))return Promise.reject(Bn(t));const r=br(t),o=await Wp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_1).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&x1(t),c}),a=await vr._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function iL(t,e,n){return Ut(t.app)?Promise.reject(Bn(t)):rL(At(t),Fo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&x1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(t,e){return Ir(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mw(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=At(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Io(r,oL(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function aL(t,e,n,r){return At(t).onIdTokenChanged(e,n,r)}function lL(t,e,n){return At(t).beforeAuthStateChanged(e,n)}function S1(t,e,n,r){return At(t).onAuthStateChanged(e,n,r)}function cL(t){return At(t).signOut()}const Ju="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ju,"1"),this.storage.removeItem(Ju),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=1e3,dL=10;class b1 extends I1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);AM()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dL):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}b1.type="LOCAL";const hL=b1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends I1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}C1.type="SESSION";const A1=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Hd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await fL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Mg("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function mL(t){Wn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function gL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vL(){return P1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="firebaseLocalStorageDb",wL=1,Zu="firebaseLocalStorage",k1="fbase_key";class Ul{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qd(t,e){return t.transaction([Zu],e?"readwrite":"readonly").objectStore(Zu)}function _L(){const t=indexedDB.deleteDatabase(R1);return new Ul(t).toPromise()}function Hp(){const t=indexedDB.open(R1,wL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zu,{keyPath:k1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zu)?e(r):(r.close(),await _L(),e(await Hp()))})})}async function Lw(t,e,n){const r=qd(t,!0).put({[k1]:e,value:n});return new Ul(r).toPromise()}async function EL(t,e){const n=qd(t,!1).get(e),r=await new Ul(n).toPromise();return r===void 0?null:r.value}function Vw(t,e){const n=qd(t,!0).delete(e);return new Ul(n).toPromise()}const TL=800,xL=3;class N1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return P1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hd._getInstance(vL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gL(),!this.activeServiceWorker)return;this.sender=new pL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hp();return await Lw(e,Ju,"1"),await Vw(e,Ju),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qd(s,!1).getAll();return new Ul(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}N1.type="LOCAL";const SL=N1;new Vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(t,e){return e?cr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg extends Ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return eo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return eo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IL(t){return T1(t.auth,new Lg(t),t.bypassAuthState)}function bL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),nL(n,new Lg(t),t.bypassAuthState)}async function CL(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),tL(n,new Lg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IL;case"linkViaPopup":case"linkViaRedirect":return CL;case"reauthViaPopup":case"reauthViaRedirect":return bL;default:hn(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=new Vl(2e3,1e4);async function PL(t,e,n){if(Ut(t.app))return Promise.reject(Cn(t,"operation-not-supported-in-this-environment"));const r=br(t);lM(t,e,Og);const s=D1(r,n);return new Bs(r,"signInViaPopup",e,s).executeNotNull()}class Bs extends O1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=Mg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AL.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="pendingRedirect",au=new Map;class kL extends O1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=au.get(this.auth._key());if(!e){try{const r=await NL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}au.set(this.auth._key(),e)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NL(t,e){const n=ML(e),r=OL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function DL(t,e){au.set(t._key(),e)}function OL(t){return cr(t._redirectPersistence)}function ML(t){return ou(RL,t.config.apiKey,t.name)}async function LL(t,e,n=!1){if(Ut(t.app))return Promise.reject(Bn(t));const r=br(t),s=D1(r,e),o=await new kL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL=10*60*1e3;class jL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!M1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VL&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e={}){return Ir(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zL=/^https?/;async function BL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UL(t);for(const n of e)try{if(WL(n))return}catch{}hn(t,"unauthorized-domain")}function WL(t){const e=zp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zL.test(n))return!1;if($L.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=new Vl(3e4,6e4);function Fw(){const t=Wn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qL(t){return new Promise((e,n)=>{var r,s,i;function o(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),n(Cn(t,"network-request-failed"))},timeout:HL.get()})}if(!((s=(r=Wn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Wn().gapi)===null||i===void 0)&&i.load)o();else{const a=VM("iframefcb");return Wn()[a]=()=>{gapi.load?o():n(Cn(t,"network-request-failed"))},y1(`${LM()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw lu=null,e})}let lu=null;function KL(t){return lu=lu||qL(t),lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=new Vl(5e3,15e3),QL="__/auth/iframe",YL="emulator/auth/iframe",XL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZL(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Pg(e,YL):`https://${t.config.authDomain}/${QL}`,r={apiKey:e.apiKey,appName:t.name,v:jo},s=JL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ml(r).slice(1)}`}async function eV(t){const e=await KL(t),n=Wn().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:ZL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Cn(t,"network-request-failed"),a=Wn().setTimeout(()=>{i(o)},GL.get());function c(){Wn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nV=500,rV=600,sV="_blank",iV="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oV(t,e,n,r=nV,s=rV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},tV),{width:r.toString(),height:s.toString(),top:i,left:o}),u=Ct().toLowerCase();n&&(a=u1(u)?sV:n),l1(u)&&(e=e||iV,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[w,x])=>`${m}${w}=${x},`,"");if(CM(u)&&a!=="_self")return aV(e||"",a),new Uw(null);const p=window.open(e||"",a,d);re(p,t,"popup-blocked");try{p.focus()}catch{}return new Uw(p)}function aV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV="__/auth/handler",cV="emulator/auth/handler",uV=encodeURIComponent("fac");async function $w(t,e,n,r,s,i){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:jo,eventId:s};if(e instanceof Og){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",K2(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))o[d]=p}if(e instanceof Fl){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const c=await t._getAppCheckToken(),u=c?`#${uV}=${encodeURIComponent(c)}`:"";return`${dV(t)}?${Ml(a).slice(1)}${u}`}function dV({config:t}){return t.emulator?Pg(t,cV):`https://${t.authDomain}/${lV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class hV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A1,this._completeRedirectFn=LL,this._overrideRedirectResult=DL}async _openPopup(e,n,r,s){var i;yr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await $w(e,n,r,zp(),s);return oV(e,o,Mg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await $w(e,n,r,zp(),s);return mL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eV(e),r=new jL(e);return n.register("authEvent",s=>(re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Tf];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return m1()||c1()||kg()}}const fV=hV;var zw="@firebase/auth",Bw="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gV(t){So(new si("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:g1(t)},u=new DM(r,s,i,c);return BM(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),So(new si("auth-internal",e=>{const n=br(e.getProvider("auth").getImmediate());return(r=>new pV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(zw,Bw,mV(t)),cs(zw,Bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=5*60,vV=GS("authIdTokenMaxAge")||yV;let Ww=null;const wV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vV)return;const s=n==null?void 0:n.token;Ww!==s&&(Ww=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Uo(t=JS()){const e=bg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zM(t,{popupRedirectResolver:fV,persistence:[SL,hL,A1]}),r=GS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=wV(i.toString());lL(n,o,()=>o(n.currentUser)),aL(n,a=>o(a))}}const s=qS("auth");return s&&WM(n,`http://${s}`),n}function _V(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OM({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Cn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_V().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gV("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,L1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function A(){}A.prototype=I.prototype,b.D=I.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(P,N,D){for(var R=Array(arguments.length-2),W=2;W<arguments.length;W++)R[W-2]=arguments[W];return I.prototype[N].apply(P,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,I,A){A||(A=0);var P=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)P[N]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=b.g[0],A=b.g[1],N=b.g[2];var D=b.g[3],R=I+(D^A&(N^D))+P[0]+3614090360&4294967295;I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+P[1]+3905402710&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+P[2]+606105819&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+P[3]+3250441966&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(D^A&(N^D))+P[4]+4118548399&4294967295,I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+P[5]+1200080426&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+P[6]+2821735955&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+P[7]+4249261313&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(D^A&(N^D))+P[8]+1770035416&4294967295,I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+P[9]+2336552879&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+P[10]+4294925233&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+P[11]+2304563134&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(D^A&(N^D))+P[12]+1804603682&4294967295,I=A+(R<<7&4294967295|R>>>25),R=D+(N^I&(A^N))+P[13]+4254626195&4294967295,D=I+(R<<12&4294967295|R>>>20),R=N+(A^D&(I^A))+P[14]+2792965006&4294967295,N=D+(R<<17&4294967295|R>>>15),R=A+(I^N&(D^I))+P[15]+1236535329&4294967295,A=N+(R<<22&4294967295|R>>>10),R=I+(N^D&(A^N))+P[1]+4129170786&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+P[6]+3225465664&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+P[11]+643717713&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+P[0]+3921069994&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^D&(A^N))+P[5]+3593408605&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+P[10]+38016083&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+P[15]+3634488961&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+P[4]+3889429448&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^D&(A^N))+P[9]+568446438&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+P[14]+3275163606&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+P[3]+4107603335&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+P[8]+1163531501&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(N^D&(A^N))+P[13]+2850285829&4294967295,I=A+(R<<5&4294967295|R>>>27),R=D+(A^N&(I^A))+P[2]+4243563512&4294967295,D=I+(R<<9&4294967295|R>>>23),R=N+(I^A&(D^I))+P[7]+1735328473&4294967295,N=D+(R<<14&4294967295|R>>>18),R=A+(D^I&(N^D))+P[12]+2368359562&4294967295,A=N+(R<<20&4294967295|R>>>12),R=I+(A^N^D)+P[5]+4294588738&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+P[8]+2272392833&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+P[11]+1839030562&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+P[14]+4259657740&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^D)+P[1]+2763975236&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+P[4]+1272893353&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+P[7]+4139469664&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+P[10]+3200236656&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^D)+P[13]+681279174&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+P[0]+3936430074&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+P[3]+3572445317&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+P[6]+76029189&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(A^N^D)+P[9]+3654602809&4294967295,I=A+(R<<4&4294967295|R>>>28),R=D+(I^A^N)+P[12]+3873151461&4294967295,D=I+(R<<11&4294967295|R>>>21),R=N+(D^I^A)+P[15]+530742520&4294967295,N=D+(R<<16&4294967295|R>>>16),R=A+(N^D^I)+P[2]+3299628645&4294967295,A=N+(R<<23&4294967295|R>>>9),R=I+(N^(A|~D))+P[0]+4096336452&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+P[7]+1126891415&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+P[14]+2878612391&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+P[5]+4237533241&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~D))+P[12]+1700485571&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+P[3]+2399980690&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+P[10]+4293915773&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+P[1]+2240044497&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~D))+P[8]+1873313359&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+P[15]+4264355552&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+P[6]+2734768916&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+P[13]+1309151649&4294967295,A=N+(R<<21&4294967295|R>>>11),R=I+(N^(A|~D))+P[4]+4149444226&4294967295,I=A+(R<<6&4294967295|R>>>26),R=D+(A^(I|~N))+P[11]+3174756917&4294967295,D=I+(R<<10&4294967295|R>>>22),R=N+(I^(D|~A))+P[2]+718787259&4294967295,N=D+(R<<15&4294967295|R>>>17),R=A+(D^(N|~I))+P[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,b.g[2]=b.g[2]+N&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,I){I===void 0&&(I=b.length);for(var A=I-this.blockSize,P=this.B,N=this.h,D=0;D<I;){if(N==0)for(;D<=A;)s(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<I;)if(P[N++]=b.charCodeAt(D++),N==this.blockSize){s(this,P),N=0;break}}else for(;D<I;)if(P[N++]=b[D++],N==this.blockSize){s(this,P),N=0;break}}this.h=N,this.o+=I},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var A=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=A&255,A/=256;for(this.u(b),b=Array(16),I=A=0;4>I;++I)for(var P=0;32>P;P+=8)b[A++]=this.g[I]>>>P&255;return b};function i(b,I){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=I(b)}function o(b,I){this.h=I;for(var A=[],P=!0,N=b.length-1;0<=N;N--){var D=b[N]|0;P&&D==I||(A[N]=D,P=!1)}this.g=A}var a={};function c(b){return-128<=b&&128>b?i(b,function(I){return new o([I|0],0>I?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return S(u(-b));for(var I=[],A=1,P=0;b>=A;P++)I[P]=b/A|0,A*=4294967296;return new o(I,0)}function d(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return S(d(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(I,8)),P=p,N=0;N<b.length;N+=8){var D=Math.min(8,b.length-N),R=parseInt(b.substring(N,N+D),I);8>D?(D=u(Math.pow(I,D)),P=P.j(D).add(u(R))):(P=P.j(A),P=P.add(u(R)))}return P}var p=c(0),m=c(1),w=c(16777216);t=o.prototype,t.m=function(){if(y(this))return-S(this).m();for(var b=0,I=1,A=0;A<this.g.length;A++){var P=this.i(A);b+=(0<=P?P:4294967296+P)*I,I*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x(this))return"0";if(y(this))return"-"+S(this).toString(b);for(var I=u(Math.pow(b,6)),A=this,P="";;){var N=k(A,I).g;A=E(A,N.j(I));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=N,x(A))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function x(b){if(b.h!=0)return!1;for(var I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=E(this,b),y(b)?-1:x(b)?0:1};function S(b){for(var I=b.g.length,A=[],P=0;P<I;P++)A[P]=~b.g[P];return new o(A,~b.h).add(m)}t.abs=function(){return y(this)?S(this):this},t.add=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0,N=0;N<=I;N++){var D=P+(this.i(N)&65535)+(b.i(N)&65535),R=(D>>>16)+(this.i(N)>>>16)+(b.i(N)>>>16);P=R>>>16,D&=65535,R&=65535,A[N]=R<<16|D}return new o(A,A[A.length-1]&-2147483648?-1:0)};function E(b,I){return b.add(S(I))}t.j=function(b){if(x(this)||x(b))return p;if(y(this))return y(b)?S(this).j(S(b)):S(S(this).j(b));if(y(b))return S(this.j(S(b)));if(0>this.l(w)&&0>b.l(w))return u(this.m()*b.m());for(var I=this.g.length+b.g.length,A=[],P=0;P<2*I;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<b.g.length;N++){var D=this.i(P)>>>16,R=this.i(P)&65535,W=b.i(N)>>>16,ee=b.i(N)&65535;A[2*P+2*N]+=R*ee,_(A,2*P+2*N),A[2*P+2*N+1]+=D*ee,_(A,2*P+2*N+1),A[2*P+2*N+1]+=R*W,_(A,2*P+2*N+1),A[2*P+2*N+2]+=D*W,_(A,2*P+2*N+2)}for(P=0;P<I;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=I;P<2*I;P++)A[P]=0;return new o(A,0)};function _(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function T(b,I){this.g=b,this.h=I}function k(b,I){if(x(I))throw Error("division by zero");if(x(b))return new T(p,p);if(y(b))return I=k(S(b),I),new T(S(I.g),S(I.h));if(y(I))return I=k(b,S(I)),new T(S(I.g),I.h);if(30<b.g.length){if(y(b)||y(I))throw Error("slowDivide_ only works with positive integers.");for(var A=m,P=I;0>=P.l(b);)A=O(A),P=O(P);var N=L(A,1),D=L(P,1);for(P=L(P,2),A=L(A,2);!x(P);){var R=D.add(P);0>=R.l(b)&&(N=N.add(A),D=R),P=L(P,1),A=L(A,1)}return I=E(b,N.j(I)),new T(N,I)}for(N=p;0<=b.l(I);){for(A=Math.max(1,Math.floor(b.m()/I.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=u(A),R=D.j(I);y(R)||0<R.l(b);)A-=P,D=u(A),R=D.j(I);x(D)&&(D=m),N=N.add(D),b=E(b,R)}return new T(N,b)}t.A=function(b){return k(this,b).h},t.and=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)&b.i(P);return new o(A,this.h&b.h)},t.or=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)|b.i(P);return new o(A,this.h|b.h)},t.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),A=[],P=0;P<I;P++)A[P]=this.i(P)^b.i(P);return new o(A,this.h^b.h)};function O(b){for(var I=b.g.length+1,A=[],P=0;P<I;P++)A[P]=b.i(P)<<1|b.i(P-1)>>>31;return new o(A,b.h)}function L(b,I){var A=I>>5;I%=32;for(var P=b.g.length-A,N=[],D=0;D<P;D++)N[D]=0<I?b.i(D+A)>>>I|b.i(D+A+1)<<32-I:b.i(D+A);return new o(N,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,us=o}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V1,Ia,j1,cu,qp,F1,U1,$1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var M=l[C];if(!(M in g))break e;g=g[M]}l=l[l.length-1],C=g[l],h=h(C),h!=C&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var g=0,C=!1,M={next:function(){if(!C&&g<l.length){var j=g++;return{value:h(j,l[j]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,g){return l.call.apply(l.bind,arguments)}function p(l,h,g){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function m(l,h,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function w(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function x(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(C,M,j){for(var K=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)K[Re-2]=arguments[Re];return h.prototype[M].apply(C,K)}}function y(l){const h=l.length;if(0<h){const g=Array(h);for(let C=0;C<h;C++)g[C]=l[C];return g}return[]}function S(l,h){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(c(C)){const M=l.length||0,j=C.length||0;l.length=M+j;for(let K=0;K<j;K++)l[M+K]=C[K]}else l.push(C)}}class E{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function k(l){return k[" "](l),l}k[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(l,h,g){for(const C in l)h.call(g,l[C],C,l)}function b(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function I(l){const h={};for(const g in l)h[g]=l[g];return h}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,h){let g,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(g in C)l[g]=C[g];for(let j=0;j<A.length;j++)g=A[j],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function N(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function R(){var l=q;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class W{constructor(){this.h=this.g=null}add(h,g){const C=ee.get();C.set(h,g),this.h?this.h.next=C:this.g=C,this.h=C}}var ee=new E(()=>new X,l=>l.reset());class X{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,V=!1,q=new W,J=()=>{const l=a.Promise.resolve(void 0);Z=()=>{l.then(ne)}};var ne=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(g){D(g)}var h=ee;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}V=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function Qe(l,h){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(O){e:{try{k(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:H[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Qe.aa.h.call(this)}}x(Qe,ye);var H={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),fe=0;function Ie(l,h,g,C,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!C,this.ha=M,this.key=++fe,this.da=this.fa=!1}function ue(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function de(l){this.src=l,this.g={},this.h=0}de.prototype.add=function(l,h,g,C,M){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var K=ot(l,h,C,M);return-1<K?(h=l[K],g||(h.fa=!1)):(h=new Ie(h,this.src,j,!!C,M),h.fa=g,l.push(h)),h};function _e(l,h){var g=h.type;if(g in l.g){var C=l.g[g],M=Array.prototype.indexOf.call(C,h,void 0),j;(j=0<=M)&&Array.prototype.splice.call(C,M,1),j&&(ue(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function ot(l,h,g,C){for(var M=0;M<l.length;++M){var j=l[M];if(!j.da&&j.listener==h&&j.capture==!!g&&j.ha==C)return M}return-1}var Vt="closure_lm_"+(1e6*Math.random()|0),Xn={};function Cr(l,h,g,C,M){if(Array.isArray(h)){for(var j=0;j<h.length;j++)Cr(l,h[j],g,C,M);return null}return g=zy(g),l&&l[B]?l.K(h,g,u(C)?!!C.capture:!!C,M):ks(l,h,g,!1,C,M)}function ks(l,h,g,C,M,j){if(!h)throw Error("Invalid event type");var K=u(M)?!!M.capture:!!M,Re=vh(l);if(Re||(l[Vt]=Re=new de(l)),g=Re.add(h,g,C,K,j),g.proxy)return g;if(C=gh(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)Ne||(M=K),M===void 0&&(M=!1),l.addEventListener(h.toString(),C,M);else if(l.attachEvent)l.attachEvent($y(h.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function gh(){function l(g){return h.call(l.src,l.listener,g)}const h=CA;return l}function Ns(l,h,g,C,M){if(Array.isArray(h))for(var j=0;j<h.length;j++)Ns(l,h[j],g,C,M);else C=u(C)?!!C.capture:!!C,g=zy(g),l&&l[B]?(l=l.i,h=String(h).toString(),h in l.g&&(j=l.g[h],g=ot(j,g,C,M),-1<g&&(ue(j[g]),Array.prototype.splice.call(j,g,1),j.length==0&&(delete l.g[h],l.h--)))):l&&(l=vh(l))&&(h=l.g[h.toString()],l=-1,h&&(l=ot(h,g,C,M)),(g=-1<l?h[l]:null)&&yh(g))}function yh(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[B])_e(h.i,l);else{var g=l.type,C=l.proxy;h.removeEventListener?h.removeEventListener(g,C,l.capture):h.detachEvent?h.detachEvent($y(g),C):h.addListener&&h.removeListener&&h.removeListener(C),(g=vh(h))?(_e(g,l),g.h==0&&(g.src=null,h[Vt]=null)):ue(l)}}}function $y(l){return l in Xn?Xn[l]:Xn[l]="on"+l}function CA(l,h){if(l.da)l=!0;else{h=new Qe(h,this);var g=l.listener,C=l.ha||l.src;l.fa&&yh(l),l=g.call(C,h)}return l}function vh(l){return l=l[Vt],l instanceof de?l:null}var wh="__closure_events_fn_"+(1e9*Math.random()>>>0);function zy(l){return typeof l=="function"?l:(l[wh]||(l[wh]=function(h){return l.handleEvent(h)}),l[wh])}function pt(){le.call(this),this.i=new de(this),this.M=this,this.F=null}x(pt,le),pt.prototype[B]=!0,pt.prototype.removeEventListener=function(l,h,g,C){Ns(this,l,h,g,C)};function Pt(l,h){var g,C=l.F;if(C)for(g=[];C;C=C.F)g.push(C);if(l=l.M,C=h.type||h,typeof h=="string")h=new ye(h,l);else if(h instanceof ye)h.target=h.target||l;else{var M=h;h=new ye(C,l),P(h,M)}if(M=!0,g)for(var j=g.length-1;0<=j;j--){var K=h.g=g[j];M=Kl(K,C,!0,h)&&M}if(K=h.g=l,M=Kl(K,C,!0,h)&&M,M=Kl(K,C,!1,h)&&M,g)for(j=0;j<g.length;j++)K=h.g=g[j],M=Kl(K,C,!1,h)&&M}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],C=0;C<g.length;C++)ue(g[C]);delete l.g[h],l.h--}}this.F=null},pt.prototype.K=function(l,h,g,C){return this.i.add(String(l),h,!1,g,C)},pt.prototype.L=function(l,h,g,C){return this.i.add(String(l),h,!0,g,C)};function Kl(l,h,g,C){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,j=0;j<h.length;++j){var K=h[j];if(K&&!K.da&&K.capture==g){var Re=K.listener,at=K.ha||K.src;K.fa&&_e(l.i,K),M=Re.call(at,C)!==!1&&M}}return M&&!C.defaultPrevented}function By(l,h,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function Wy(l){l.g=By(()=>{l.g=null,l.i&&(l.i=!1,Wy(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class AA extends le{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Wy(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yo(l){le.call(this),this.h=l,this.g={}}x(Yo,le);var Hy=[];function qy(l){L(l.g,function(h,g){this.g.hasOwnProperty(g)&&yh(h)},l),l.g={}}Yo.prototype.N=function(){Yo.aa.N.call(this),qy(this)},Yo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _h=a.JSON.stringify,PA=a.JSON.parse,RA=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Eh(){}Eh.prototype.h=null;function Ky(l){return l.h||(l.h=l.i())}function Gy(){}var Xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Th(){ye.call(this,"d")}x(Th,ye);function xh(){ye.call(this,"c")}x(xh,ye);var Ds={},Qy=null;function Gl(){return Qy=Qy||new pt}Ds.La="serverreachability";function Yy(l){ye.call(this,Ds.La,l)}x(Yy,ye);function Jo(l){const h=Gl();Pt(h,new Yy(h))}Ds.STAT_EVENT="statevent";function Xy(l,h){ye.call(this,Ds.STAT_EVENT,l),this.stat=h}x(Xy,ye);function Rt(l){const h=Gl();Pt(h,new Xy(h,l))}Ds.Ma="timingevent";function Jy(l,h){ye.call(this,Ds.Ma,l),this.size=h}x(Jy,ye);function Zo(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ea(){this.g=!0}ea.prototype.xa=function(){this.g=!1};function kA(l,h,g,C,M,j){l.info(function(){if(l.g)if(j)for(var K="",Re=j.split("&"),at=0;at<Re.length;at++){var Se=Re[at].split("=");if(1<Se.length){var mt=Se[0];Se=Se[1];var gt=mt.split("_");K=2<=gt.length&&gt[1]=="type"?K+(mt+"="+Se+"&"):K+(mt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+h+`
`+g+`
`+K})}function NA(l,h,g,C,M,j,K){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+h+`
`+g+`
`+j+" "+K})}function vi(l,h,g,C){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+OA(l,g)+(C?" "+C:"")})}function DA(l,h){l.info(function(){return"TIMEOUT: "+h})}ea.prototype.info=function(){};function OA(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var C=g[l];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<M.length;K++)M[K]=""}}}}return _h(g)}catch{return h}}var Ql={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function Yl(){}x(Yl,Eh),Yl.prototype.g=function(){return new XMLHttpRequest},Yl.prototype.i=function(){return{}},Sh=new Yl;function Ar(l,h,g,C){this.j=l,this.i=h,this.l=g,this.R=C||1,this.U=new Yo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ev}function ev(){this.i=null,this.g="",this.h=!1}var tv={},Ih={};function bh(l,h,g){l.L=1,l.v=ec(Jn(h)),l.m=g,l.P=!0,nv(l,null)}function nv(l,h){l.F=Date.now(),Xl(l),l.A=Jn(l.v);var g=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),gv(g.i,"t",C),l.C=0,g=l.j.J,l.h=new ev,l.g=Ov(l.j,g?h:null,!l.m),0<l.O&&(l.M=new AA(m(l.Y,l,l.g),l.O)),h=l.U,g=l.g,C=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Hy[0]=M.toString()),M=Hy);for(var j=0;j<M.length;j++){var K=Cr(g,M[j],C||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),Jo(),kA(l.i,l.u,l.A,l.l,l.R,l.m)}Ar.prototype.ca=function(l){l=l.target;const h=this.M;h&&Zn(l)==3?h.j():this.Y(l)},Ar.prototype.Y=function(l){try{if(l==this.g)e:{const gt=Zn(this.g);var h=this.g.Ba();const Ei=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||xv(this.g)))){this.J||gt!=4||h==7||(h==8||0>=Ei?Jo(3):Jo(2)),Ch(this);var g=this.g.Z();this.X=g;t:if(rv(this)){var C=xv(this.g);l="";var M=C.length,j=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),ta(this);var K="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(C[h],{stream:!(j&&h==M-1)});C.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,NA(this.i,this.u,this.A,this.l,this.R,gt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,at=this.g;if((Re=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Re)){var Se=Re;break t}}Se=null}if(g=Se)vi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ah(this,g);else{this.o=!1,this.s=3,Rt(12),Os(this),ta(this);break e}}if(this.P){g=!0;let fn;for(;!this.J&&this.C<K.length;)if(fn=MA(this,K),fn==Ih){gt==4&&(this.s=4,Rt(14),g=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==tv){this.s=4,Rt(15),vi(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else vi(this.i,this.l,fn,null),Ah(this,fn);if(rv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||K.length!=0||this.h.h||(this.s=1,Rt(16),g=!1),this.o=this.o&&g,!g)vi(this.i,this.l,K,"[Invalid Chunked Response]"),Os(this),ta(this);else if(0<K.length&&!this.W){this.W=!0;var mt=this.j;mt.g==this&&mt.ba&&!mt.M&&(mt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Oh(mt),mt.M=!0,Rt(11))}}else vi(this.i,this.l,K,null),Ah(this,K);gt==4&&Os(this),this.o&&!this.J&&(gt==4?Rv(this.j,this):(this.o=!1,Xl(this)))}else JA(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),Os(this),ta(this)}}}catch{}finally{}};function rv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function MA(l,h){var g=l.C,C=h.indexOf(`
`,g);return C==-1?Ih:(g=Number(h.substring(g,C)),isNaN(g)?tv:(C+=1,C+g>h.length?Ih:(h=h.slice(C,C+g),l.C=C+g,h)))}Ar.prototype.cancel=function(){this.J=!0,Os(this)};function Xl(l){l.S=Date.now()+l.I,sv(l,l.I)}function sv(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Zo(m(l.ba,l),h)}function Ch(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ar.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(DA(this.i,this.A),this.L!=2&&(Jo(),Rt(17)),Os(this),this.s=2,ta(this)):sv(this,this.S-l)};function ta(l){l.j.G==0||l.J||Rv(l.j,l)}function Os(l){Ch(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,qy(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function Ah(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||Ph(g.h,l))){if(!l.K&&Ph(g.h,l)&&g.G==3){try{var C=g.Da.g.parse(h)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)oc(g),sc(g);else break e;Dh(g),Rt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=Zo(m(g.Za,g),6e3));if(1>=av(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ls(g,11)}else if((l.K||g.g==l)&&oc(g),!_(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let Se=M[h];if(g.T=Se[0],Se=Se[1],g.G==2)if(Se[0]=="c"){g.K=Se[1],g.ia=Se[2];const mt=Se[3];mt!=null&&(g.la=mt,g.j.info("VER="+g.la));const gt=Se[4];gt!=null&&(g.Aa=gt,g.j.info("SVER="+g.Aa));const Ei=Se[5];Ei!=null&&typeof Ei=="number"&&0<Ei&&(C=1.5*Ei,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const fn=l.g;if(fn){const lc=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(lc){var j=C.h;j.g||lc.indexOf("spdy")==-1&&lc.indexOf("quic")==-1&&lc.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Rh(j,j.h),j.h=null))}if(C.D){const Mh=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;Mh&&(C.ya=Mh,De(C.I,C.D,Mh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var K=l;if(C.qa=Dv(C,C.J?C.ia:null,C.W),K.K){lv(C.h,K);var Re=K,at=C.L;at&&(Re.I=at),Re.B&&(Ch(Re),Xl(Re)),C.g=K}else Av(C);0<g.i.length&&ic(g)}else Se[0]!="stop"&&Se[0]!="close"||Ls(g,7);else g.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Ls(g,7):Nh(g):Se[0]!="noop"&&g.l&&g.l.ta(Se),g.v=0)}}Jo(4)}catch{}}var LA=class{constructor(l,h){this.g=l,this.map=h}};function iv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ov(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function av(l){return l.h?1:l.g?l.g.size:0}function Ph(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Rh(l,h){l.g?l.g.add(h):l.h=h}function lv(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}iv.prototype.cancel=function(){if(this.i=cv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function cv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return y(l.i)}function VA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,C=0;C<g;C++)h.push(l[C]);return h}h=[],g=0;for(C in l)h[g++]=l[C];return h}function jA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const C in l)h[g++]=C;return h}}}function uv(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=jA(l),C=VA(l),M=C.length,j=0;j<M;j++)h.call(void 0,C[j],g&&g[j],l)}var dv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FA(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var C=l[g].indexOf("="),M=null;if(0<=C){var j=l[g].substring(0,C);M=l[g].substring(C+1)}else j=l[g];h(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ms(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ms){this.h=l.h,Jl(this,l.j),this.o=l.o,this.g=l.g,Zl(this,l.s),this.l=l.l;var h=l.i,g=new sa;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),hv(this,g),this.m=l.m}else l&&(h=String(l).match(dv))?(this.h=!1,Jl(this,h[1]||"",!0),this.o=na(h[2]||""),this.g=na(h[3]||"",!0),Zl(this,h[4]),this.l=na(h[5]||"",!0),hv(this,h[6]||"",!0),this.m=na(h[7]||"")):(this.h=!1,this.i=new sa(null,this.h))}Ms.prototype.toString=function(){var l=[],h=this.j;h&&l.push(ra(h,fv,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(ra(h,fv,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ra(g,g.charAt(0)=="/"?zA:$A,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ra(g,WA)),l.join("")};function Jn(l){return new Ms(l)}function Jl(l,h,g){l.j=g?na(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Zl(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function hv(l,h,g){h instanceof sa?(l.i=h,HA(l.i,l.h)):(g||(h=ra(h,BA)),l.i=new sa(h,l.h))}function De(l,h,g){l.i.set(h,g)}function ec(l){return De(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function na(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ra(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,UA),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function UA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var fv=/[#\/\?@]/g,$A=/[#\?:]/g,zA=/[#\?]/g,BA=/[#\?@]/g,WA=/#/g;function sa(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Pr(l){l.g||(l.g=new Map,l.h=0,l.i&&FA(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=sa.prototype,t.add=function(l,h){Pr(this),this.i=null,l=wi(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function pv(l,h){Pr(l),h=wi(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function mv(l,h){return Pr(l),h=wi(l,h),l.g.has(h)}t.forEach=function(l,h){Pr(this),this.g.forEach(function(g,C){g.forEach(function(M){l.call(h,M,C,this)},this)},this)},t.na=function(){Pr(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let C=0;C<h.length;C++){const M=l[C];for(let j=0;j<M.length;j++)g.push(h[C])}return g},t.V=function(l){Pr(this);let h=[];if(typeof l=="string")mv(this,l)&&(h=h.concat(this.g.get(wi(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Pr(this),this.i=null,l=wi(this,l),mv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function gv(l,h,g){pv(l,h),0<g.length&&(l.i=null,l.g.set(wi(l,h),y(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var C=h[g];const j=encodeURIComponent(String(C)),K=this.V(C);for(C=0;C<K.length;C++){var M=j;K[C]!==""&&(M+="="+encodeURIComponent(String(K[C]))),l.push(M)}}return this.i=l.join("&")};function wi(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function HA(l,h){h&&!l.j&&(Pr(l),l.i=null,l.g.forEach(function(g,C){var M=C.toLowerCase();C!=M&&(pv(this,C),gv(this,M,g))},l)),l.j=h}function qA(l,h){const g=new ea;if(a.Image){const C=new Image;C.onload=w(Rr,g,"TestLoadImage: loaded",!0,h,C),C.onerror=w(Rr,g,"TestLoadImage: error",!1,h,C),C.onabort=w(Rr,g,"TestLoadImage: abort",!1,h,C),C.ontimeout=w(Rr,g,"TestLoadImage: timeout",!1,h,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else h(!1)}function KA(l,h){const g=new ea,C=new AbortController,M=setTimeout(()=>{C.abort(),Rr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:C.signal}).then(j=>{clearTimeout(M),j.ok?Rr(g,"TestPingServer: ok",!0,h):Rr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),Rr(g,"TestPingServer: error",!1,h)})}function Rr(l,h,g,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(g)}catch{}}function GA(){this.g=new RA}function QA(l,h,g){const C=g||"";try{uv(l,function(M,j){let K=M;u(M)&&(K=_h(M)),h.push(C+j+"="+encodeURIComponent(K))})}catch(M){throw h.push(C+"type="+encodeURIComponent("_badmap")),M}}function tc(l){this.l=l.Ub||null,this.j=l.eb||!1}x(tc,Eh),tc.prototype.g=function(){return new nc(this.l,this.j)},tc.prototype.i=function(l){return function(){return l}}({});function nc(l,h){pt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(nc,pt),t=nc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,oa(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ia(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function yv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ia(this):oa(this),this.readyState==3&&yv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ia(this))},t.Qa=function(l){this.g&&(this.response=l,ia(this))},t.ga=function(){this.g&&ia(this)};function ia(l){l.readyState=4,l.l=null,l.j=null,l.v=null,oa(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function oa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(nc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function vv(l){let h="";return L(l,function(g,C){h+=C,h+=":",h+=g,h+=`\r
`}),h}function kh(l,h,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=vv(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):De(l,h,g))}function Be(l){pt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Be,pt);var YA=/^https?$/i,XA=["POST","PUT"];t=Be.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?Ky(this.o):Ky(Sh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(j){wv(this,j);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)g.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const j of C.keys())g.set(j,C.get(j));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(j=>j.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XA,h,void 0))||C||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of g)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Tv(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){wv(this,j)}};function wv(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,_v(l),rc(l)}function _v(l){l.A||(l.A=!0,Pt(l,"complete"),Pt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Pt(this,"complete"),Pt(this,"abort"),rc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rc(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ev(this):this.bb())},t.bb=function(){Ev(this)};function Ev(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Zn(l)!=4||l.Z()!=2)){if(l.u&&Zn(l)==4)By(l.Ea,0,l);else if(Pt(l,"readystatechange"),Zn(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var C;if(C=K===0){var M=String(l.D).match(dv)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!YA.test(M?M.toLowerCase():"")}g=C}if(g)Pt(l,"complete"),Pt(l,"success");else{l.m=6;try{var j=2<Zn(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",_v(l)}}finally{rc(l)}}}}function rc(l,h){if(l.g){Tv(l);const g=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||Pt(l,"ready");try{g.onreadystatechange=C}catch{}}}function Tv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Zn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),PA(h)}};function xv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function JA(l){const h={};l=(l.g&&2<=Zn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(_(l[C]))continue;var g=N(l[C]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const j=h[M]||[];h[M]=j,j.push(g)}b(h,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function aa(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function Sv(l){this.Aa=0,this.i=[],this.j=new ea,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=aa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=aa("baseRetryDelayMs",5e3,l),this.cb=aa("retryDelaySeedMs",1e4,l),this.Wa=aa("forwardChannelMaxRetries",2,l),this.wa=aa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new iv(l&&l.concurrentRequestLimit),this.Da=new GA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Sv.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,C){Rt(0),this.W=l,this.H=h||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=Dv(this,null,this.W),ic(this)};function Nh(l){if(Iv(l),l.G==3){var h=l.U++,g=Jn(l.I);if(De(g,"SID",l.K),De(g,"RID",h),De(g,"TYPE","terminate"),la(l,g),h=new Ar(l,l.j,h),h.L=2,h.v=ec(Jn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=Ov(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Xl(h)}Nv(l)}function sc(l){l.g&&(Oh(l),l.g.cancel(),l.g=null)}function Iv(l){sc(l),l.u&&(a.clearTimeout(l.u),l.u=null),oc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ic(l){if(!ov(l.h)&&!l.s){l.s=!0;var h=l.Ga;Z||J(),V||(Z(),V=!0),q.add(h,l),l.B=0}}function ZA(l,h){return av(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Zo(m(l.Ga,l,h),kv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Ar(this,this.j,l);let j=this.o;if(this.S&&(j?(j=I(j),P(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(h+=C,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=Cv(this,M,h),g=Jn(this.I),De(g,"RID",l),De(g,"CVER",22),this.D&&De(g,"X-HTTP-Session-Id",this.D),la(this,g),j&&(this.O?h="headers="+encodeURIComponent(String(vv(j)))+"&"+h:this.m&&kh(g,this.m,j)),Rh(this.h,M),this.Ua&&De(g,"TYPE","init"),this.P?(De(g,"$req",h),De(g,"SID","null"),M.T=!0,bh(M,g,null)):bh(M,g,h),this.G=2}}else this.G==3&&(l?bv(this,l):this.i.length==0||ov(this.h)||bv(this))};function bv(l,h){var g;h?g=h.l:g=l.U++;const C=Jn(l.I);De(C,"SID",l.K),De(C,"RID",g),De(C,"AID",l.T),la(l,C),l.m&&l.o&&kh(C,l.m,l.o),g=new Ar(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=Cv(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Rh(l.h,g),bh(g,C,h)}function la(l,h){l.H&&L(l.H,function(g,C){De(h,C,g)}),l.l&&uv({},function(g,C){De(h,C,g)})}function Cv(l,h,g){g=Math.min(l.i.length,g);var C=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let j=-1;for(;;){const K=["count="+g];j==-1?0<g?(j=M[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let Re=!0;for(let at=0;at<g;at++){let Se=M[at].g;const mt=M[at].map;if(Se-=j,0>Se)j=Math.max(0,M[at].g-100),Re=!1;else try{QA(mt,K,"req"+Se+"_")}catch{C&&C(mt)}}if(Re){C=K.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,C}function Av(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Z||J(),V||(Z(),V=!0),q.add(h,l),l.v=0}}function Dh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Zo(m(l.Fa,l),kv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Pv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Zo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),sc(this),Pv(this))};function Oh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Pv(l){l.g=new Ar(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Jn(l.qa);De(h,"RID","rpc"),De(h,"SID",l.K),De(h,"AID",l.T),De(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&De(h,"TO",l.ja),De(h,"TYPE","xmlhttp"),la(l,h),l.m&&l.o&&kh(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=ec(Jn(h)),g.m=null,g.P=!0,nv(g,l)}t.Za=function(){this.C!=null&&(this.C=null,sc(this),Dh(this),Rt(19))};function oc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Rv(l,h){var g=null;if(l.g==h){oc(l),Oh(l),l.g=null;var C=2}else if(Ph(l.h,h))g=h.D,lv(l.h,h),C=1;else return;if(l.G!=0){if(h.o)if(C==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;C=Gl(),Pt(C,new Jy(C,g)),ic(l)}else Av(l);else if(M=h.s,M==3||M==0&&0<h.X||!(C==1&&ZA(l,h)||C==2&&Dh(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),M){case 1:Ls(l,5);break;case 4:Ls(l,10);break;case 3:Ls(l,6);break;default:Ls(l,2)}}}function kv(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Ls(l,h){if(l.j.info("Error code "+h),h==2){var g=m(l.fb,l),C=l.Xa;const M=!C;C=new Ms(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Jl(C,"https"),ec(C),M?qA(C.toString(),g):KA(C.toString(),g)}else Rt(2);l.G=0,l.l&&l.l.sa(h),Nv(l),Iv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Nv(l){if(l.G=0,l.ka=[],l.l){const h=cv(l.h);(h.length!=0||l.i.length!=0)&&(S(l.ka,h),S(l.ka,l.i),l.h.i.length=0,y(l.i),l.i.length=0),l.l.ra()}}function Dv(l,h,g){var C=g instanceof Ms?Jn(g):new Ms(g);if(C.g!="")h&&(C.g=h+"."+C.g),Zl(C,C.s);else{var M=a.location;C=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var j=new Ms(null);C&&Jl(j,C),h&&(j.g=h),M&&Zl(j,M),g&&(j.l=g),C=j}return g=l.D,h=l.ya,g&&h&&De(C,g,h),De(C,"VER",l.la),la(l,C),C}function Ov(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Be(new tc({eb:g})):new Be(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Mv(){}t=Mv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ac(){}ac.prototype.g=function(l,h){return new Ht(l,h)};function Ht(l,h){pt.call(this),this.g=new Sv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!_(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new _i(this)}x(Ht,pt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Nh(this.g)},Ht.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=_h(l),l=g);h.i.push(new LA(h.Ya++,l)),h.G==3&&ic(h)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Nh(this.g),delete this.g,Ht.aa.N.call(this)};function Lv(l){Th.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}x(Lv,Th);function Vv(){xh.call(this),this.status=1}x(Vv,xh);function _i(l){this.g=l}x(_i,Mv),_i.prototype.ua=function(){Pt(this.g,"a")},_i.prototype.ta=function(l){Pt(this.g,new Lv(l))},_i.prototype.sa=function(l){Pt(this.g,new Vv)},_i.prototype.ra=function(){Pt(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,$1=function(){return new ac},U1=function(){return Gl()},F1=Ds,qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ql.NO_ERROR=0,Ql.TIMEOUT=8,Ql.HTTP_ERROR=6,cu=Ql,Zy.COMPLETE="complete",j1=Zy,Gy.EventType=Xo,Xo.OPEN="a",Xo.CLOSE="b",Xo.ERROR="c",Xo.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ia=Gy,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,V1=Be}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const qw="@firebase/firestore",Kw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tt.UNAUTHENTICATED=new Tt(null),Tt.GOOGLE_CREDENTIALS=new Tt("google-credentials-uid"),Tt.FIRST_PARTY=new Tt("first-party-uid"),Tt.MOCK_USER=new Tt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Sg("@firebase/firestore");function Ai(){return oi.logLevel}function G(t,...e){if(oi.logLevel<=ve.DEBUG){const n=e.map(Vg);oi.debug(`Firestore (${$o}): ${t}`,...n)}}function wr(t,...e){if(oi.logLevel<=ve.ERROR){const n=e.map(Vg);oi.error(`Firestore (${$o}): ${t}`,...n)}}function bo(t,...e){if(oi.logLevel<=ve.WARN){const n=e.map(Vg);oi.warn(`Firestore (${$o}): ${t}`,...n)}}function Vg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(t="Unexpected state"){const e=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: `+t;throw wr(e),new Error(e)}function Ce(t,e){t||se()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Sr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tt.UNAUTHENTICATED))}shutdown(){}}class TV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xV{constructor(e){this.t=e,this.currentUser=Tt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ce(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ds,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ds)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new z1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new Tt(e)}}class SV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class IV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new SV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bV{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ut(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ce(this.o===void 0);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Gw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new Gw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=CV(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Kp(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return pe(r,s);{const i=B1(),o=AV(i.encode(Qw(t,n)),i.encode(Qw(e,n)));return o!==0?o:pe(r,s)}}n+=r>65535?2:1}return pe(t.length,e.length)}function Qw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function AV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return pe(t[n],e[n]);return pe(t.length,e.length)}function Co(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=-62135596800,Xw=1e6;class tt{static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Xw);return new tt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Yw)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Xw}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Yw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{static fromTimestamp(e){return new ie(e)}static min(){return new ie(new tt(0,0))}static max(){return new ie(new tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__name__";class Mn{constructor(e,n,r){n===void 0?n=0:n>e.length&&se(),r===void 0?r=e.length-n:r>e.length-n&&se(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Mn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return pe(e.length,n.length)}static compareSegments(e,n){const r=Mn.isNumericId(e),s=Mn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Mn.extractNumericId(e).compare(Mn.extractNumericId(n)):Kp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class Le extends Mn{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const PV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Mn{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return PV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Jw}static keyField(){return new ut([Jw])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.path=e}static fromPath(e){return new te(Le.fromString(e))}static fromName(e){return new te(Le.fromString(e).popFirst(5))}static empty(){return new te(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new te(new Le(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function RV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ie.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new ms(s,te.empty(),e)}function kV(t){return new ms(t.readTime,t.key,dl)}class ms{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ms(ie.min(),te.empty(),dl)}static max(){return new ms(ie.max(),te.empty(),dl)}}function NV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=te.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==DV)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{o[u]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function MV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Bo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Kd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Gd(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function LV(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="";function VV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Zw(e)),e=jV(t.get(n),e);return Zw(e)}function jV(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case H1:n+="";break;default:n+=i}}return n}function Zw(t){return t+H1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function pi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ct.RED,this.left=s??ct.EMPTY,this.right=i??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw se();const e=this.left.check();if(e!==this.right.check())throw se();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw se()}get value(){throw se()}get color(){throw se()}get left(){throw se()}get right(){throw se()}copy(e,n,r,s,i){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t_(this.data.getIterator())}getIteratorFrom(e){return new t_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class t_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new nt(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new K1("Invalid base64 string: "+i):i}}(e);return new ft(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ft.EMPTY_BYTE_STRING=new ft("");const FV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=FV.exec(t);if(Ce(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ke(t.seconds),nanos:Ke(t.nanos)}}function Ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?ft.fromBase64String(t):ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="server_timestamp",Q1="__type__",Y1="__previous_value__",X1="__local_write_time__";function Fg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Q1])===null||n===void 0?void 0:n.stringValue)===G1}function Qd(t){const e=t.mapValue.fields[Y1];return Fg(e)?Qd(e):e}function hl(t){const e=gs(t.mapValue.fields[X1].timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r,s,i,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}const td="(default)";class fl{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="__type__",Z1="__max__",Oc={mapValue:{fields:{__type__:{stringValue:Z1}}}},eI="__vector__",nd="value";function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Fg(t)?4:zV(t)?9007199254740991:$V(t)?10:11:se()}function Gn(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hl(t).isEqual(hl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gs(s.timestampValue),a=gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ys(s.bytesValue).isEqual(ys(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ke(s.geoPointValue.latitude)===Ke(i.geoPointValue.latitude)&&Ke(s.geoPointValue.longitude)===Ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ke(s.integerValue)===Ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ke(s.doubleValue),a=Ke(i.doubleValue);return o===a?ed(o)===ed(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Co(t.arrayValue.values||[],e.arrayValue.values||[],Gn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(e_(o)!==e_(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Gn(o[c],a[c])))return!1;return!0}(t,e);default:return se()}}function pl(t,e){return(t.values||[]).find(n=>Gn(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ke(i.integerValue||i.doubleValue),c=Ke(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return n_(t.timestampValue,e.timestampValue);case 4:return n_(hl(t),hl(e));case 5:return Kp(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ys(i),c=ys(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=pe(a[u],c[u]);if(d!==0)return d}return pe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=pe(Ke(i.latitude),Ke(o.latitude));return a!==0?a:pe(Ke(i.longitude),Ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r_(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,u,d;const p=i.fields||{},m=o.fields||{},w=(a=p[nd])===null||a===void 0?void 0:a.arrayValue,x=(c=m[nd])===null||c===void 0?void 0:c.arrayValue,y=pe(((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:r_(w,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Oc.mapValue&&o===Oc.mapValue)return 0;if(i===Oc.mapValue)return 1;if(o===Oc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){const m=Kp(c[p],d[p]);if(m!==0)return m;const w=Ao(a[c[p]],u[d[p]]);if(w!==0)return w}return pe(c.length,d.length)}(t.mapValue,e.mapValue);default:throw se()}}function n_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=gs(t),r=gs(e),s=pe(n.seconds,r.seconds);return s!==0?s:pe(n.nanos,r.nanos)}function r_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ao(n[s],r[s]);if(i)return i}return pe(n.length,r.length)}function Po(t){return Gp(t)}function Gp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Gp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Gp(n.fields[o])}`;return s+"}"}(t.mapValue):se()}function uu(t){switch(vs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qd(t);return e?16+uu(e):16;case 5:return 2*t.stringValue.length;case 6:return ys(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+uu(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return pi(r.fields,(i,o)=>{s+=i.length+uu(o)}),s}(t.mapValue);default:throw se()}}function s_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Qp(t){return!!t&&"integerValue"in t}function Ug(t){return!!t&&"arrayValue"in t}function i_(t){return!!t&&"nullValue"in t}function o_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function du(t){return!!t&&"mapValue"in t}function $V(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[J1])===null||n===void 0?void 0:n.stringValue)===eI}function Ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return pi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function zV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Z1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ua(n)}setAll(e){let n=ut.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ua(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];du(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){pi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new an(Ua(this.value))}}function tI(t){const e=[];return pi(t.fields,(n,r)=>{const s=new ut([n]);if(du(r)){const i=tI(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new St(e,0,ie.min(),ie.min(),ie.min(),an.empty(),0)}static newFoundDocument(e,n,r,s){return new St(e,1,n,ie.min(),r,s,0)}static newNoDocument(e,n){return new St(e,2,n,ie.min(),ie.min(),an.empty(),0)}static newUnknownDocument(e,n){return new St(e,3,n,ie.min(),ie.min(),an.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof St&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new St(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.position=e,this.inclusive=n}}function a_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=te.comparator(te.fromName(o.referenceValue),n.key):r=Ao(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function l_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,n="asc"){this.field=e,this.dir=n}}function BV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{}class Je extends nI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new HV(e,n,r):n==="array-contains"?new GV(e,r):n==="in"?new QV(e,r):n==="not-in"?new YV(e,r):n==="array-contains-any"?new XV(e,r):new Je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qV(e,r):new KV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends nI{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Pn(e,n)}matches(e){return rI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rI(t){return t.op==="and"}function sI(t){return WV(t)&&rI(t)}function WV(t){for(const e of t.filters)if(e instanceof Pn)return!1;return!0}function Yp(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+Po(t.value);if(sI(t))return t.filters.map(e=>Yp(e)).join(",");{const e=t.filters.map(n=>Yp(n)).join(",");return`${t.op}(${e})`}}function iI(t,e){return t instanceof Je?function(r,s){return s instanceof Je&&r.op===s.op&&r.field.isEqual(s.field)&&Gn(r.value,s.value)}(t,e):t instanceof Pn?function(r,s){return s instanceof Pn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&iI(o,s.filters[a]),!0):!1}(t,e):void se()}function oI(t){return t instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${Po(n.value)}`}(t):t instanceof Pn?function(n){return n.op.toString()+" {"+n.getFilters().map(oI).join(" ,")+"}"}(t):"Filter"}class HV extends Je{constructor(e,n,r){super(e,n,r),this.key=te.fromName(r.referenceValue)}matches(e){const n=te.comparator(e.key,this.key);return this.matchesComparison(n)}}class qV extends Je{constructor(e,n){super(e,"in",n),this.keys=aI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KV extends Je{constructor(e,n){super(e,"not-in",n),this.keys=aI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function aI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>te.fromName(r.referenceValue))}class GV extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ug(n)&&pl(n.arrayValue,this.value)}}class QV extends Je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pl(this.value.arrayValue,n)}}class YV extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pl(this.value.arrayValue,n)}}class XV extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.le=null}}function c_(t,e=null,n=[],r=[],s=null,i=null,o=null){return new JV(t,e,n,r,s,i,o)}function $g(t){const e=oe(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Po(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Po(r)).join(",")),e.le=n}return e.le}function zg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!l_(t.startAt,e.startAt)&&l_(t.endAt,e.endAt)}function Xp(t){return te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function ZV(t,e,n,r,s,i,o,a){return new Wo(t,e,n,r,s,i,o,a)}function lI(t){return new Wo(t)}function u_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cI(t){return t.collectionGroup!==null}function $a(t){const e=oe(t);if(e.he===null){e.he=[];const n=new Set;for(const i of e.explicitOrderBy)e.he.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new nt(ut.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.he.push(new ml(i,r))}),n.has(ut.keyField().canonicalString())||e.he.push(new ml(ut.keyField(),r))}return e.he}function Hn(t){const e=oe(t);return e.Pe||(e.Pe=e4(e,$a(t))),e.Pe}function e4(t,e){if(t.limitType==="F")return c_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ml(s.field,i)});const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return c_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jp(t,e){const n=t.filters.concat([e]);return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sd(t,e,n){return new Wo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yd(t,e){return zg(Hn(t),Hn(e))&&t.limitType===e.limitType}function uI(t){return`${$g(Hn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>oI(s)).join(", ")}]`),Gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Po(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Po(s)).join(",")),`Target(${r})`}(Hn(t))}; limitType=${t.limitType})`}function Xd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of $a(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const u=a_(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,$a(r),s)||r.endAt&&!function(o,a,c){const u=a_(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,$a(r),s))}(t,e)}function t4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dI(t){return(e,n)=>{let r=!1;for(const s of $a(t)){const i=n4(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function n4(t,e,n){const r=t.field.isKeyField()?te.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Ao(c,u):se()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){pi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=new ze(te.comparator);function _r(){return r4}const hI=new ze(te.comparator);function ba(...t){let e=hI;for(const n of t)e=e.insert(n.key,n);return e}function fI(t){let e=hI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return za()}function pI(){return za()}function za(){return new mi(t=>t.toString(),(t,e)=>t.isEqual(e))}const s4=new ze(te.comparator),i4=new nt(te.comparator);function we(...t){let e=i4;for(const n of t)e=e.add(n);return e}const o4=new nt(pe);function a4(){return o4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function mI(t){return{integerValue:""+t}}function l4(t,e){return LV(e)?mI(e):Bg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this._=void 0}}function c4(t,e,n){return t instanceof gl?function(s,i){const o={fields:{[Q1]:{stringValue:G1},[X1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Fg(i)&&(i=Qd(i)),i&&(o.fields[Y1]=i),{mapValue:o}}(n,e):t instanceof yl?yI(t,e):t instanceof vl?vI(t,e):function(s,i){const o=gI(s,i),a=d_(o)+d_(s.Ie);return Qp(o)&&Qp(s.Ie)?mI(a):Bg(s.serializer,a)}(t,e)}function u4(t,e,n){return t instanceof yl?yI(t,e):t instanceof vl?vI(t,e):n}function gI(t,e){return t instanceof id?function(r){return Qp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gl extends Jd{}class yl extends Jd{constructor(e){super(),this.elements=e}}function yI(t,e){const n=wI(e);for(const r of t.elements)n.some(s=>Gn(s,r))||n.push(r);return{arrayValue:{values:n}}}class vl extends Jd{constructor(e){super(),this.elements=e}}function vI(t,e){let n=wI(e);for(const r of t.elements)n=n.filter(s=>!Gn(s,r));return{arrayValue:{values:n}}}class id extends Jd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function d_(t){return Ke(t.integerValue||t.doubleValue)}function wI(t){return Ug(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.field=e,this.transform=n}}function h4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yl&&s instanceof yl||r instanceof vl&&s instanceof vl?Co(r.elements,s.elements,Gn):r instanceof id&&s instanceof id?Gn(r.Ie,s.Ie):r instanceof gl&&s instanceof gl}(t.transform,e.transform)}class f4{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zd{}function _I(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new TI(t.key,dr.none()):new $l(t.key,t.data,dr.none());{const n=t.data,r=an.empty();let s=new nt(ut.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new gi(t.key,r,new Sn(s.toArray()),dr.none())}}function p4(t,e,n){t instanceof $l?function(s,i,o){const a=s.value.clone(),c=f_(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof gi?function(s,i,o){if(!hu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=f_(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(EI(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ba(t,e,n,r){return t instanceof $l?function(i,o,a,c){if(!hu(i.precondition,o))return a;const u=i.value.clone(),d=p_(i.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof gi?function(i,o,a,c){if(!hu(i.precondition,o))return a;const u=p_(i.fieldTransforms,c,o),d=o.data;return d.setAll(EI(i)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,a){return hu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function m4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=gI(r.transform,s||null);i!=null&&(n===null&&(n=an.empty()),n.set(r.field,i))}return n||null}function h_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Co(r,s,(i,o)=>h4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $l extends Zd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gi extends Zd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function EI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f_(t,e,n){const r=new Map;Ce(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,u4(o,a,n[s]))}return r}function p_(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,c4(i,o,e))}return r}class TI extends Zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g4 extends Zd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&p4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ba(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pI();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=_I(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(n,r)=>h_(n,r))&&Co(this.baseMutations,e.baseMutations,(n,r)=>h_(n,r))}}class Wg{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length);let s=function(){return s4}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Wg(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye,Ee;function _4(t){switch(t){case $.OK:return se();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return se()}}function xI(t){if(t===void 0)return wr("GRPC error has no .code"),$.UNKNOWN;switch(t){case Ye.OK:return $.OK;case Ye.CANCELLED:return $.CANCELLED;case Ye.UNKNOWN:return $.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return $.INTERNAL;case Ye.UNAVAILABLE:return $.UNAVAILABLE;case Ye.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ye.NOT_FOUND:return $.NOT_FOUND;case Ye.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ye.ABORTED:return $.ABORTED;case Ye.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ye.DATA_LOSS:return $.DATA_LOSS;default:return se()}}(Ee=Ye||(Ye={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new us([4294967295,4294967295],0);function m_(t){const e=B1().encode(t),n=new L1;return n.update(e),new Uint8Array(n.digest())}function g_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new us([n,r],0),new us([s,i],0)]}class Hg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ca(`Invalid padding: ${n}`);if(r<0)throw new Ca(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ca(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ca(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=us.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(us.fromNumber(r)));return s.compare(E4)===1&&(s=new us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=m_(e),[r,s]=g_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);if(!this.Re(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;const n=m_(e),[r,s]=g_(n);for(let i=0;i<this.hashCount;i++){const o=this.Ae(r,s,i);this.Ve(o)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ca extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eh(ie.min(),s,new ze(pe),_r(),we())}}class zl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zl(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class SI{constructor(e,n){this.targetId=e,this.ge=n}}class II{constructor(e,n,r=ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class y_{constructor(){this.pe=0,this.ye=v_(),this.we=ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=we(),n=we(),r=we();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:se()}}),new zl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=v_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ce(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class T4{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_r(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new ze(pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const i=s.target;if(Xp(i))if(r===0){const o=new te(i.path);this.ze(n,o,St.newNoDocument(o,ie.min()))}else Ce(r===1);else{const o=this.et(n);if(o!==r){const a=this.tt(e),c=a?this.nt(a,e,o):1;if(c!==0){this.Ye(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ys(r).toUint8Array()}catch(c){if(c instanceof K1)return bo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Hg(o,s,i)}catch(c){return bo(c instanceof Ca?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,i,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((i,o)=>{const a=this.Xe(o);if(a){if(i.current&&Xp(a.target)){const c=new te(a.target.path);this._t(c).has(o)||this.ut(o,c)||this.ze(o,c,St.newNoDocument(c,e))}i.ve&&(n.set(o,i.Fe()),i.Me())}});let r=we();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Xe(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.Qe.forEach((i,o)=>o.setReadTime(e));const s=new eh(e,n,this.Ke,this.Qe,r);return this.Qe=_r(),this.$e=Mc(),this.Ue=Mc(),this.Ke=new ze(pe),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new y_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new nt(pe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new nt(pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new y_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Mc(){return new ze(te.comparator)}function v_(){return new ze(te.comparator)}const x4={asc:"ASCENDING",desc:"DESCENDING"},S4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},I4={and:"AND",or:"OR"};class b4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zp(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function od(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function C4(t,e){return od(t,e.toTimestamp())}function qn(t){return Ce(!!t),ie.fromTimestamp(function(n){const r=gs(n);return new tt(r.seconds,r.nanos)}(t))}function qg(t,e){return em(t,e).canonicalString()}function em(t,e){const n=function(s){return new Le(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CI(t){const e=Le.fromString(t);return Ce(NI(e)),e}function tm(t,e){return qg(t.databaseId,e.path)}function xf(t,e){const n=CI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new te(PI(n))}function AI(t,e){return qg(t.databaseId,e)}function A4(t){const e=CI(t);return e.length===4?Le.emptyPath():PI(e)}function nm(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PI(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function w_(t,e,n){return{name:tm(t,e),fields:n.value.mapValue.fields}}function P4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:se()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(Ce(d===void 0||typeof d=="string"),ft.fromBase64String(d||"")):(Ce(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=u.code===void 0?$.UNKNOWN:xI(u.code);return new Y(d,u.message||"")}(o);n=new II(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=xf(t,r.document.name),i=qn(r.document.updateTime),o=r.document.createTime?qn(r.document.createTime):ie.min(),a=new an({mapValue:{fields:r.document.fields}}),c=St.newFoundDocument(s,i,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new fu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=xf(t,r.document),i=r.readTime?qn(r.readTime):ie.min(),o=St.newNoDocument(s,i),a=r.removedTargetIds||[];n=new fu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=xf(t,r.document),i=r.removedTargetIds||[];n=new fu([],i,s,null)}else{if(!("filter"in e))return se();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new w4(s,i),a=r.targetId;n=new SI(a,o)}}return n}function R4(t,e){let n;if(e instanceof $l)n={update:w_(t,e.key,e.value)};else if(e instanceof TI)n={delete:tm(t,e.key)};else if(e instanceof gi)n={update:w_(t,e.key,e.data),updateMask:F4(e.fieldMask)};else{if(!(e instanceof g4))return se();n={verify:tm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof gl)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof vl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof id)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw se()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:C4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:se()}(t,e.precondition)),n}function k4(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?qn(s.updateTime):qn(i);return o.isEqual(ie.min())&&(o=qn(i)),new f4(o,s.transformResults||[])}(n,e))):[]}function N4(t,e){return{documents:[AI(t,e.path)]}}function D4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AI(t,s);const i=function(u){if(u.length!==0)return kI(Pn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ri(m.field),direction:L4(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Zp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:s}}function O4(t){let e=A4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(p){const m=RI(p);return m instanceof Pn&&sI(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(x){return new ml(ki(x.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Gd(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(p){const m=!!p.before,w=p.values||[];return new rd(w,m)}(n.startAt));let u=null;return n.endAt&&(u=function(p){const m=!p.before,w=p.values||[];return new rd(w,m)}(n.endAt)),ZV(e,s,o,i,a,"F",c,u)}function M4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ki(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ki(n.unaryFilter.field);return Je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ki(n.unaryFilter.field);return Je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ki(n.unaryFilter.field);return Je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return se()}}(t):t.fieldFilter!==void 0?function(n){return Je.create(ki(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return se()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pn.create(n.compositeFilter.filters.map(r=>RI(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return se()}}(n.compositeFilter.op))}(t):se()}function L4(t){return x4[t]}function V4(t){return S4[t]}function j4(t){return I4[t]}function Ri(t){return{fieldPath:t.canonicalString()}}function ki(t){return ut.fromServerFormat(t.fieldPath)}function kI(t){return t instanceof Je?function(n){if(n.op==="=="){if(o_(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NAN"}};if(i_(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o_(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NAN"}};if(i_(n.value))return{unaryFilter:{field:Ri(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ri(n.field),op:V4(n.op),value:n.value}}}(t):t instanceof Pn?function(n){const r=n.getFilters().map(s=>kI(s));return r.length===1?r[0]:{compositeFilter:{op:j4(n.op),filters:r}}}(t):se()}function F4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,r,s,i=ie.min(),o=ie.min(),a=ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e){this.Tt=e}}function $4(t){const e=O4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.Tn=new B4}addToCollectionParentIndex(e,n){return this.Tn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ms.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ms.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class B4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new nt(Le.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new nt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DI=41943040;class jt{static withCacheSize(e){return new jt(e,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jt.DEFAULT_COLLECTION_PERCENTILE=10,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jt.DEFAULT=new jt(DI,jt.DEFAULT_COLLECTION_PERCENTILE,jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jt.DISABLED=new jt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ro(0)}static Kn(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",W4=1048576;function T_([t,e],[n,r]){const s=pe(t,n);return s===0?pe(e,r):s}class H4{constructor(e){this.Hn=e,this.buffer=new nt(T_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();T_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){G(E_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Bo(n)?G(E_,"Ignoring IndexedDB error during garbage collection: ",n):await zo(n)}await this.er(3e5)})}}class K4{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Kd.ae);const r=new H4(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(__)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,i,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ai()<=ve.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function G4(t,e){return new K4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(){this.changes=new mi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,St.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Ba(r.mutation,s,Sn.empty(),tt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=Ws();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ba();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=_r();const o=za(),a=function(){return za()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof gi)?i=i.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ba(d.mutation,u,d.mutation.getFieldMask(),tt.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var p;return a.set(u,new Y4(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=za();let s=new ze((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||Sn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const p=(s.get(a.batchId)||we()).add(c);s=s.insert(a.batchId,p)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,p=pI();d.forEach(m=>{if(!i.has(m)){const w=_I(n.get(m),r.get(m));w!==null&&p.set(m,w),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return te.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Ws());let a=dl,c=i;return o.next(u=>F.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,we())).next(d=>({batchId:a,changes:fI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new te(n)).next(r=>{let s=ba();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ba();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,c=>{const u=function(p,m){return new Wo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,u)=>{const d=u.getKey();o.get(d)===null&&(o=o.insert(d,St.newInvalidDocument(d)))});let a=ba();return o.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Ba(d.mutation,u,Sn.empty(),tt.now()),Xd(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:qn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:$4(s.bundledQuery),readTime:qn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this.overlays=new ze(te.comparator),this.Rr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ws();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Et(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Ws(),i=n.length+1,o=new te(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=i.get(u.largestBatchId);d===null&&(d=Ws(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ws(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return F.resolve(a)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new v4(n,r));let i=this.Rr.get(n);i===void 0&&(i=we(),this.Rr.set(n,i)),this.Rr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.Vr=new nt(rt.mr),this.gr=new nt(rt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new rt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new te(new Le([])),r=new rt(n,e),s=new rt(n,e+1),i=[];return this.gr.forEachInRange([r,s],o=>{this.wr(o),i.push(o.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new te(new Le([])),r=new rt(n,e),s=new rt(n,e+1);let i=we();return this.gr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new rt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return te.comparator(e.key,n.key)||pe(e.Cr,n.Cr)}static pr(e,n){return pe(e.Cr,n.Cr)||te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new nt(rt.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new y4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Mr=this.Mr.add(new rt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?jg:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),s=new rt(n,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([r,s],o=>{const a=this.Or(o.Cr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(pe);return n.forEach(s=>{const i=new rt(s,0),o=new rt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,o],a=>{r=r.add(a.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;te.isDocumentKey(i)||(i=i.child(""));const o=new rt(new te(i),0);let a=new nt(pe);return this.Mr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Cr)),!0)},o),F.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ce(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(n.mutations,s=>{const i=new rt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new rt(n,0),s=this.Mr.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.kr=e,this.docs=function(){return new ze(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():St.newInvalidDocument(n))}getEntries(e,n){let r=_r();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():St.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=_r();const o=n.path,a=new te(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||NV(kV(d),r)<=0||(s.has(d.key)||Xd(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){se()}qr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new rj(this)}getSize(e){return F.resolve(this.size)}}class rj extends Q4{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.persistence=e,this.Qr=new mi(n=>$g(n),zg),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Kg,this.targetCount=0,this.Kr=Ro.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),F.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.zn(n),F.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Kd(0),this.zr=!1,this.zr=!0,this.jr=new ej,this.referenceDelegate=e(this),this.Hr=new sj(this),this.indexManager=new z4,this.remoteDocumentCache=function(s){return new nj(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new U4(n),this.Yr=new J4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new tj(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new ij(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,n){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class ij extends OV{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.ti=new Kg,this.ni=null}static ri(e){return new Gg(e)}get ii(){if(this.ni)return this.ni;throw se()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{const s=te.fromPath(r);return this.si(e,s).next(i=>{i||n.removeEntry(s,ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.oi=new mi(r=>VV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=G4(this,n)}static ri(e,n){return new ad(e,n)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return F.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(i=>i?F.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ie.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uu(e.data.value)),n}ar(e,n,r){return F.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return F.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $2()?8:MV(Ct())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ss(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new oj;return this._s(e,n,o).next(a=>{if(i.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>i.result)}us(e,n,r,s){return r.documentReadCount<this.es?(Ai()<=ve.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(Ai()<=ve.DEBUG&&G("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(Ai()<=ve.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(n))):F.resolve())}rs(e,n){if(u_(n))return F.resolve(null);let r=Hn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sd(n,null,"F"),r=Hn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.cs(n,a);return this.ls(n,u,o,c.readTime)?this.rs(e,sd(n,null,"F")):this.hs(e,u,n,c)}))})))}ss(e,n,r,s){return u_(n)||s.isEqual(ie.min())?F.resolve(null):this.ns.getDocuments(e,r).next(i=>{const o=this.cs(n,i);return this.ls(n,o,r,s)?F.resolve(null):(Ai()<=ve.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Pi(n)),this.hs(e,o,n,RV(s,dl)).next(a=>a))})}cs(e,n){let r=new nt(dI(e));return n.forEach((s,i)=>{Xd(e,i)&&(r=r.add(i))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,n,r){return Ai()<=ve.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.ns.getDocumentsMatchingQuery(e,n,ms.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="LocalStore",lj=3e8;class cj{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ze(pe),this.Is=new mi(i=>$g(i),zg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function uj(t,e,n,r){return new cj(t,e,n,r)}async function MI(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=we();for(const u of s){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})}function dj(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const p=u.batch,m=p.keys();let w=F.resolve();return m.forEach(x=>{w=w.next(()=>d.getEntry(c,x)).next(y=>{const S=u.docVersions.get(x);Ce(S!==null),y.version.compareTo(S)<0&&(p.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=we();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function LI(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function hj(t,e){const n=oe(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const a=[];e.targetChanges.forEach((d,p)=>{const m=s.get(p);if(!m)return;a.push(n.Hr.removeMatchingKeys(i,d.removedDocuments,p).next(()=>n.Hr.addMatchingKeys(i,d.addedDocuments,p)));let w=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?w=w.withResumeToken(ft.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,r)),s=s.insert(p,w),function(y,S,E){return y.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=lj?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,w,d)&&a.push(n.Hr.updateTargetData(i,w))});let c=_r(),u=we();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(fj(i,o,e.documentUpdates).next(d=>{c=d.Vs,u=d.fs})),!r.isEqual(ie.min())){const d=n.Hr.getLastRemoteSnapshotVersion(i).next(p=>n.Hr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ts=s,i))}function fj(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=_r();return n.forEach((a,c)=>{const u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(ie.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):G(Yg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Vs:o,fs:s}})}function pj(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=jg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mj(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Hr.allocateTargetId(r).next(o=>(s=new Jr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function rm(t,e,n){const r=oe(t),s=r.Ts.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Bo(o))throw o;G(Yg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function x_(t,e,n){const r=oe(t);let s=ie.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const p=oe(c),m=p.Is.get(d);return m!==void 0?F.resolve(p.Ts.get(m)):p.Hr.getTargetData(u,d)}(r,o,Hn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?s:ie.min(),n?i:we())).next(a=>(gj(r,t4(e),a),{documents:a,gs:i})))}function gj(t,e,n){let r=t.Es.get(e)||ie.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Es.set(e,r)}class S_{constructor(){this.activeTargetIds=a4()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yj{constructor(){this.ho=new S_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new S_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="ConnectivityMonitor";class b_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){G(I_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){G(I_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function sm(){return Lc===null?Lc=function(){return 268435456+Math.round(2147483648*Math.random())}():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",wj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _j{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===td?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,i){const o=sm(),a=this.bo(e,n.toUriEncodedString());G(Sf,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,s,i),this.vo(e,a,c,r).then(u=>(G(Sf,`Received RPC '${e}' ${o}: `,u),u),u=>{throw bo(Sf,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,s,i,o){return this.So(e,n,r,s,i)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}bo(e,n){const r=wj[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _t="WebChannelConnection";class Tj extends _j{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const i=sm();return new Promise((o,a)=>{const c=new V1;c.setWithCredentials(!0),c.listenOnce(j1.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const d=c.getResponseJson();G(_t,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case cu.TIMEOUT:G(_t,`RPC '${e}' ${i} timed out`),a(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const p=c.getStatus();if(G(_t,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const w=m==null?void 0:m.error;if(w&&w.status&&w.message){const x=function(S){const E=S.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(E)>=0?E:$.UNKNOWN}(w.status);a(new Y(x,w.message))}else a(new Y($.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new Y($.UNAVAILABLE,"Connection failed."));break;default:se()}}finally{G(_t,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);G(_t,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",u,r,15)})}Wo(e,n,r){const s=sm(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$1(),a=U1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=i.join("");G(_t,`Creating RPC '${e}' stream ${s}: ${d}`,c);const p=o.createWebChannel(d,c);let m=!1,w=!1;const x=new Ej({Fo:S=>{w?G(_t,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(m||(G(_t,`Opening RPC '${e}' stream ${s} transport.`),p.open(),m=!0),G(_t,`RPC '${e}' stream ${s} sending:`,S),p.send(S))},Mo:()=>p.close()}),y=(S,E,_)=>{S.listen(E,T=>{try{_(T)}catch(k){setTimeout(()=>{throw k},0)}})};return y(p,Ia.EventType.OPEN,()=>{w||(G(_t,`RPC '${e}' stream ${s} transport opened.`),x.Qo())}),y(p,Ia.EventType.CLOSE,()=>{w||(w=!0,G(_t,`RPC '${e}' stream ${s} transport closed`),x.Uo())}),y(p,Ia.EventType.ERROR,S=>{w||(w=!0,bo(_t,`RPC '${e}' stream ${s} transport errored:`,S),x.Uo(new Y($.UNAVAILABLE,"The operation could not be completed")))}),y(p,Ia.EventType.MESSAGE,S=>{var E;if(!w){const _=S.data[0];Ce(!!_);const T=_,k=(T==null?void 0:T.error)||((E=T[0])===null||E===void 0?void 0:E.error);if(k){G(_t,`RPC '${e}' stream ${s} received error:`,k);const O=k.status;let L=function(A){const P=Ye[A];if(P!==void 0)return xI(P)}(O),b=k.message;L===void 0&&(L=$.INTERNAL,b="Unknown error status: "+O+" with message "+k.message),w=!0,x.Uo(new Y(L,b)),p.close()}else G(_t,`RPC '${e}' stream ${s} received:`,_),x.Ko(_)}}),y(a,F1.STAT_EVENT,S=>{S.stat===qp.PROXY?G(_t,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===qp.NOPROXY&&G(_t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function If(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return new b4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class jI{constructor(e,n,r,s,i,o,a,c){this.Ti=e,this.n_=r,this.r_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new VI(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return G(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(G(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xj extends jI{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=P4(this.serializer,e),r=function(i){if(!("targetChange"in i))return ie.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?qn(o.readTime):ie.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=nm(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=Xp(c)?{documents:N4(i,c)}:{query:D4(i,c).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=bI(i,o.resumeToken);const u=Zp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ie.min())>0){a.readTime=od(i,o.snapshotVersion.toTimestamp());const u=Zp(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=M4(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=nm(this.serializer),n.removeTarget=e,this.I_(n)}}class Sj extends jI{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,Ce(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=k4(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=nm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>R4(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{}class bj extends Ij{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.So(e,em(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}Co(e,n,r,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,em(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y($.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Cj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(wr(n),this.N_=!1):G("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="RemoteStore";class Aj{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(o=>{r.enqueueAndForget(async()=>{yi(this)&&(G(ai,"Restarting streams for network reachability change."),await async function(c){const u=oe(c);u.W_.add(4),await Bl(u),u.j_.set("Unknown"),u.W_.delete(4),await nh(u)}(this))})}),this.j_=new Cj(r,s)}}async function nh(t){if(yi(t))for(const e of t.G_)await e(!0)}async function Bl(t){for(const e of t.G_)await e(!1)}function FI(t,e){const n=oe(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),ey(n)?Zg(n):Ho(n).c_()&&Jg(n,e))}function Xg(t,e){const n=oe(t),r=Ho(n);n.K_.delete(e),r.c_()&&UI(n,e),n.K_.size===0&&(r.c_()?r.P_():yi(n)&&n.j_.set("Unknown"))}function Jg(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ho(t).y_(e)}function UI(t,e){t.H_.Ne(e),Ho(t).w_(e)}function Zg(t){t.H_=new T4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ho(t).start(),t.j_.B_()}function ey(t){return yi(t)&&!Ho(t).u_()&&t.K_.size>0}function yi(t){return oe(t).W_.size===0}function $I(t){t.H_=void 0}async function Pj(t){t.j_.set("Online")}async function Rj(t){t.K_.forEach((e,n)=>{Jg(t,e)})}async function kj(t,e){$I(t),ey(t)?(t.j_.q_(e),Zg(t)):t.j_.set("Unknown")}async function Nj(t,e,n){if(t.j_.set("Online"),e instanceof II&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.K_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.K_.delete(a),s.H_.removeTarget(a))}(t,e)}catch(r){G(ai,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(t,r)}else if(e instanceof fu?t.H_.We(e):e instanceof SI?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ie.min()))try{const r=await LI(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.H_.ot(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.K_.get(u);d&&i.K_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=i.K_.get(c);if(!d)return;i.K_.set(c,d.withResumeToken(ft.EMPTY_BYTE_STRING,d.snapshotVersion)),UI(i,c);const p=new Jr(d.target,c,u,d.sequenceNumber);Jg(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G(ai,"Failed to raise snapshot:",r),await ld(t,r)}}async function ld(t,e,n){if(!Bo(e))throw e;t.W_.add(1),await Bl(t),t.j_.set("Offline"),n||(n=()=>LI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ai,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await nh(t)})}function zI(t,e){return e().catch(n=>ld(t,n,e))}async function rh(t){const e=oe(t),n=ws(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:jg;for(;Dj(e);)try{const s=await pj(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,Oj(e,s)}catch(s){await ld(e,s)}BI(e)&&WI(e)}function Dj(t){return yi(t)&&t.U_.length<10}function Oj(t,e){t.U_.push(e);const n=ws(t);n.c_()&&n.S_&&n.b_(e.mutations)}function BI(t){return yi(t)&&!ws(t).u_()&&t.U_.length>0}function WI(t){ws(t).start()}async function Mj(t){ws(t).C_()}async function Lj(t){const e=ws(t);for(const n of t.U_)e.b_(n.mutations)}async function Vj(t,e,n){const r=t.U_.shift(),s=Wg.from(r,e,n);await zI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rh(t)}async function jj(t,e){e&&ws(t).S_&&await async function(r,s){if(function(o){return _4(o)&&o!==$.ABORTED}(s.code)){const i=r.U_.shift();ws(r).h_(),await zI(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rh(r)}}(t,e),BI(t)&&WI(t)}async function A_(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),G(ai,"RemoteStore received new credentials");const r=yi(n);n.W_.add(3),await Bl(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await nh(n)}async function Fj(t,e){const n=oe(t);e?(n.W_.delete(2),await nh(n)):e||(n.W_.add(2),await Bl(n),n.j_.set("Unknown"))}function Ho(t){return t.J_||(t.J_=function(n,r,s){const i=oe(n);return i.M_(),new xj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:Pj.bind(null,t),No:Rj.bind(null,t),Lo:kj.bind(null,t),p_:Nj.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),ey(t)?Zg(t):t.j_.set("Unknown")):(await t.J_.stop(),$I(t))})),t.J_}function ws(t){return t.Y_||(t.Y_=function(n,r,s){const i=oe(n);return i.M_(),new Sj(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Mj.bind(null,t),Lo:jj.bind(null,t),D_:Lj.bind(null,t),v_:Vj.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await rh(t)):(await t.Y_.stop(),t.U_.length>0&&(G(ai,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new ty(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ny(t,e){if(wr("AsyncQueue",`${e}: ${t}`),Bo(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||te.comparator(n.key,r.key):(n,r)=>te.comparator(n.key,r.key),this.keyedMap=ba(),this.sortedSet=new ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new to;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.Z_=new ze(te.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ko{constructor(e,n,r,s,i,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ko(e,n,to.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $j{constructor(){this.queries=R_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=oe(n),i=s.queries;s.queries=R_(),i.forEach((o,a)=>{for(const c of a.ta)c.onError(r)})})(this,new Y($.ABORTED,"Firestore shutting down"))}}function R_(){return new mi(t=>uI(t),Yd)}async function zj(t,e){const n=oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.na()&&e.ra()&&(r=2):(i=new Uj,r=e.ra()?0:1);try{switch(r){case 0:i.ea=await n.onListen(s,!0);break;case 1:i.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=ny(o,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ta.push(e),e.sa(n.onlineState),i.ea&&e.oa(i.ea)&&ry(n)}async function Bj(t,e){const n=oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ta.indexOf(e);o>=0&&(i.ta.splice(o,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Wj(t,e){const n=oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ta)a.oa(s)&&(r=!0);o.ea=s}}r&&ry(n)}function Hj(t,e,n){const r=oe(t),s=r.queries.get(e);if(s)for(const i of s.ta)i.onError(n);r.queries.delete(e)}function ry(t){t.ia.forEach(e=>{e.next()})}var im,k_;(k_=im||(im={}))._a="default",k_.Cache="cache";class qj{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ko(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==im.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.key=e}}class qI{constructor(e){this.key=e}}class Kj{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=we(),this.mutatedKeys=we(),this.ya=dI(e),this.wa=new to(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new P_,s=n?n.wa:this.wa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,p)=>{const m=s.get(d),w=Xd(this.query,p)?p:null,x=!!m&&this.mutatedKeys.has(m.key),y=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let S=!1;m&&w?m.data.isEqual(w.data)?x!==y&&(r.track({type:3,doc:w}),S=!0):this.va(m,w)||(r.track({type:2,doc:w}),S=!0,(c&&this.ya(w,c)>0||u&&this.ya(w,u)<0)&&(a=!0)):!m&&w?(r.track({type:0,doc:w}),S=!0):m&&!w&&(r.track({type:1,doc:m}),S=!0,(c||u)&&(a=!0)),S&&(w?(o=o.add(w),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:i}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const o=e.Da.X_();o.sort((d,p)=>function(w,x){const y=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return se()}};return y(w)-y(x)}(d.type,p.type)||this.ya(d.doc,p.doc)),this.Ca(r),s=s!=null&&s;const a=n&&!s?this.Fa():[],c=this.pa.size===0&&this.current&&!s?1:0,u=c!==this.ga;return this.ga=c,o.length!==0||u?{snapshot:new ko(this.query,e.wa,i,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new P_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=we(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new qI(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new HI(r))}),n}Oa(e){this.fa=e.gs,this.pa=we();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sy="SyncEngine";class Gj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qj{constructor(e){this.key=e,this.Ba=!1}}class Yj{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new mi(a=>uI(a),Yd),this.qa=new Map,this.Qa=new Set,this.$a=new ze(te.comparator),this.Ua=new Map,this.Ka=new Kg,this.Wa={},this.Ga=new Map,this.za=Ro.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Xj(t,e,n=!0){const r=JI(t);let s;const i=r.ka.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await KI(r,e,n,!0),s}async function Jj(t,e){const n=JI(t);await KI(n,e,!0,!1)}async function KI(t,e,n,r){const s=await mj(t.localStore,Hn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Zj(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&FI(t.remoteStore,s),a}async function Zj(t,e,n,r,s){t.Ha=(p,m,w)=>async function(y,S,E,_){let T=S.view.ba(E);T.ls&&(T=await x_(y.localStore,S.query,!1).then(({documents:b})=>S.view.ba(b,T)));const k=_&&_.targetChanges.get(S.targetId),O=_&&_.targetMismatches.get(S.targetId)!=null,L=S.view.applyChanges(T,y.isPrimaryClient,k,O);return D_(y,S.targetId,L.Ma),L.snapshot}(t,p,m,w);const i=await x_(t.localStore,e,!0),o=new Kj(e,i.gs),a=o.ba(i.documents),c=zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,c);D_(t,n,u.Ma);const d=new Gj(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot}async function eF(t,e,n){const r=oe(t),s=r.ka.get(e),i=r.qa.get(s.targetId);if(i.length>1)return r.qa.set(s.targetId,i.filter(o=>!Yd(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await rm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Xg(r.remoteStore,s.targetId),om(r,s.targetId)}).catch(zo)):(om(r,s.targetId),await rm(r.localStore,s.targetId,!0))}async function tF(t,e){const n=oe(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xg(n.remoteStore,r.targetId))}async function nF(t,e,n){const r=cF(t);try{const s=await function(o,a){const c=oe(o),u=tt.now(),d=a.reduce((w,x)=>w.add(x.key),we());let p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=_r(),y=we();return c.ds.getEntries(w,d).next(S=>{x=S,x.forEach((E,_)=>{_.isValidDocument()||(y=y.add(E))})}).next(()=>c.localDocuments.getOverlayedDocuments(w,x)).next(S=>{p=S;const E=[];for(const _ of a){const T=m4(_,p.get(_.key).overlayedDocument);T!=null&&E.push(new gi(_.key,T,tI(T.value.mapValue),dr.exists(!0)))}return c.mutationQueue.addMutationBatch(w,u,E,a)}).next(S=>{m=S;const E=S.applyToLocalDocumentSet(p,y);return c.documentOverlayCache.saveOverlays(w,S.batchId,E)})}).then(()=>({batchId:m.batchId,changes:fI(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let u=o.Wa[o.currentUser.toKey()];u||(u=new ze(pe)),u=u.insert(a,c),o.Wa[o.currentUser.toKey()]=u}(r,s.batchId,n),await Wl(r,s.changes),await rh(r.remoteStore)}catch(s){const i=ny(s,"Failed to persist write");n.reject(i)}}async function GI(t,e){const n=oe(t);try{const r=await hj(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Ua.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ba=!0:s.modifiedDocuments.size>0?Ce(o.Ba):s.removedDocuments.size>0&&(Ce(o.Ba),o.Ba=!1))}),await Wl(n,r,e)}catch(r){await zo(r)}}function N_(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((i,o)=>{const a=o.view.sa(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=oe(o);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(const m of p.ta)m.sa(a)&&(u=!0)}),u&&ry(c)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rF(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),i=s&&s.key;if(i){let o=new ze(te.comparator);o=o.insert(i,St.newNoDocument(i,ie.min()));const a=we().add(i),c=new eh(ie.min(),new Map,new ze(pe),o,a);await GI(r,c),r.$a=r.$a.remove(i),r.Ua.delete(e),iy(r)}else await rm(r.localStore,e,!1).then(()=>om(r,e,n)).catch(zo)}async function sF(t,e){const n=oe(t),r=e.batch.batchId;try{const s=await dj(n.localStore,e);YI(n,r,null),QI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wl(n,s)}catch(s){await zo(s)}}async function iF(t,e,n){const r=oe(t);try{const s=await function(o,a){const c=oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Ce(p!==null),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);YI(r,e,n),QI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wl(r,s)}catch(s){await zo(s)}}function QI(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function YI(t,e,n){const r=oe(t);let s=r.Wa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||XI(t,r)})}function XI(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Xg(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),iy(t))}function D_(t,e,n){for(const r of n)r instanceof HI?(t.Ka.addReference(r.key,e),oF(t,r)):r instanceof qI?(G(sy,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||XI(t,r.key)):se()}function oF(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(G(sy,"New document in limbo: "+n),t.Qa.add(r),iy(t))}function iy(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new te(Le.fromString(e)),r=t.za.next();t.Ua.set(r,new Qj(n)),t.$a=t.$a.insert(n,r),FI(t.remoteStore,new Jr(Hn(lI(n.path)),r,"TargetPurposeLimboResolution",Kd.ae))}}async function Wl(t,e,n){const r=oe(t),s=[],i=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,c)=>{o.push(r.Ha(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const p=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){s.push(u);const p=Qg.Yi(c.targetId,u);i.push(p)}}))}),await Promise.all(o),r.La.p_(s),await async function(c,u){const d=oe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,m=>F.forEach(m.Hi,w=>d.persistence.referenceDelegate.addReference(p,m.targetId,w)).next(()=>F.forEach(m.Ji,w=>d.persistence.referenceDelegate.removeReference(p,m.targetId,w)))))}catch(p){if(!Bo(p))throw p;G(Yg,"Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const w=d.Ts.get(m),x=w.snapshotVersion,y=w.withLastLimboFreeSnapshotVersion(x);d.Ts=d.Ts.insert(m,y)}}}(r.localStore,i))}async function aF(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){G(sy,"User change. New user:",e.toKey());const r=await MI(n.localStore,e);n.currentUser=e,function(i,o){i.Ga.forEach(a=>{a.forEach(c=>{c.reject(new Y($.CANCELLED,o))})}),i.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wl(n,r.Rs)}}function lF(t,e){const n=oe(t),r=n.Ua.get(e);if(r&&r.Ba)return we().add(r.key);{let s=we();const i=n.qa.get(e);if(!i)return s;for(const o of i){const a=n.ka.get(o);s=s.unionWith(a.view.Sa)}return s}}function JI(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rF.bind(null,e),e.La.p_=Wj.bind(null,e.eventManager),e.La.Ja=Hj.bind(null,e.eventManager),e}function cF(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iF.bind(null,e),e}class cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=th(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return uj(this.persistence,new aj,e.initialUser,this.serializer)}Xa(e){return new OI(Gg.ri,this.serializer)}Za(e){return new yj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cd.provider={build:()=>new cd};class uF extends cd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ce(this.persistence.referenceDelegate instanceof ad);const r=this.persistence.referenceDelegate.garbageCollector;return new q4(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?jt.withCacheSize(this.cacheSizeBytes):jt.DEFAULT;return new OI(r=>ad.ri(r,n),this.serializer)}}class am{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>N_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=aF.bind(null,this.syncEngine),await Fj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $j}()}createDatastore(e){const n=th(e.databaseInfo.databaseId),r=function(i){return new Tj(i)}(e.databaseInfo);return function(i,o,a,c){return new bj(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new Aj(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>N_(this.syncEngine,n,0),function(){return b_.D()?new b_:new vj}())}createSyncEngine(e,n){return function(s,i,o,a,c,u,d){const p=new Yj(s,i,o,a,c,u);return d&&(p.ja=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=oe(s);G(ai,"RemoteStore shutting down."),i.W_.add(5),await Bl(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):wr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class hF{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Tt.UNAUTHENTICATED,this.clientId=W1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(_s,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(_s,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ny(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function bf(t,e){t.asyncQueue.verifyOperationInProgress(),G(_s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await MI(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function O_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fF(t);G(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>A_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>A_(e.remoteStore,s)),t._onlineComponents=e}async function fF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(_s,"Using user provided OfflineComponentProvider");try{await bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===$.FAILED_PRECONDITION||s.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;bo("Error using user provided cache. Falling back to memory cache: "+n),await bf(t,new cd)}}else G(_s,"Using default OfflineComponentProvider"),await bf(t,new uF(void 0));return t._offlineComponents}async function ZI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(_s,"Using user provided OnlineComponentProvider"),await O_(t,t._uninitializedComponentsProvider._online)):(G(_s,"Using default OnlineComponentProvider"),await O_(t,new am))),t._onlineComponents}function pF(t){return ZI(t).then(e=>e.syncEngine)}async function mF(t){const e=await ZI(t),n=e.eventManager;return n.onListen=Xj.bind(null,e.syncEngine),n.onUnlisten=eF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Jj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=tF.bind(null,e.syncEngine),n}function gF(t,e,n={}){const r=new ds;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,u){const d=new dF({next:m=>{d.su(),o.enqueueAndForget(()=>Bj(i,p)),m.fromCache&&c.source==="server"?u.reject(new Y($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new qj(a,d,{includeMetadataChanges:!0,Ta:!0});return zj(i,p)}(await mF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yF(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L_(t){if(!te.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V_(t){if(te.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":se()}function wl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sh(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function vF(t,e){if(e<=0)throw new Y($.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="firestore.googleapis.com",j_=!0;class F_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nb,this.ssl=j_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:j_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W4)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Y($.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ih{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EV;switch(r.type){case"firstParty":return new IV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M_.get(n);r&&(G("ComponentProvider","Removing Datastore"),M_.delete(n),r.terminate())}(this),Promise.resolve()}}function wF(t,e,n,r={}){var s;const i=(t=wl(t,ih))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;i.host!==nb&&i.host!==a&&bo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},i),{host:a,ssl:!1,emulatorOptions:r});if(!ri(c,o)&&(t._setSettings(c),r.mockUserToken)){let u,d;if(typeof r.mockUserToken=="string")u=r.mockUserToken,d=Tt.MOCK_USER;else{u=O2(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Tt(p)}t._authCredentials=new TV(new z1(u,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new As(this.firestore,e,this._query)}}class Xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class hs extends As{constructor(e,n,r){super(e,n,lI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new te(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function oy(t,e,...n){if(t=At(t),tb("collection","path",e),t instanceof ih){const r=Le.fromString(e,...n);return V_(r),new hs(t,null,r)}{if(!(t instanceof Xt||t instanceof hs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return V_(r),new hs(t.firestore,null,r)}}function pu(t,e,...n){if(t=At(t),arguments.length===1&&(e=W1.newId()),tb("doc","path",e),t instanceof ih){const r=Le.fromString(e,...n);return L_(r),new Xt(t,null,new te(r))}{if(!(t instanceof Xt||t instanceof hs))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Le.fromString(e,...n));return L_(r),new Xt(t.firestore,t instanceof hs?t.converter:null,new te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="AsyncQueue";class $_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new VI(this,"async_queue_retry"),this.Su=()=>{const r=If();r&&G(U_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=If();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=If();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ds;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Bo(e))throw e;G(U_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw wr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=ty.createAndSchedule(this,e,n,r,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ay extends ih{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new $_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $_(e),this._firestoreClient=void 0,await e}}}function ly(t,e){const n=typeof t=="object"?t:JS(),r=typeof t=="string"?t:td,s=bg(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=N2("firestore");i&&wF(s,...i)}return s}function rb(t){if(t._terminated)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_F(t),t._firestoreClient}function _F(t){var e,n,r;const s=t._freezeSettings(),i=function(a,c,u,d){return new UV(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,eb(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new hF(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(ft.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=/^__.*__$/;class TF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new gi(e,this.data,this.fieldMask,n,this.fieldTransforms):new $l(e,this.data,n,this.fieldTransforms)}}function sb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw se()}}class fy{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new fy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ud(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(sb(this.Lu)&&EF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class xF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||th(e)}ju(e,n,r,s=!1){return new fy({Lu:e,methodName:n,zu:r,path:ut.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ib(t){const e=t._freezeSettings(),n=th(t._databaseId);return new xF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SF(t,e,n,r,s,i={}){const o=t.ju(i.merge||i.mergeFields?2:0,e,n,s);lb("Data must be an object, but it was:",o,r);const a=ob(r,o);let c,u;if(i.merge)c=new Sn(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const p of i.mergeFields){const m=bF(e,p,n);if(!o.contains(m))throw new Y($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AF(d,m)||d.push(m)}c=new Sn(d),u=o.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=o.fieldTransforms;return new TF(new an(a),c,u)}class py extends uy{_toFieldTransform(e){return new d4(e.path,new gl)}isEqual(e){return e instanceof py}}function IF(t,e,n,r=!1){return my(n,t.ju(r?4:3,e))}function my(t,e){if(ab(t=At(t)))return lb("Unsupported field value:",e,t),ob(t,e);if(t instanceof uy)return function(r,s){if(!sb(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=my(a,s.Ku(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=At(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=tt.fromDate(r);return{timestampValue:od(s.serializer,i)}}if(r instanceof tt){const i=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:od(s.serializer,i)}}if(r instanceof dy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof No)return{bytesValue:bI(s.serializer,r._byteString)};if(r instanceof Xt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:qg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof hy)return function(o,a){return{mapValue:{fields:{[J1]:{stringValue:eI},[nd]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return Bg(a.serializer,u)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${sh(r)}`)}(t,e)}function ob(t,e){const n={};return q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pi(t,(r,s)=>{const i=my(s,e.qu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function ab(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof dy||t instanceof No||t instanceof Xt||t instanceof uy||t instanceof hy)}function lb(t,e,n){if(!ab(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=sh(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function bF(t,e,n){if((e=At(e))instanceof cy)return e._internalPath;if(typeof e=="string")return cb(t,e);throw ud("Field path arguments must be of type string or ",t,!1,void 0,n)}const CF=new RegExp("[~\\*/\\[\\]]");function cb(t,e,n){if(e.search(CF)>=0)throw ud(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new cy(...e.split("."))._internalPath}catch{throw ud(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ud(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new Y($.INVALID_ARGUMENT,a+t+c)}function AF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PF(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PF extends ub{data(){return super.data()}}function oh(t,e){return typeof e=="string"?cb(t,e):e instanceof cy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class yy extends gy{}function db(t,e,...n){let r=[];e instanceof gy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof vy).length,a=i.filter(c=>c instanceof ah).length;if(o>1||o>0&&a>0)throw new Y($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class ah extends yy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ah(e,n,r)}_apply(e){const n=this._parse(e);return pb(e._query,n),new As(e.firestore,e.converter,Jp(e._query,n))}_parse(e){const n=ib(e.firestore);return function(i,o,a,c,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){B_(p,d);const x=[];for(const y of p)x.push(z_(c,i,y));m={arrayValue:{values:x}}}else m=z_(c,i,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||B_(p,d),m=IF(a,o,p,d==="in"||d==="not-in");return Je.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function kF(t,e,n){const r=e,s=oh("where",t);return ah._create(s,r,n)}class vy extends gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)pb(o,c),o=Jp(o,c)}(e._query,n),new As(e.firestore,e.converter,Jp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends yy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wy(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Y($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Y($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ml(i,o)}(e._query,this._field,this._direction);return new As(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Wo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function hb(t,e="asc"){const n=e,r=oh("orderBy",t);return wy._create(r,n)}class _y extends yy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _y(e,n,r)}_apply(e){return new As(e.firestore,e.converter,sd(e._query,this._limit,this._limitType))}}function fb(t){return vF("limit",t),_y._create("limit",t,"F")}function z_(t,e,n){if(typeof(n=At(n))=="string"){if(n==="")throw new Y($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cI(e)&&n.indexOf("/")!==-1)throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Le.fromString(n));if(!te.isDocumentKey(r))throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return s_(t,new te(r))}if(n instanceof Xt)return s_(t,n._key);throw new Y($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sh(n)}.`)}function B_(t,e){if(!Array.isArray(t)||t.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class NF{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return pi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[nd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ke(o.doubleValue));return new hy(i)}convertGeoPoint(e){return new dy(Ke(e.latitude),Ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const n=gs(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Le.fromString(e);Ce(NI(r));const s=new fl(r.get(1),r.get(3)),i=new te(r.popFirst(5));return s.isEqual(n)||wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class OF extends ub{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(oh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mu extends OF{data(e={}){return super.data(e)}}class MF{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mu(this._firestore,this._userDataWriter,r.key,r,new Vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new mu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new mu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:LF(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function LF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return se()}}class VF extends NF{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,n)}}function mb(t){t=wl(t,As);const e=wl(t.firestore,ay),n=rb(e),r=new VF(e);return RF(t._query),gF(n,t._query).then(s=>new MF(e,r,t,s))}function gu(t,e,n){t=wl(t,Xt);const r=wl(t.firestore,ay),s=DF(t.converter,e,n);return jF(r,[SF(ib(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,dr.none())])}function jF(t,e){return function(r,s){const i=new ds;return r.asyncQueue.enqueueAndForget(async()=>nF(await pF(r),s,i)),i.promise}(rb(t),e)}function FF(){return new py("serverTimestamp")}(function(e,n=!0){(function(s){$o=s})(jo),So(new si("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ay(new xV(r.getProvider("auth-internal")),new bV(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(u.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),cs(qw,Kw,e),cs(qw,Kw,"esm2017")})();function gb(){const[t,e]=v.useState(!1),{toast:n}=Rl(),[r,s]=Md(),i=Uo(),o=ly(),a=v.useCallback(async(m,w)=>{e(!0);try{const x=await iL(i,m,w);return n({title:"Logged in successfully",description:`Welcome back, ${x.user.displayName||m}!`}),s("/game"),x.user}catch(x){return n({title:"Login failed",description:x.message,variant:"destructive"}),console.error("Login error:",x),null}finally{e(!1)}},[i,n,s]),c=v.useCallback(async(m,w,x)=>{e(!0);try{const S=(await sL(i,w,x)).user;return await Mw(S,{displayName:m}),await gu(pu(o,"users",S.uid),{username:m,email:w,createdAt:new Date}),n({title:"Account created successfully",description:`Welcome, ${m}!`}),s("/game"),S}catch(y){return n({title:"Registration failed",description:y.message,variant:"destructive"}),console.error("Registration error:",y),null}finally{e(!1)}},[i,o,n,s]),u=v.useCallback(async()=>{e(!0);try{return await cL(i),n({title:"Logged out successfully"}),s("/"),!0}catch(m){return n({title:"Logout failed",description:m.message,variant:"destructive"}),console.error("Logout error:",m),!1}finally{e(!1)}},[i,n,s]),d=v.useCallback(async()=>{e(!0);try{const m=new ir,x=(await PL(i,m)).user;return await gu(pu(o,"users",x.uid),{username:x.displayName,email:x.email,photoURL:x.photoURL,createdAt:new Date},{merge:!0}),n({title:"Google login successful",description:`Welcome, ${x.displayName}!`}),s("/game"),x}catch(m){return console.error("Google login error:",m),m.code!=="auth/popup-closed-by-user"&&n({title:"Google login failed",description:m.message,variant:"destructive"}),null}finally{e(!1)}},[i,o,n,s]),p=v.useCallback(async()=>{e(!0);try{const w=(await eL(i)).user,x=`Guest_${Math.floor(Math.random()*1e4)}`;return await Mw(w,{displayName:x}),await gu(pu(o,"users",w.uid),{username:x,isGuest:!0,createdAt:new Date}),n({title:"Logged in as guest",description:`Welcome, ${x}! Your scores will be saved as a guest.`}),s("/game"),w}catch(m){return console.error("Guest login error:",m),n({title:"Guest login failed",description:m.message,variant:"destructive"}),null}finally{e(!1)}},[i,o,n,s]);return{login:a,register:c,logout:u,loginWithGoogle:d,loginAsGuest:p,loading:t}}function UF(){const[t,e]=v.useState("login"),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(""),{login:c,register:u,loginWithGoogle:d,loginAsGuest:p,loading:m}=gb(),w=()=>{e(t==="login"?"register":"login")},x=async y=>{y.preventDefault(),t==="login"?await c(n,s):await u(o,n,s)};return f.jsx(En,{className:"max-w-md w-full bg-black/50 backdrop-blur-sm border-cyan-500/30",children:f.jsxs(Tn,{className:"p-6 sm:p-8",children:[f.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-center font-['Orbitron'] text-cyan-400 animate-pulse",children:"TETRIS"}),f.jsx("div",{className:"flex justify-center mb-6",children:f.jsxs("div",{className:"grid grid-cols-4 grid-rows-1 gap-1",children:[f.jsx("div",{className:"w-7 h-7 bg-cyan-400"}),f.jsx("div",{className:"w-7 h-7 bg-cyan-400"}),f.jsx("div",{className:"w-7 h-7 bg-cyan-400"}),f.jsx("div",{className:"w-7 h-7 bg-cyan-400"})]})}),t==="login"&&f.jsxs("form",{className:"space-y-4",onSubmit:x,children:[f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"email",className:"text-white",children:"Email"}),f.jsx(Ci,{type:"email",id:"email",className:"bg-black/50 border-cyan-500 focus:border-fuchsia-500 text-white",placeholder:"your@email.com",value:n,onChange:y=>r(y.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"password",className:"text-white",children:"Password"}),f.jsx(Ci,{type:"password",id:"password",className:"bg-black/50 border-cyan-500 focus:border-fuchsia-500 text-white",placeholder:"",value:s,onChange:y=>i(y.target.value),required:!0})]}),f.jsx(qe,{type:"submit",className:"w-full py-6 bg-cyan-500 hover:bg-cyan-600 text-black font-bold hover:shadow-[0_0_15px_rgba(0,255,255,0.8)]",disabled:m,children:m?"LOGGING IN...":"LOG IN"}),f.jsx("div",{className:"text-center text-gray-400",children:f.jsxs("p",{children:["Don't have an account?",f.jsx(qe,{variant:"link",className:"text-cyan-400 hover:text-fuchsia-400 p-0 ml-1 h-auto",onClick:w,type:"button",children:"Sign Up"})]})}),f.jsxs("div",{className:"relative my-4",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx(Lp,{className:"w-full border-gray-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs",children:f.jsx("span",{className:"bg-black px-2 text-gray-400",children:"Or continue with"})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs(qe,{type:"button",variant:"outline",className:"bg-black/30 border-gray-700 hover:bg-black/50 text-white flex items-center",onClick:()=>d(),disabled:m,children:[f.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),f.jsxs(qe,{type:"button",variant:"outline",className:"bg-black/30 border-gray-700 hover:bg-black/50 text-white flex items-center",onClick:()=>p(),disabled:m,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Guest"]})]})]}),t==="register"&&f.jsxs("form",{className:"space-y-4",onSubmit:x,children:[f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"username",className:"text-white",children:"Username"}),f.jsx(Ci,{type:"text",id:"username",className:"bg-black/50 border-cyan-500 focus:border-fuchsia-500 text-white",placeholder:"Choose a username",value:o,onChange:y=>a(y.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"reg-email",className:"text-white",children:"Email"}),f.jsx(Ci,{type:"email",id:"reg-email",className:"bg-black/50 border-cyan-500 focus:border-fuchsia-500 text-white",placeholder:"your@email.com",value:n,onChange:y=>r(y.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"reg-password",className:"text-white",children:"Password"}),f.jsx(Ci,{type:"password",id:"reg-password",className:"bg-black/50 border-cyan-500 focus:border-fuchsia-500 text-white",placeholder:"",value:s,onChange:y=>i(y.target.value),required:!0})]}),f.jsx(qe,{type:"submit",className:"w-full py-6 bg-fuchsia-500 hover:bg-fuchsia-600 text-black font-bold hover:shadow-[0_0_15px_rgba(255,0,255,0.8)]",disabled:m,children:m?"SIGNING UP...":"SIGN UP"}),f.jsx("div",{className:"text-center text-gray-400",children:f.jsxs("p",{children:["Already have an account?",f.jsx(qe,{variant:"link",className:"text-cyan-400 hover:text-fuchsia-400 p-0 ml-1 h-auto",onClick:w,type:"button",children:"Log In"})]})}),f.jsxs("div",{className:"relative my-4",children:[f.jsx("div",{className:"absolute inset-0 flex items-center",children:f.jsx(Lp,{className:"w-full border-gray-700"})}),f.jsx("div",{className:"relative flex justify-center text-xs",children:f.jsx("span",{className:"bg-black px-2 text-gray-400",children:"Or continue with"})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs(qe,{type:"button",variant:"outline",className:"bg-black/30 border-gray-700 hover:bg-black/50 text-white flex items-center",onClick:()=>d(),disabled:m,children:[f.jsxs("svg",{className:"h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]}),f.jsxs(qe,{type:"button",variant:"outline",className:"bg-black/30 border-gray-700 hover:bg-black/50 text-white flex items-center",onClick:()=>p(),disabled:m,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Guest"]})]})]})]})})}function $F(){const[,t]=Md(),e=Uo();return v.useEffect(()=>{const n=S1(e,r=>{r&&t("/game")});return()=>n()},[e,t]),f.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 bg-gradient-to-b from-black to-gray-900 bg-fixed",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-1/4 left-1/4 w-1/2 h-1/2 rounded-full bg-cyan-500/10 blur-[100px]"}),f.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-1/2 h-1/2 rounded-full bg-fuchsia-500/10 blur-[100px]"})]}),f.jsx(UF,{})]})}var zF=NE.useId||(()=>{}),BF=0;function no(t){const[e,n]=v.useState(zF());return bt(()=>{n(r=>r??String(BF++))},[t]),e?`radix-${e}`:""}var Cf="focusScope.autoFocusOnMount",Af="focusScope.autoFocusOnUnmount",W_={bubbles:!1,cancelable:!0},WF="FocusScope",Ey=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=v.useState(null),u=en(s),d=en(i),p=v.useRef(null),m=Pe(e,y=>c(y)),w=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(w.paused||!a)return;const k=T.target;a.contains(k)?p.current=k:Vr(p.current,{select:!0})},S=function(T){if(w.paused||!a)return;const k=T.relatedTarget;k!==null&&(a.contains(k)||Vr(p.current,{select:!0}))},E=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&Vr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",S);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",S),_.disconnect()}}},[r,a,w.paused]),v.useEffect(()=>{if(a){q_.add(w);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(Cf,W_);a.addEventListener(Cf,u),a.dispatchEvent(E),E.defaultPrevented||(HF(YF(yb(a)),{select:!0}),document.activeElement===y&&Vr(a))}return()=>{a.removeEventListener(Cf,u),setTimeout(()=>{const E=new CustomEvent(Af,W_);a.addEventListener(Af,d),a.dispatchEvent(E),E.defaultPrevented||Vr(y??document.body,{select:!0}),a.removeEventListener(Af,d),q_.remove(w)},0)}}},[a,u,d,w]);const x=v.useCallback(y=>{if(!n&&!r||w.paused)return;const S=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(S&&E){const _=y.currentTarget,[T,k]=qF(_);T&&k?!y.shiftKey&&E===k?(y.preventDefault(),n&&Vr(T,{select:!0})):y.shiftKey&&E===T&&(y.preventDefault(),n&&Vr(k,{select:!0})):E===_&&y.preventDefault()}},[n,r,w.paused]);return f.jsx(me.div,{tabIndex:-1,...o,ref:m,onKeyDown:x})});Ey.displayName=WF;function HF(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Vr(r,{select:e}),document.activeElement!==n)return}function qF(t){const e=yb(t),n=H_(e,t),r=H_(e.reverse(),t);return[n,r]}function yb(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function H_(t,e){for(const n of t)if(!KF(n,{upTo:e}))return n}function KF(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function GF(t){return t instanceof HTMLInputElement&&"select"in t}function Vr(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&GF(t)&&e&&t.select()}}var q_=QF();function QF(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=K_(t,e),t.unshift(e)},remove(e){var n;t=K_(t,e),(n=t[0])==null||n.resume()}}}function K_(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function YF(t){return t.filter(e=>e.tagName!=="A")}var Pf=0;function vb(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??G_()),document.body.insertAdjacentElement("beforeend",t[1]??G_()),Pf++,()=>{Pf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Pf--}},[])}function G_(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var yu="right-scroll-bar-position",vu="width-before-scroll-bar",XF="with-scroll-bars-hidden",JF="--removed-body-scroll-bar-size";function Rf(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZF(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var eU=typeof window<"u"?v.useLayoutEffect:v.useEffect,Q_=new WeakMap;function tU(t,e){var n=ZF(null,function(r){return t.forEach(function(s){return Rf(s,r)})});return eU(function(){var r=Q_.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Rf(a,null)}),i.forEach(function(a){s.has(a)||Rf(a,o)})}Q_.set(n,t)},[t]),n}function nU(t){return t}function rU(t,e){e===void 0&&(e=nU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return s}function sU(t){t===void 0&&(t={});var e=rU(null);return e.options=Un({async:!0,ssr:!1},t),e}var wb=function(t){var e=t.sideCar,n=Ll(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,Un({},n))};wb.isSideCarExport=!0;function iU(t,e){return t.useMedium(e),wb}var _b=sU(),kf=function(){},lh=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,p=t.shards,m=t.sideCar,w=t.noIsolation,x=t.inert,y=t.allowPinchZoom,S=t.as,E=S===void 0?"div":S,_=t.gapMode,T=Ll(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,O=tU([n,e]),L=Un(Un({},T),s);return v.createElement(v.Fragment,null,d&&v.createElement(k,{sideCar:_b,removeScrollBar:u,shards:p,noIsolation:w,inert:x,setCallbacks:i,allowPinchZoom:!!y,lockRef:n,gapMode:_}),o?v.cloneElement(v.Children.only(a),Un(Un({},L),{ref:O})):v.createElement(E,Un({},L,{className:c,ref:O}),a))});lh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lh.classNames={fullWidth:vu,zeroRight:yu};var oU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function aU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=oU();return e&&t.setAttribute("nonce",e),t}function lU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function cU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var uU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=aU())&&(lU(e,n),cU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},dU=function(){var t=uU();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Eb=function(){var t=dU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},hU={left:0,top:0,right:0,gap:0},Nf=function(t){return parseInt(t||"",10)||0},fU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Nf(n),Nf(r),Nf(s)]},pU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return hU;var e=fU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},mU=Eb(),ro="data-scroll-locked",gU=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XF,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ro,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(vu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(yu," .").concat(yu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(vu," .").concat(vu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ro,`] {
    `).concat(JF,": ").concat(a,`px;
  }
`)},Y_=function(){var t=parseInt(document.body.getAttribute(ro)||"0",10);return isFinite(t)?t:0},yU=function(){v.useEffect(function(){return document.body.setAttribute(ro,(Y_()+1).toString()),function(){var t=Y_()-1;t<=0?document.body.removeAttribute(ro):document.body.setAttribute(ro,t.toString())}},[])},vU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;yU();var i=v.useMemo(function(){return pU(s)},[s]);return v.createElement(mU,{styles:gU(i,!e,s,n?"":"!important")})},lm=!1;if(typeof window<"u")try{var jc=Object.defineProperty({},"passive",{get:function(){return lm=!0,!0}});window.addEventListener("test",jc,jc),window.removeEventListener("test",jc,jc)}catch{lm=!1}var xi=lm?{passive:!1}:!1,wU=function(t){return t.tagName==="TEXTAREA"},Tb=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wU(t)&&n[e]==="visible")},_U=function(t){return Tb(t,"overflowY")},EU=function(t){return Tb(t,"overflowX")},X_=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=xb(t,r);if(s){var i=Sb(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},TU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xb=function(t,e){return t==="v"?_U(e):EU(e)},Sb=function(t,e){return t==="v"?TU(e):xU(e)},SU=function(t,e){return t==="h"&&e==="rtl"?-1:1},IU=function(t,e,n,r,s){var i=SU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),u=!1,d=o>0,p=0,m=0;do{var w=Sb(t,a),x=w[0],y=w[1],S=w[2],E=y-S-i*x;(x||E)&&xb(t,a)&&(p+=E,m+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&(Math.abs(p)<1||!s)||!d&&(Math.abs(m)<1||!s))&&(u=!0),u},Fc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J_=function(t){return[t.deltaX,t.deltaY]},Z_=function(t){return t&&"current"in t?t.current:t},bU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},CU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AU=0,Si=[];function PU(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(AU++)[0],i=v.useState(Eb)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=iM([t.lockRef.current],(t.shards||[]).map(Z_),!0).filter(Boolean);return y.forEach(function(S){return S.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,S){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=Fc(y),_=n.current,T="deltaX"in y?y.deltaX:_[0]-E[0],k="deltaY"in y?y.deltaY:_[1]-E[1],O,L=y.target,b=Math.abs(T)>Math.abs(k)?"h":"v";if("touches"in y&&b==="h"&&L.type==="range")return!1;var I=X_(b,L);if(!I)return!0;if(I?O=b:(O=b==="v"?"h":"v",I=X_(b,L)),!I)return!1;if(!r.current&&"changedTouches"in y&&(T||k)&&(r.current=O),!O)return!0;var A=r.current||O;return IU(A,S,y,A==="h"?T:k,!0)},[]),c=v.useCallback(function(y){var S=y;if(!(!Si.length||Si[Si.length-1]!==i)){var E="deltaY"in S?J_(S):Fc(S),_=e.current.filter(function(O){return O.name===S.type&&(O.target===S.target||S.target===O.shadowParent)&&bU(O.delta,E)})[0];if(_&&_.should){S.cancelable&&S.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(Z_).filter(Boolean).filter(function(O){return O.contains(S.target)}),k=T.length>0?a(S,T[0]):!o.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),u=v.useCallback(function(y,S,E,_){var T={name:y,delta:S,target:E,should:_,shadowParent:RU(E)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(k){return k!==T})},1)},[]),d=v.useCallback(function(y){n.current=Fc(y),r.current=void 0},[]),p=v.useCallback(function(y){u(y.type,J_(y),y.target,a(y,t.lockRef.current))},[]),m=v.useCallback(function(y){u(y.type,Fc(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return Si.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",c,xi),document.addEventListener("touchmove",c,xi),document.addEventListener("touchstart",d,xi),function(){Si=Si.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,xi),document.removeEventListener("touchmove",c,xi),document.removeEventListener("touchstart",d,xi)}},[]);var w=t.removeScrollBar,x=t.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:CU(s)}):null,w?v.createElement(vU,{gapMode:t.gapMode}):null)}function RU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const kU=iU(_b,PU);var Ty=v.forwardRef(function(t,e){return v.createElement(lh,Un({},t,{ref:e,sideCar:kU}))});Ty.classNames=lh.classNames;var NU=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ii=new WeakMap,Uc=new WeakMap,$c={},Df=0,Ib=function(t){return t&&(t.host||Ib(t.parentNode))},DU=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Ib(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},OU=function(t,e,n,r){var s=DU(e,Array.isArray(t)?t:[t]);$c[n]||($c[n]=new WeakMap);var i=$c[n],o=[],a=new Set,c=new Set(s),u=function(p){!p||a.has(p)||(a.add(p),u(p.parentNode))};s.forEach(u);var d=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))d(m);else try{var w=m.getAttribute(r),x=w!==null&&w!=="false",y=(Ii.get(m)||0)+1,S=(i.get(m)||0)+1;Ii.set(m,y),i.set(m,S),o.push(m),y===1&&x&&Uc.set(m,!0),S===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return d(e),a.clear(),Df++,function(){o.forEach(function(p){var m=Ii.get(p)-1,w=i.get(p)-1;Ii.set(p,m),i.set(p,w),m||(Uc.has(p)||p.removeAttribute(r),Uc.delete(p)),w||p.removeAttribute(n)}),Df--,Df||(Ii=new WeakMap,Ii=new WeakMap,Uc=new WeakMap,$c={})}},bb=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=NU(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),OU(r,s,n,"aria-hidden")):function(){return null}},xy="Dialog",[Cb,A9]=kl(xy),[MU,Nn]=Cb(xy),Ab=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),c=v.useRef(null),[u=!1,d]=xo({prop:r,defaultProp:s,onChange:i});return f.jsx(MU,{scope:e,triggerRef:a,contentRef:c,contentId:no(),titleId:no(),descriptionId:no(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(p=>!p),[d]),modal:o,children:n})};Ab.displayName=xy;var Pb="DialogTrigger",LU=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(Pb,n),i=Pe(e,s.triggerRef);return f.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":by(s.open),...r,ref:i,onClick:ae(t.onClick,s.onOpenToggle)})});LU.displayName=Pb;var Sy="DialogPortal",[VU,Rb]=Cb(Sy,{forceMount:void 0}),kb=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Nn(Sy,e);return f.jsx(VU,{scope:e,forceMount:n,children:v.Children.map(r,o=>f.jsx(Nl,{present:n||i.open,children:f.jsx(Fd,{asChild:!0,container:s,children:o})}))})};kb.displayName=Sy;var dd="DialogOverlay",Nb=v.forwardRef((t,e)=>{const n=Rb(dd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nn(dd,t.__scopeDialog);return i.modal?f.jsx(Nl,{present:r||i.open,children:f.jsx(jU,{...s,ref:e})}):null});Nb.displayName=dd;var jU=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(dd,n);return f.jsx(Ty,{as:ni,allowPinchZoom:!0,shards:[s.contentRef],children:f.jsx(me.div,{"data-state":by(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),li="DialogContent",Db=v.forwardRef((t,e)=>{const n=Rb(li,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Nn(li,t.__scopeDialog);return f.jsx(Nl,{present:r||i.open,children:i.modal?f.jsx(FU,{...s,ref:e}):f.jsx(UU,{...s,ref:e})})});Db.displayName=li;var FU=v.forwardRef((t,e)=>{const n=Nn(li,t.__scopeDialog),r=v.useRef(null),s=Pe(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return bb(i)},[]),f.jsx(Ob,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ae(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ae(t.onFocusOutside,i=>i.preventDefault())})}),UU=v.forwardRef((t,e)=>{const n=Nn(li,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return f.jsx(Ob,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Ob=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Nn(li,n),c=v.useRef(null),u=Pe(e,c);return vb(),f.jsxs(f.Fragment,{children:[f.jsx(Ey,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:f.jsx(jd,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":by(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx($U,{titleId:a.titleId}),f.jsx(BU,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Iy="DialogTitle",Mb=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(Iy,n);return f.jsx(me.h2,{id:s.titleId,...r,ref:e})});Mb.displayName=Iy;var Lb="DialogDescription",Vb=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(Lb,n);return f.jsx(me.p,{id:s.descriptionId,...r,ref:e})});Vb.displayName=Lb;var jb="DialogClose",Fb=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Nn(jb,n);return f.jsx(me.button,{type:"button",...r,ref:e,onClick:ae(t.onClick,()=>s.onOpenChange(!1))})});Fb.displayName=jb;function by(t){return t?"open":"closed"}var Ub="DialogTitleWarning",[P9,$b]=zN(Ub,{contentName:li,titleName:Iy,docsSlug:"dialog"}),$U=({titleId:t})=>{const e=$b(Ub),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},zU="DialogDescriptionWarning",BU=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$b(zU).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},WU=Ab,HU=kb,zb=Nb,Bb=Db,Wb=Mb,Hb=Vb,qU=Fb;const KU=WU,GU=HU,qb=v.forwardRef(({className:t,...e},n)=>f.jsx(zb,{ref:n,className:xe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));qb.displayName=zb.displayName;const Kb=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(GU,{children:[f.jsx(qb,{}),f.jsxs(Bb,{ref:r,className:xe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,f.jsxs(qU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[f.jsx(CS,{className:"h-4 w-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Kb.displayName=Bb.displayName;const Gb=({className:t,...e})=>f.jsx("div",{className:xe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gb.displayName="DialogHeader";const Qb=v.forwardRef(({className:t,...e},n)=>f.jsx(Wb,{ref:n,className:xe("text-lg font-semibold leading-none tracking-tight",t),...e}));Qb.displayName=Wb.displayName;const Yb=v.forwardRef(({className:t,...e},n)=>f.jsx(Hb,{ref:n,className:xe("text-sm text-muted-foreground",t),...e}));Yb.displayName=Hb.displayName;const QU=({stage:t,gameOver:e,score:n,onRestart:r,paused:s})=>{const[i,o]=v.useState(!1),a=v.useRef(null),[c,u]=v.useState(30),[d,p]=v.useState(!1);return v.useEffect(()=>{const m=()=>{const w=window.innerWidth<768;if(p(w),a.current){const x=window.innerWidth,y=w?x-32:a.current.clientWidth,S=Math.floor(y/10),E=Math.min(w?28:30,S);u(E)}};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]),v.useEffect(()=>{o(!!e)},[e]),f.jsxs("div",{className:"relative mx-auto",ref:a,children:[f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:`bg-black/50 backdrop-blur-sm p-1.5 md:p-2 rounded-lg shadow-[0_0_15px_rgba(0,0,0,0.5)] border border-gray-800 ${s?"opacity-70":""}`,children:f.jsx("div",{className:"grid grid-cols-10 grid-rows-20 gap-0 border border-gray-700",style:{width:`${c*10}px`,height:`${c*20}px`},children:t.map((m,w)=>m.map((x,y)=>f.jsx("div",{className:"border border-black/20",style:{width:`${c}px`,height:`${c}px`,backgroundColor:x[0]!==0?x[2]:"rgba(0,0,0,0.2)",transition:"background-color 0.1s",boxShadow:x[0]!==0?"inset 0 0 5px rgba(255, 255, 255, 0.5)":"none"}},`${w}-${y}`)))})})}),s&&!e&&f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsx("div",{className:"bg-black/80 px-8 py-4 md:px-10 md:py-5 rounded-lg backdrop-blur-md text-center",children:f.jsx("h2",{className:"text-xl md:text-2xl font-['Orbitron'] text-cyan-400 mb-2",children:"PAUSED"})})}),f.jsx(KU,{open:i,onOpenChange:o,children:f.jsxs(Kb,{className:"bg-black/90 border-cyan-500/30 text-white max-w-xs md:max-w-md",children:[f.jsxs(Gb,{children:[f.jsx(Qb,{className:"text-2xl md:text-3xl font-['Orbitron'] text-cyan-400 text-center mb-2 md:mb-4",children:"GAME OVER"}),f.jsxs(Yb,{className:"text-lg md:text-xl text-center",children:["Your Score: ",f.jsx("span",{className:"font-bold text-white",children:n})]})]}),f.jsxs("div",{className:"flex flex-col gap-2 mt-4",children:[f.jsx(qe,{onClick:r,className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold px-6 py-3",children:"PLAY AGAIN"}),f.jsx("p",{className:"text-xs text-center text-gray-400 mt-2",children:d?"Tip: Rotate your device to landscape for a better experience":"Tip: Use arrow keys to move, up arrow to rotate, space to hard drop"})]})]})})]})},YU=({onStart:t,onPause:e,onRestart:n,onRotate:r,onMoveLeft:s,onMoveRight:i,onMoveDown:o,onHardDrop:a,isStarted:c,isPaused:u,isGameOver:d})=>{const[p,m]=v.useState(!1);v.useEffect(()=>{const x=()=>{m(window.innerWidth<768)};return x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}},[]);const w=x=>{let y=null;const S=()=>{y&&clearInterval(y),x(),y=setInterval(x,150)},E=()=>{y&&(clearInterval(y),y=null)};return{onTouchStart:S,onTouchEnd:E,onTouchCancel:E}};return f.jsxs("div",{className:"flex flex-col items-center mt-4 md:mt-6 space-y-4",children:[f.jsxs("div",{className:"flex flex-wrap justify-center gap-2 md:gap-4",children:[f.jsx(qe,{id:"btn-start",className:`bg-cyan-500 hover:bg-cyan-600 text-black 
                     px-4 py-3 md:px-6 md:py-5 rounded-lg font-bold 
                     font-['Orbitron'] transition-all 
                     hover:shadow-[0_0_15px_rgba(0,255,255,0.7)]
                     text-sm md:text-base`,onClick:t,disabled:c&&!d,children:d?"RESTART":"START"}),f.jsx(qe,{id:"btn-pause",className:`${u?"bg-fuchsia-500 hover:bg-fuchsia-600":"bg-gray-800 hover:bg-gray-700"} 
                     text-white px-4 py-3 md:px-6 md:py-5 rounded-lg font-bold 
                     font-['Orbitron'] transition-all
                     text-sm md:text-base`,onClick:e,disabled:!c||d,children:u?"RESUME":"PAUSE"}),f.jsx(qe,{id:"btn-restart",className:`bg-fuchsia-500 hover:bg-fuchsia-600 text-black 
                   px-4 py-3 md:px-6 md:py-5 rounded-lg font-bold 
                   font-['Orbitron'] transition-all 
                   hover:shadow-[0_0_15px_rgba(255,0,255,0.7)]
                   text-sm md:text-base`,onClick:n,disabled:!c,children:"RESTART"})]}),f.jsxs("div",{className:"md:hidden flex flex-col items-center mt-2 w-full max-w-xs",children:[f.jsxs("div",{className:"grid grid-cols-3 gap-3 w-full",children:[f.jsx("div",{}),f.jsx(qe,{className:"bg-gray-800/80 p-2 rounded-lg flex justify-center items-center h-14 w-full active:bg-gray-700/80 backdrop-blur-sm shadow-lg shadow-black/20",...w(r),children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 10l7-7m0 0l7 7m-7-7v18"})})}),f.jsx("div",{}),f.jsx(qe,{className:"bg-gray-800/80 p-2 rounded-lg flex justify-center items-center h-14 w-full active:bg-gray-700/80 backdrop-blur-sm shadow-lg shadow-black/20",...w(s),children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),f.jsx(qe,{className:"bg-gray-800/80 p-2 rounded-lg flex justify-center items-center h-14 w-full active:bg-gray-700/80 backdrop-blur-sm shadow-lg shadow-black/20",...w(o),children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})}),f.jsx(qe,{className:"bg-gray-800/80 p-2 rounded-lg flex justify-center items-center h-14 w-full active:bg-gray-700/80 backdrop-blur-sm shadow-lg shadow-black/20",...w(i),children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-cyan-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})})]}),f.jsxs(qe,{className:"bg-fuchsia-500/80 p-2 rounded-lg mt-3 w-full flex justify-center items-center h-12 active:bg-fuchsia-600/80 backdrop-blur-sm shadow-lg shadow-black/20",onTouchStart:a,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3",transform:"translate(0, 6)"})]}),f.jsx("span",{className:"font-bold",children:"HARD DROP"})]})]}),f.jsxs("div",{className:"hidden md:block text-sm text-gray-400 mt-2",children:[f.jsx("p",{className:"text-center mb-1",children:"Keyboard Controls:"}),f.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[f.jsx("span",{className:"bg-gray-800/60 backdrop-blur-sm px-2 py-1 rounded",children:": Move"}),f.jsx("span",{className:"bg-gray-800/60 backdrop-blur-sm px-2 py-1 rounded",children:": Rotate"}),f.jsx("span",{className:"bg-gray-800/60 backdrop-blur-sm px-2 py-1 rounded",children:": Soft Drop"}),f.jsx("span",{className:"bg-gray-800/60 backdrop-blur-sm px-2 py-1 rounded",children:"Space: Hard Drop"})]})]})]})},eE=({tetromino:t})=>{const e=Array(4).fill(0).map(()=>Array(4).fill(0));if(t){const n=t.shape;t.color;const r=Math.floor((4-n.length)/2),s=Math.floor((4-n[0].length)/2);for(let i=0;i<n.length;i++)for(let o=0;o<n[i].length;o++)if(n[i][o]!==0){const a=i+r,c=o+s;a>=0&&a<4&&c>=0&&c<4&&(e[a][c]=1)}}return f.jsx("div",{className:"flex justify-center",children:f.jsx("div",{className:"grid grid-cols-4 grid-rows-4 gap-1",children:e.map((n,r)=>n.map((s,i)=>f.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 border border-gray-800",style:{backgroundColor:s?t.color:"transparent",boxShadow:s?"inset 0 0 3px rgba(255, 255, 255, 0.5)":"none"}},`${r}-${i}`)))})})},XU=({score:t,level:e,lines:n,highScore:r})=>f.jsx(En,{className:"bg-black/50 backdrop-blur-sm border-cyan-500/30",children:f.jsxs(Tn,{className:"p-4",children:[f.jsx("h2",{className:"text-lg font-['Orbitron'] text-cyan-400 mb-4",children:"GAME INFO"}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-gray-400 mb-1",children:"Score:"}),f.jsx("p",{className:"text-2xl font-bold text-white",children:t})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-gray-400 mb-1",children:"Level:"}),f.jsx("p",{className:"text-xl font-bold text-white",children:e})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("p",{className:"text-gray-400 mb-1",children:"Lines Cleared:"}),f.jsx("p",{className:"text-xl font-bold text-white",children:n})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-gray-400 mb-2",children:"High Score:"}),f.jsx("p",{className:"text-xl font-bold text-white",children:r})]})]})});function hd(t,[e,n]){return Math.min(n,Math.max(e,t))}var JU=v.createContext(void 0);function Xb(t){const e=v.useContext(JU);return t||e||"ltr"}function Cy(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Ay(t){const[e,n]=v.useState(void 0);return bt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Jb=["PageUp","PageDown"],Zb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eC={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},qo="Slider",[cm,ZU,e3]=vg(qo),[tC,R9]=kl(qo,[e3]),[t3,ch]=tC(qo),nC=v.forwardRef((t,e)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:d,onValueChange:p=()=>{},onValueCommit:m=()=>{},inverted:w=!1,form:x,...y}=t,S=v.useRef(new Set),E=v.useRef(0),T=o==="horizontal"?n3:r3,[k=[],O]=xo({prop:d,defaultProp:u,onChange:N=>{var R;(R=[...S.current][E.current])==null||R.focus(),p(N)}}),L=v.useRef(k);function b(N){const D=l3(k,N);P(N,D)}function I(N){P(N,E.current)}function A(){const N=L.current[E.current];k[E.current]!==N&&m(k)}function P(N,D,{commit:R}={commit:!1}){const W=h3(i),ee=f3(Math.round((N-r)/i)*i+r,W),X=hd(ee,[r,s]);O((Z=[])=>{const V=o3(Z,X,D);if(d3(V,c*i)){E.current=V.indexOf(X);const q=String(V)!==String(Z);return q&&R&&m(V),q?V:Z}else return Z})}return f.jsx(t3,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:E,thumbs:S.current,values:k,orientation:o,form:x,children:f.jsx(cm.Provider,{scope:t.__scopeSlider,children:f.jsx(cm.Slot,{scope:t.__scopeSlider,children:f.jsx(T,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:ae(y.onPointerDown,()=>{a||(L.current=k)}),min:r,max:s,inverted:w,onSlideStart:a?void 0:b,onSlideMove:a?void 0:I,onSlideEnd:a?void 0:A,onHomeKeyDown:()=>!a&&P(r,0,{commit:!0}),onEndKeyDown:()=>!a&&P(s,k.length-1,{commit:!0}),onStepKeyDown:({event:N,direction:D})=>{if(!a){const ee=Jb.includes(N.key)||N.shiftKey&&Zb.includes(N.key)?10:1,X=E.current,Z=k[X],V=i*ee*D;P(Z+V,X,{commit:!0})}}})})})})});nC.displayName=qo;var[rC,sC]=tC(qo,{startEdge:"left",endEdge:"right",size:"width",direction:1}),n3=v.forwardRef((t,e)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=t,[p,m]=v.useState(null),w=Pe(e,T=>m(T)),x=v.useRef(),y=Xb(s),S=y==="ltr",E=S&&!i||!S&&i;function _(T){const k=x.current||p.getBoundingClientRect(),O=[0,k.width],b=Py(O,E?[n,r]:[r,n]);return x.current=k,b(T-k.left)}return f.jsx(rC,{scope:t.__scopeSlider,startEdge:E?"left":"right",endEdge:E?"right":"left",direction:E?1:-1,size:"width",children:f.jsx(iC,{dir:y,"data-orientation":"horizontal",...d,ref:w,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:T=>{const k=_(T.clientX);o==null||o(k)},onSlideMove:T=>{const k=_(T.clientX);a==null||a(k)},onSlideEnd:()=>{x.current=void 0,c==null||c()},onStepKeyDown:T=>{const O=eC[E?"from-left":"from-right"].includes(T.key);u==null||u({event:T,direction:O?-1:1})}})})}),r3=v.forwardRef((t,e)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=t,d=v.useRef(null),p=Pe(e,d),m=v.useRef(),w=!s;function x(y){const S=m.current||d.current.getBoundingClientRect(),E=[0,S.height],T=Py(E,w?[r,n]:[n,r]);return m.current=S,T(y-S.top)}return f.jsx(rC,{scope:t.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1,children:f.jsx(iC,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const S=x(y.clientY);i==null||i(S)},onSlideMove:y=>{const S=x(y.clientY);o==null||o(S)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:y=>{const E=eC[w?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:E?-1:1})}})})}),iC=v.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=t,d=ch(qo,n);return f.jsx(me.span,{...u,ref:e,onKeyDown:ae(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(a(p),p.preventDefault()):Jb.concat(Zb).includes(p.key)&&(c(p),p.preventDefault())}),onPointerDown:ae(t.onPointerDown,p=>{const m=p.target;m.setPointerCapture(p.pointerId),p.preventDefault(),d.thumbs.has(m)?m.focus():r(p)}),onPointerMove:ae(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&s(p)}),onPointerUp:ae(t.onPointerUp,p=>{const m=p.target;m.hasPointerCapture(p.pointerId)&&(m.releasePointerCapture(p.pointerId),i(p))})})}),oC="SliderTrack",aC=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=ch(oC,n);return f.jsx(me.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:e})});aC.displayName=oC;var um="SliderRange",lC=v.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,s=ch(um,n),i=sC(um,n),o=v.useRef(null),a=Pe(e,o),c=s.values.length,u=s.values.map(m=>uC(m,s.min,s.max)),d=c>1?Math.min(...u):0,p=100-Math.max(...u);return f.jsx(me.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:p+"%"}})});lC.displayName=um;var dm="SliderThumb",cC=v.forwardRef((t,e)=>{const n=ZU(t.__scopeSlider),[r,s]=v.useState(null),i=Pe(e,a=>s(a)),o=v.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return f.jsx(s3,{...t,ref:i,index:o})}),s3=v.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:s,...i}=t,o=ch(dm,n),a=sC(dm,n),[c,u]=v.useState(null),d=Pe(e,_=>u(_)),p=c?o.form||!!c.closest("form"):!0,m=Ay(c),w=o.values[r],x=w===void 0?0:uC(w,o.min,o.max),y=a3(r,o.values.length),S=m==null?void 0:m[a.size],E=S?c3(S,x,a.direction):0;return v.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${x}% + ${E}px)`},children:[f.jsx(cm.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(me.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":w,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:w===void 0?{display:"none"}:t.style,onFocus:ae(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),p&&f.jsx(i3,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:w},r)]})});cC.displayName=dm;var i3=t=>{const{value:e,...n}=t,r=v.useRef(null),s=Cy(e);return v.useEffect(()=>{const i=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(s!==e&&c){const u=new Event("input",{bubbles:!0});c.call(i,e),i.dispatchEvent(u)}},[s,e]),f.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function o3(t=[],e,n){const r=[...t];return r[n]=e,r.sort((s,i)=>s-i)}function uC(t,e,n){const i=100/(n-e)*(t-e);return hd(i,[0,100])}function a3(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function l3(t,e){if(t.length===1)return 0;const n=t.map(s=>Math.abs(s-e)),r=Math.min(...n);return n.indexOf(r)}function c3(t,e,n){const r=t/2,i=Py([0,50],[0,r]);return(r-i(e)*n)*n}function u3(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function d3(t,e){if(e>0){const n=u3(t);return Math.min(...n)>=e}return!0}function Py(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function h3(t){return(String(t).split(".")[1]||"").length}function f3(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var dC=nC,p3=aC,m3=lC,g3=cC;const hC=v.forwardRef(({className:t,...e},n)=>f.jsxs(dC,{ref:n,className:xe("relative flex w-full touch-none select-none items-center",t),...e,children:[f.jsx(p3,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:f.jsx(m3,{className:"absolute h-full bg-primary"})}),f.jsx(g3,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));hC.displayName=dC.displayName;var Ry="Switch",[y3,k9]=kl(Ry),[v3,w3]=y3(Ry),fC=v.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:d,...p}=t,[m,w]=v.useState(null),x=Pe(e,T=>w(T)),y=v.useRef(!1),S=m?d||!!m.closest("form"):!0,[E=!1,_]=xo({prop:s,defaultProp:i,onChange:u});return f.jsxs(v3,{scope:n,checked:E,disabled:a,children:[f.jsx(me.button,{type:"button",role:"switch","aria-checked":E,"aria-required":o,"data-state":gC(E),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:x,onClick:ae(t.onClick,T=>{_(k=>!k),S&&(y.current=T.isPropagationStopped(),y.current||T.stopPropagation())})}),S&&f.jsx(_3,{control:m,bubbles:!y.current,name:r,value:c,checked:E,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});fC.displayName=Ry;var pC="SwitchThumb",mC=v.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,s=w3(pC,n);return f.jsx(me.span,{"data-state":gC(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:e})});mC.displayName=pC;var _3=t=>{const{control:e,checked:n,bubbles:r=!0,...s}=t,i=v.useRef(null),o=Cy(n),a=Ay(e);return v.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const m=new Event("click",{bubbles:r});p.call(c,n),c.dispatchEvent(m)}},[o,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:i,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function gC(t){return t?"checked":"unchecked"}var yC=fC,E3=mC;const vC=v.forwardRef(({className:t,...e},n)=>f.jsx(yC,{className:xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:f.jsx(E3,{className:xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));vC.displayName=yC.displayName;const T3=["top","right","bottom","left"],Es=Math.min,Gt=Math.max,fd=Math.round,zc=Math.floor,Kn=t=>({x:t,y:t}),x3={left:"right",right:"left",bottom:"top",top:"bottom"},S3={start:"end",end:"start"};function hm(t,e,n){return Gt(t,Es(e,n))}function Er(t,e){return typeof t=="function"?t(e):t}function Tr(t){return t.split("-")[0]}function Ko(t){return t.split("-")[1]}function ky(t){return t==="x"?"y":"x"}function Ny(t){return t==="y"?"height":"width"}function Ts(t){return["top","bottom"].includes(Tr(t))?"y":"x"}function Dy(t){return ky(Ts(t))}function I3(t,e,n){n===void 0&&(n=!1);const r=Ko(t),s=Dy(t),i=Ny(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=pd(o)),[o,pd(o)]}function b3(t){const e=pd(t);return[fm(t),e,fm(e)]}function fm(t){return t.replace(/start|end/g,e=>S3[e])}function C3(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function A3(t,e,n,r){const s=Ko(t);let i=C3(Tr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(fm)))),i}function pd(t){return t.replace(/left|right|bottom|top/g,e=>x3[e])}function P3(t){return{top:0,right:0,bottom:0,left:0,...t}}function wC(t){return typeof t!="number"?P3(t):{top:t,right:t,bottom:t,left:t}}function md(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function tE(t,e,n){let{reference:r,floating:s}=t;const i=Ts(e),o=Dy(e),a=Ny(o),c=Tr(e),u=i==="y",d=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let w;switch(c){case"top":w={x:d,y:r.y-s.height};break;case"bottom":w={x:d,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-s.width,y:p};break;default:w={x:r.x,y:r.y}}switch(Ko(e)){case"start":w[o]-=m*(n&&u?-1:1);break;case"end":w[o]+=m*(n&&u?-1:1);break}return w}const R3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:p}=tE(u,r,c),m=r,w={},x=0;for(let y=0;y<a.length;y++){const{name:S,fn:E}=a[y],{x:_,y:T,data:k,reset:O}=await E({x:d,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:w,rects:u,platform:o,elements:{reference:t,floating:e}});d=_??d,p=T??p,w={...w,[S]:{...w[S],...k}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(u=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:p}=tE(u,m,c)),y=-1)}return{x:d,y:p,placement:m,strategy:s,middlewareData:w}};async function _l(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:p="floating",altBoundary:m=!1,padding:w=0}=Er(e,t),x=wC(w),S=a[m?p==="floating"?"reference":"floating":p],E=md(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(S)))==null||n?S:S.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),_=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},O=md(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:c}):_);return{top:(E.top-O.top+x.top)/k.y,bottom:(O.bottom-E.bottom+x.bottom)/k.y,left:(E.left-O.left+x.left)/k.x,right:(O.right-E.right+x.right)/k.x}}const k3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=Er(t,e)||{};if(u==null)return{};const p=wC(d),m={x:n,y:r},w=Dy(s),x=Ny(w),y=await o.getDimensions(u),S=w==="y",E=S?"top":"left",_=S?"bottom":"right",T=S?"clientHeight":"clientWidth",k=i.reference[x]+i.reference[w]-m[w]-i.floating[x],O=m[w]-i.reference[w],L=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let b=L?L[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(L)))&&(b=a.floating[T]||i.floating[x]);const I=k/2-O/2,A=b/2-y[x]/2-1,P=Es(p[E],A),N=Es(p[_],A),D=P,R=b-y[x]-N,W=b/2-y[x]/2+I,ee=hm(D,W,R),X=!c.arrow&&Ko(s)!=null&&W!==ee&&i.reference[x]/2-(W<D?P:N)-y[x]/2<0,Z=X?W<D?W-D:W-R:0;return{[w]:m[w]+Z,data:{[w]:ee,centerOffset:W-ee-Z,...X&&{alignmentOffset:Z}},reset:X}}}),N3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...S}=Er(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Tr(s),_=Ts(a),T=Tr(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=m||(T||!y?[pd(a)]:b3(a)),L=x!=="none";!m&&L&&O.push(...A3(a,y,x,k));const b=[a,...O],I=await _l(e,S),A=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&A.push(I[E]),p){const W=I3(s,o,k);A.push(I[W[0]],I[W[1]])}if(P=[...P,{placement:s,overflows:A}],!A.every(W=>W<=0)){var N,D;const W=(((N=i.flip)==null?void 0:N.index)||0)+1,ee=b[W];if(ee)return{data:{index:W,overflows:P},reset:{placement:ee}};let X=(D=P.filter(Z=>Z.overflows[0]<=0).sort((Z,V)=>Z.overflows[1]-V.overflows[1])[0])==null?void 0:D.placement;if(!X)switch(w){case"bestFit":{var R;const Z=(R=P.filter(V=>{if(L){const q=Ts(V.placement);return q===_||q==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(q=>q>0).reduce((q,J)=>q+J,0)]).sort((V,q)=>V[1]-q[1])[0])==null?void 0:R[0];Z&&(X=Z);break}case"initialPlacement":X=a;break}if(s!==X)return{reset:{placement:X}}}return{}}}};function nE(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rE(t){return T3.some(e=>t[e]>=0)}const D3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Er(t,e);switch(r){case"referenceHidden":{const i=await _l(e,{...s,elementContext:"reference"}),o=nE(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rE(o)}}}case"escaped":{const i=await _l(e,{...s,altBoundary:!0}),o=nE(i,n.floating);return{data:{escapedOffsets:o,escaped:rE(o)}}}default:return{}}}}};async function O3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Tr(n),a=Ko(n),c=Ts(n)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,p=Er(e,t);let{mainAxis:m,crossAxis:w,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(w=a==="end"?x*-1:x),c?{x:w*d,y:m*u}:{x:m*u,y:w*d}}const M3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await O3(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},L3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:S=>{let{x:E,y:_}=S;return{x:E,y:_}}},...c}=Er(t,e),u={x:n,y:r},d=await _l(e,c),p=Ts(Tr(s)),m=ky(p);let w=u[m],x=u[p];if(i){const S=m==="y"?"top":"left",E=m==="y"?"bottom":"right",_=w+d[S],T=w-d[E];w=hm(_,w,T)}if(o){const S=p==="y"?"top":"left",E=p==="y"?"bottom":"right",_=x+d[S],T=x-d[E];x=hm(_,x,T)}const y=a.fn({...e,[m]:w,[p]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[p]:o}}}}}},V3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Er(t,e),d={x:n,y:r},p=Ts(s),m=ky(p);let w=d[m],x=d[p];const y=Er(a,e),S=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const T=m==="y"?"height":"width",k=i.reference[m]-i.floating[T]+S.mainAxis,O=i.reference[m]+i.reference[T]-S.mainAxis;w<k?w=k:w>O&&(w=O)}if(u){var E,_;const T=m==="y"?"width":"height",k=["top","left"].includes(Tr(s)),O=i.reference[p]-i.floating[T]+(k&&((E=o.offset)==null?void 0:E[p])||0)+(k?0:S.crossAxis),L=i.reference[p]+i.reference[T]+(k?0:((_=o.offset)==null?void 0:_[p])||0)-(k?S.crossAxis:0);x<O?x=O:x>L&&(x=L)}return{[m]:w,[p]:x}}}},j3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Er(t,e),d=await _l(e,u),p=Tr(s),m=Ko(s),w=Ts(s)==="y",{width:x,height:y}=i.floating;let S,E;p==="top"||p==="bottom"?(S=p,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,S=m==="end"?"top":"bottom");const _=y-d.top-d.bottom,T=x-d.left-d.right,k=Es(y-d[S],_),O=Es(x-d[E],T),L=!e.middlewareData.shift;let b=k,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),L&&!m){const P=Gt(d.left,0),N=Gt(d.right,0),D=Gt(d.top,0),R=Gt(d.bottom,0);w?I=x-2*(P!==0||N!==0?P+N:Gt(d.left,d.right)):b=y-2*(D!==0||R!==0?D+R:Gt(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:b});const A=await o.getDimensions(a.floating);return x!==A.width||y!==A.height?{reset:{rects:!0}}:{}}}};function uh(){return typeof window<"u"}function Go(t){return _C(t)?(t.nodeName||"").toLowerCase():"#document"}function Jt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yn(t){var e;return(e=(_C(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _C(t){return uh()?t instanceof Node||t instanceof Jt(t).Node:!1}function Rn(t){return uh()?t instanceof Element||t instanceof Jt(t).Element:!1}function Qn(t){return uh()?t instanceof HTMLElement||t instanceof Jt(t).HTMLElement:!1}function sE(t){return!uh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jt(t).ShadowRoot}function Hl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=kn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function F3(t){return["table","td","th"].includes(Go(t))}function dh(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Oy(t){const e=My(),n=Rn(t)?kn(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function U3(t){let e=xs(t);for(;Qn(e)&&!Do(e);){if(Oy(e))return e;if(dh(e))return null;e=xs(e)}return null}function My(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Do(t){return["html","body","#document"].includes(Go(t))}function kn(t){return Jt(t).getComputedStyle(t)}function hh(t){return Rn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xs(t){if(Go(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sE(t)&&t.host||Yn(t);return sE(e)?e.host:e}function EC(t){const e=xs(t);return Do(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qn(e)&&Hl(e)?e:EC(e)}function El(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=EC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Jt(s);if(i){const a=pm(o);return e.concat(o,o.visualViewport||[],Hl(s)?s:[],a&&n?El(a):[])}return e.concat(s,El(s,[],n))}function pm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function TC(t){const e=kn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Qn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=fd(n)!==i||fd(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Ly(t){return Rn(t)?t:t.contextElement}function so(t){const e=Ly(t);if(!Qn(e))return Kn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=TC(e);let o=(i?fd(n.width):n.width)/r,a=(i?fd(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const $3=Kn(0);function xC(t){const e=Jt(t);return!My()||!e.visualViewport?$3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function z3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jt(t)?!1:e}function ci(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Ly(t);let o=Kn(1);e&&(r?Rn(r)&&(o=so(r)):o=so(t));const a=z3(i,n,r)?xC(i):Kn(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,d=s.width/o.x,p=s.height/o.y;if(i){const m=Jt(i),w=r&&Rn(r)?Jt(r):r;let x=m,y=pm(x);for(;y&&r&&w!==x;){const S=so(y),E=y.getBoundingClientRect(),_=kn(y),T=E.left+(y.clientLeft+parseFloat(_.paddingLeft))*S.x,k=E.top+(y.clientTop+parseFloat(_.paddingTop))*S.y;c*=S.x,u*=S.y,d*=S.x,p*=S.y,c+=T,u+=k,x=Jt(y),y=pm(x)}}return md({width:d,height:p,x:c,y:u})}function Vy(t,e){const n=hh(t).scrollLeft;return e?e.left+n:ci(Yn(t)).left+n}function SC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Vy(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function B3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Yn(r),a=e?dh(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Kn(1);const d=Kn(0),p=Qn(r);if((p||!p&&!i)&&((Go(r)!=="body"||Hl(o))&&(c=hh(r)),Qn(r))){const w=ci(r);u=so(r),d.x=w.x+r.clientLeft,d.y=w.y+r.clientTop}const m=o&&!p&&!i?SC(o,c,!0):Kn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function W3(t){return Array.from(t.getClientRects())}function H3(t){const e=Yn(t),n=hh(t),r=t.ownerDocument.body,s=Gt(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Gt(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Vy(t);const a=-n.scrollTop;return kn(r).direction==="rtl"&&(o+=Gt(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function q3(t,e){const n=Jt(t),r=Yn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=My();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function K3(t,e){const n=ci(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Qn(t)?so(t):Kn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function iE(t,e,n){let r;if(e==="viewport")r=q3(t,n);else if(e==="document")r=H3(Yn(t));else if(Rn(e))r=K3(e,n);else{const s=xC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return md(r)}function IC(t,e){const n=xs(t);return n===e||!Rn(n)||Do(n)?!1:kn(n).position==="fixed"||IC(n,e)}function G3(t,e){const n=e.get(t);if(n)return n;let r=El(t,[],!1).filter(a=>Rn(a)&&Go(a)!=="body"),s=null;const i=kn(t).position==="fixed";let o=i?xs(t):t;for(;Rn(o)&&!Do(o);){const a=kn(o),c=Oy(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Hl(o)&&!c&&IC(t,o))?r=r.filter(d=>d!==o):s=a,o=xs(o)}return e.set(t,r),r}function Q3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?dh(e)?[]:G3(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,d)=>{const p=iE(e,d,s);return u.top=Gt(p.top,u.top),u.right=Es(p.right,u.right),u.bottom=Es(p.bottom,u.bottom),u.left=Gt(p.left,u.left),u},iE(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Y3(t){const{width:e,height:n}=TC(t);return{width:e,height:n}}function X3(t,e,n){const r=Qn(e),s=Yn(e),i=n==="fixed",o=ci(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Kn(0);if(r||!r&&!i)if((Go(e)!=="body"||Hl(s))&&(a=hh(e)),r){const m=ci(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=Vy(s));const u=s&&!r&&!i?SC(s,a):Kn(0),d=o.left+a.scrollLeft-c.x-u.x,p=o.top+a.scrollTop-c.y-u.y;return{x:d,y:p,width:o.width,height:o.height}}function Of(t){return kn(t).position==="static"}function oE(t,e){if(!Qn(t)||kn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yn(t)===n&&(n=n.ownerDocument.body),n}function bC(t,e){const n=Jt(t);if(dh(t))return n;if(!Qn(t)){let s=xs(t);for(;s&&!Do(s);){if(Rn(s)&&!Of(s))return s;s=xs(s)}return n}let r=oE(t,e);for(;r&&F3(r)&&Of(r);)r=oE(r,e);return r&&Do(r)&&Of(r)&&!Oy(r)?n:r||U3(t)||n}const J3=async function(t){const e=this.getOffsetParent||bC,n=this.getDimensions,r=await n(t.floating);return{reference:X3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Z3(t){return kn(t).direction==="rtl"}const e5={convertOffsetParentRelativeRectToViewportRelativeRect:B3,getDocumentElement:Yn,getClippingRect:Q3,getOffsetParent:bC,getElementRects:J3,getClientRects:W3,getDimensions:Y3,getScale:so,isElement:Rn,isRTL:Z3};function t5(t,e){let n=null,r;const s=Yn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:p,height:m}=t.getBoundingClientRect();if(a||e(),!p||!m)return;const w=zc(d),x=zc(s.clientWidth-(u+p)),y=zc(s.clientHeight-(d+m)),S=zc(u),_={rootMargin:-w+"px "+-x+"px "+-y+"px "+-S+"px",threshold:Gt(0,Es(1,c))||1};let T=!0;function k(O){const L=O[0].intersectionRatio;if(L!==c){if(!T)return o();L?o(!1,L):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T=!1}try{n=new IntersectionObserver(k,{..._,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,_)}n.observe(t)}return o(!0),i}function n5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ly(t),d=s||i?[...u?El(u):[],...El(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const p=u&&a?t5(u,n):null;let m=-1,w=null;o&&(w=new ResizeObserver(E=>{let[_]=E;_&&_.target===u&&w&&(w.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=w)==null||T.observe(e)})),n()}),u&&!c&&w.observe(u),w.observe(e));let x,y=c?ci(t):null;c&&S();function S(){const E=ci(t);y&&(E.x!==y.x||E.y!==y.y||E.width!==y.width||E.height!==y.height)&&n(),y=E,x=requestAnimationFrame(S)}return n(),()=>{var E;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),p==null||p(),(E=w)==null||E.disconnect(),w=null,c&&cancelAnimationFrame(x)}}const r5=M3,s5=L3,i5=N3,o5=j3,a5=D3,aE=k3,l5=V3,c5=(t,e,n)=>{const r=new Map,s={platform:e5,...n},i={...s.platform,_c:r};return R3(t,e,{...s,platform:i})};var wu=typeof document<"u"?v.useLayoutEffect:v.useEffect;function gd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!gd(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!gd(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function CC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lE(t,e){const n=CC(t);return Math.round(e*n)/n}function Mf(t){const e=v.useRef(t);return wu(()=>{e.current=t}),e}function u5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,p]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,w]=v.useState(r);gd(m,r)||w(r);const[x,y]=v.useState(null),[S,E]=v.useState(null),_=v.useCallback(V=>{V!==L.current&&(L.current=V,y(V))},[]),T=v.useCallback(V=>{V!==b.current&&(b.current=V,E(V))},[]),k=i||x,O=o||S,L=v.useRef(null),b=v.useRef(null),I=v.useRef(d),A=c!=null,P=Mf(c),N=Mf(s),D=Mf(u),R=v.useCallback(()=>{if(!L.current||!b.current)return;const V={placement:e,strategy:n,middleware:m};N.current&&(V.platform=N.current),c5(L.current,b.current,V).then(q=>{const J={...q,isPositioned:D.current!==!1};W.current&&!gd(I.current,J)&&(I.current=J,fi.flushSync(()=>{p(J)}))})},[m,e,n,N,D]);wu(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(V=>({...V,isPositioned:!1})))},[u]);const W=v.useRef(!1);wu(()=>(W.current=!0,()=>{W.current=!1}),[]),wu(()=>{if(k&&(L.current=k),O&&(b.current=O),k&&O){if(P.current)return P.current(k,O,R);R()}},[k,O,R,P,A]);const ee=v.useMemo(()=>({reference:L,floating:b,setReference:_,setFloating:T}),[_,T]),X=v.useMemo(()=>({reference:k,floating:O}),[k,O]),Z=v.useMemo(()=>{const V={position:n,left:0,top:0};if(!X.floating)return V;const q=lE(X.floating,d.x),J=lE(X.floating,d.y);return a?{...V,transform:"translate("+q+"px, "+J+"px)",...CC(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:J}},[n,a,X.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:R,refs:ee,elements:X,floatingStyles:Z}),[d,R,ee,X,Z])}const d5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aE({element:r.current,padding:s}).fn(n):{}:r?aE({element:r,padding:s}).fn(n):{}}}},h5=(t,e)=>({...r5(t),options:[t,e]}),f5=(t,e)=>({...s5(t),options:[t,e]}),p5=(t,e)=>({...l5(t),options:[t,e]}),m5=(t,e)=>({...i5(t),options:[t,e]}),g5=(t,e)=>({...o5(t),options:[t,e]}),y5=(t,e)=>({...a5(t),options:[t,e]}),v5=(t,e)=>({...d5(t),options:[t,e]});var w5="Arrow",AC=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return f.jsx(me.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});AC.displayName=w5;var _5=AC;function E5(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),c=n.length;n=[...n,o];function u(p){const{scope:m,children:w,...x}=p,y=(m==null?void 0:m[t][c])||a,S=v.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:S,children:w})}function d(p,m){const w=(m==null?void 0:m[t][c])||a,x=v.useContext(w);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,d]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,T5(s,...e)]}function T5(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var jy="Popper",[PC,RC]=E5(jy),[x5,kC]=PC(jy),NC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return f.jsx(x5,{scope:e,anchor:r,onAnchorChange:s,children:n})};NC.displayName=jy;var DC="PopperAnchor",OC=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=kC(DC,n),o=v.useRef(null),a=Pe(e,o);return v.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:f.jsx(me.div,{...s,ref:a})});OC.displayName=DC;var Fy="PopperContent",[S5,I5]=PC(Fy),MC=v.forwardRef((t,e)=>{var B,fe,Ie,ue,de,_e;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:w="optimized",onPlaced:x,...y}=t,S=kC(Fy,n),[E,_]=v.useState(null),T=Pe(e,ot=>_(ot)),[k,O]=v.useState(null),L=Ay(k),b=(L==null?void 0:L.width)??0,I=(L==null?void 0:L.height)??0,A=r+(i!=="center"?"-"+i:""),P=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},N=Array.isArray(u)?u:[u],D=N.length>0,R={padding:P,boundary:N.filter(C5),altBoundary:D},{refs:W,floatingStyles:ee,placement:X,isPositioned:Z,middlewareData:V}=u5({strategy:"fixed",placement:A,whileElementsMounted:(...ot)=>n5(...ot,{animationFrame:w==="always"}),elements:{reference:S.anchor},middleware:[h5({mainAxis:s+I,alignmentAxis:o}),c&&f5({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?p5():void 0,...R}),c&&m5({...R}),g5({...R,apply:({elements:ot,rects:Vt,availableWidth:Xn,availableHeight:Cr})=>{const{width:ks,height:gh}=Vt.reference,Ns=ot.floating.style;Ns.setProperty("--radix-popper-available-width",`${Xn}px`),Ns.setProperty("--radix-popper-available-height",`${Cr}px`),Ns.setProperty("--radix-popper-anchor-width",`${ks}px`),Ns.setProperty("--radix-popper-anchor-height",`${gh}px`)}}),k&&v5({element:k,padding:a}),A5({arrowWidth:b,arrowHeight:I}),m&&y5({strategy:"referenceHidden",...R})]}),[q,J]=jC(X),ne=en(x);bt(()=>{Z&&(ne==null||ne())},[Z,ne]);const le=(B=V.arrow)==null?void 0:B.x,ye=(fe=V.arrow)==null?void 0:fe.y,Ne=((Ie=V.arrow)==null?void 0:Ie.centerOffset)!==0,[Qe,H]=v.useState();return bt(()=>{E&&H(window.getComputedStyle(E).zIndex)},[E]),f.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:Z?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qe,"--radix-popper-transform-origin":[(ue=V.transformOrigin)==null?void 0:ue.x,(de=V.transformOrigin)==null?void 0:de.y].join(" "),...((_e=V.hide)==null?void 0:_e.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(S5,{scope:n,placedSide:q,onArrowChange:O,arrowX:le,arrowY:ye,shouldHideArrow:Ne,children:f.jsx(me.div,{"data-side":q,"data-align":J,...y,ref:T,style:{...y.style,animation:Z?void 0:"none"}})})})});MC.displayName=Fy;var LC="PopperArrow",b5={top:"bottom",right:"left",bottom:"top",left:"right"},VC=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=I5(LC,r),o=b5[i.placedSide];return f.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:f.jsx(_5,{...s,ref:n,style:{...s.style,display:"block"}})})});VC.displayName=LC;function C5(t){return t!==null}var A5=t=>({name:"transformOrigin",options:t,fn(e){var S,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((S=s.arrow)==null?void 0:S.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=jC(n),p={start:"0%",center:"50%",end:"100%"}[d],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,w=(((_=s.arrow)==null?void 0:_.y)??0)+c/2;let x="",y="";return u==="bottom"?(x=o?p:`${m}px`,y=`${-c}px`):u==="top"?(x=o?p:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,y=o?p:`${w}px`):u==="left"&&(x=`${r.floating.width+c}px`,y=o?p:`${w}px`),{data:{x,y}}}});function jC(t){const[e,n="center"]=t.split("-");return[e,n]}var P5=NC,R5=OC,k5=MC,N5=VC,D5=[" ","Enter","ArrowUp","ArrowDown"],O5=[" ","Enter"],ql="Select",[fh,ph,M5]=vg(ql),[Qo,N9]=kl(ql,[M5,RC]),mh=RC(),[L5,Ps]=Qo(ql),[V5,j5]=Qo(ql),FC=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:p,disabled:m,required:w,form:x}=t,y=mh(e),[S,E]=v.useState(null),[_,T]=v.useState(null),[k,O]=v.useState(!1),L=Xb(u),[b=!1,I]=xo({prop:r,defaultProp:s,onChange:i}),[A,P]=xo({prop:o,defaultProp:a,onChange:c}),N=v.useRef(null),D=S?x||!!S.closest("form"):!0,[R,W]=v.useState(new Set),ee=Array.from(R).map(X=>X.props.value).join(";");return f.jsx(P5,{...y,children:f.jsxs(L5,{required:w,scope:e,trigger:S,onTriggerChange:E,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:no(),value:A,onValueChange:P,open:b,onOpenChange:I,dir:L,triggerPointerDownPosRef:N,disabled:m,children:[f.jsx(fh.Provider,{scope:e,children:f.jsx(V5,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(X=>{W(Z=>new Set(Z).add(X))},[]),onNativeOptionRemove:v.useCallback(X=>{W(Z=>{const V=new Set(Z);return V.delete(X),V})},[]),children:n})}),D?f.jsxs(uA,{"aria-hidden":!0,required:w,tabIndex:-1,name:d,autoComplete:p,value:A,onChange:X=>P(X.target.value),disabled:m,form:x,children:[A===void 0?f.jsx("option",{value:""}):null,Array.from(R)]},ee):null]})})};FC.displayName=ql;var UC="SelectTrigger",$C=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=mh(n),o=Ps(UC,n),a=o.disabled||r,c=Pe(e,o.onTriggerChange),u=ph(n),d=v.useRef("touch"),[p,m,w]=dA(y=>{const S=u().filter(T=>!T.disabled),E=S.find(T=>T.value===o.value),_=hA(S,y,E);_!==void 0&&o.onValueChange(_.value)}),x=y=>{a||(o.onOpenChange(!0),w()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(R5,{asChild:!0,...i,children:f.jsx(me.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":cA(o.value)?"":void 0,...s,ref:c,onClick:ae(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:ae(s.onPointerDown,y=>{d.current=y.pointerType;const S=y.target;S.hasPointerCapture(y.pointerId)&&S.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:ae(s.onKeyDown,y=>{const S=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(S&&y.key===" ")&&D5.includes(y.key)&&(x(),y.preventDefault())})})})});$C.displayName=UC;var zC="SelectValue",BC=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Ps(zC,n),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,p=Pe(e,c.onValueNodeChange);return bt(()=>{u(d)},[u,d]),f.jsx(me.span,{...a,ref:p,style:{pointerEvents:"none"},children:cA(c.value)?f.jsx(f.Fragment,{children:o}):i})});BC.displayName=zC;var F5="SelectIcon",WC=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return f.jsx(me.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});WC.displayName=F5;var U5="SelectPortal",HC=t=>f.jsx(Fd,{asChild:!0,...t});HC.displayName=U5;var ui="SelectContent",qC=v.forwardRef((t,e)=>{const n=Ps(ui,t.__scopeSelect),[r,s]=v.useState();if(bt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?fi.createPortal(f.jsx(KC,{scope:t.__scopeSelect,children:f.jsx(fh.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),i):null}return f.jsx(GC,{...t,ref:e})});qC.displayName=ui;var mn=10,[KC,Rs]=Qo(ui),$5="SelectContentImpl",GC=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:w,sticky:x,hideWhenDetached:y,avoidCollisions:S,...E}=t,_=Ps(ui,n),[T,k]=v.useState(null),[O,L]=v.useState(null),b=Pe(e,B=>k(B)),[I,A]=v.useState(null),[P,N]=v.useState(null),D=ph(n),[R,W]=v.useState(!1),ee=v.useRef(!1);v.useEffect(()=>{if(T)return bb(T)},[T]),vb();const X=v.useCallback(B=>{const[fe,...Ie]=D().map(_e=>_e.ref.current),[ue]=Ie.slice(-1),de=document.activeElement;for(const _e of B)if(_e===de||(_e==null||_e.scrollIntoView({block:"nearest"}),_e===fe&&O&&(O.scrollTop=0),_e===ue&&O&&(O.scrollTop=O.scrollHeight),_e==null||_e.focus(),document.activeElement!==de))return},[D,O]),Z=v.useCallback(()=>X([I,T]),[X,I,T]);v.useEffect(()=>{R&&Z()},[R,Z]);const{onOpenChange:V,triggerPointerDownPosRef:q}=_;v.useEffect(()=>{if(T){let B={x:0,y:0};const fe=ue=>{var de,_e;B={x:Math.abs(Math.round(ue.pageX)-(((de=q.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((_e=q.current)==null?void 0:_e.y)??0))}},Ie=ue=>{B.x<=10&&B.y<=10?ue.preventDefault():T.contains(ue.target)||V(!1),document.removeEventListener("pointermove",fe),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[T,V,q]),v.useEffect(()=>{const B=()=>V(!1);return window.addEventListener("blur",B),window.addEventListener("resize",B),()=>{window.removeEventListener("blur",B),window.removeEventListener("resize",B)}},[V]);const[J,ne]=dA(B=>{const fe=D().filter(de=>!de.disabled),Ie=fe.find(de=>de.ref.current===document.activeElement),ue=hA(fe,B,Ie);ue&&setTimeout(()=>ue.ref.current.focus())}),le=v.useCallback((B,fe,Ie)=>{const ue=!ee.current&&!Ie;(_.value!==void 0&&_.value===fe||ue)&&(A(B),ue&&(ee.current=!0))},[_.value]),ye=v.useCallback(()=>T==null?void 0:T.focus(),[T]),Ne=v.useCallback((B,fe,Ie)=>{const ue=!ee.current&&!Ie;(_.value!==void 0&&_.value===fe||ue)&&N(B)},[_.value]),Qe=r==="popper"?mm:QC,H=Qe===mm?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:p,collisionBoundary:m,collisionPadding:w,sticky:x,hideWhenDetached:y,avoidCollisions:S}:{};return f.jsx(KC,{scope:n,content:T,viewport:O,onViewportChange:L,itemRefCallback:le,selectedItem:I,onItemLeave:ye,itemTextRefCallback:Ne,focusSelectedItem:Z,selectedItemText:P,position:r,isPositioned:R,searchRef:J,children:f.jsx(Ty,{as:ni,allowPinchZoom:!0,children:f.jsx(Ey,{asChild:!0,trapped:_.open,onMountAutoFocus:B=>{B.preventDefault()},onUnmountAutoFocus:ae(s,B=>{var fe;(fe=_.trigger)==null||fe.focus({preventScroll:!0}),B.preventDefault()}),children:f.jsx(jd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:B=>B.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(Qe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:B=>B.preventDefault(),...E,...H,onPlaced:()=>W(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:ae(E.onKeyDown,B=>{const fe=B.ctrlKey||B.altKey||B.metaKey;if(B.key==="Tab"&&B.preventDefault(),!fe&&B.key.length===1&&ne(B.key),["ArrowUp","ArrowDown","Home","End"].includes(B.key)){let ue=D().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(B.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(B.key)){const de=B.target,_e=ue.indexOf(de);ue=ue.slice(_e+1)}setTimeout(()=>X(ue)),B.preventDefault()}})})})})})})});GC.displayName=$5;var z5="SelectItemAlignedPosition",QC=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ps(ui,n),o=Rs(ui,n),[a,c]=v.useState(null),[u,d]=v.useState(null),p=Pe(e,b=>d(b)),m=ph(n),w=v.useRef(!1),x=v.useRef(!0),{viewport:y,selectedItem:S,selectedItemText:E,focusSelectedItem:_}=o,T=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&u&&y&&S&&E){const b=i.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),P=E.getBoundingClientRect();if(i.dir!=="rtl"){const de=P.left-I.left,_e=A.left-de,ot=b.left-_e,Vt=b.width+ot,Xn=Math.max(Vt,I.width),Cr=window.innerWidth-mn,ks=hd(_e,[mn,Math.max(mn,Cr-Xn)]);a.style.minWidth=Vt+"px",a.style.left=ks+"px"}else{const de=I.right-P.right,_e=window.innerWidth-A.right-de,ot=window.innerWidth-b.right-_e,Vt=b.width+ot,Xn=Math.max(Vt,I.width),Cr=window.innerWidth-mn,ks=hd(_e,[mn,Math.max(mn,Cr-Xn)]);a.style.minWidth=Vt+"px",a.style.right=ks+"px"}const N=m(),D=window.innerHeight-mn*2,R=y.scrollHeight,W=window.getComputedStyle(u),ee=parseInt(W.borderTopWidth,10),X=parseInt(W.paddingTop,10),Z=parseInt(W.borderBottomWidth,10),V=parseInt(W.paddingBottom,10),q=ee+X+R+V+Z,J=Math.min(S.offsetHeight*5,q),ne=window.getComputedStyle(y),le=parseInt(ne.paddingTop,10),ye=parseInt(ne.paddingBottom,10),Ne=b.top+b.height/2-mn,Qe=D-Ne,H=S.offsetHeight/2,B=S.offsetTop+H,fe=ee+X+B,Ie=q-fe;if(fe<=Ne){const de=N.length>0&&S===N[N.length-1].ref.current;a.style.bottom="0px";const _e=u.clientHeight-y.offsetTop-y.offsetHeight,ot=Math.max(Qe,H+(de?ye:0)+_e+Z),Vt=fe+ot;a.style.height=Vt+"px"}else{const de=N.length>0&&S===N[0].ref.current;a.style.top="0px";const ot=Math.max(Ne,ee+y.offsetTop+(de?le:0)+H)+Ie;a.style.height=ot+"px",y.scrollTop=fe-Ne+y.offsetTop}a.style.margin=`${mn}px 0`,a.style.minHeight=J+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[m,i.trigger,i.valueNode,a,u,y,S,E,i.dir,r]);bt(()=>T(),[T]);const[k,O]=v.useState();bt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const L=v.useCallback(b=>{b&&x.current===!0&&(T(),_==null||_(),x.current=!1)},[T,_]);return f.jsx(W5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:L,children:f.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:f.jsx(me.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});QC.displayName=z5;var B5="SelectPopperPosition",mm=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=mn,...i}=t,o=mh(n);return f.jsx(k5,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mm.displayName=B5;var[W5,Uy]=Qo(ui,{}),gm="SelectViewport",YC=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Rs(gm,n),o=Uy(gm,n),a=Pe(e,i.onViewportChange),c=v.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(fh.Slot,{scope:n,children:f.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ae(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const w=Math.abs(c.current-d.scrollTop);if(w>0){const x=window.innerHeight-mn*2,y=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),E=Math.max(y,S);if(E<x){const _=E+w,T=Math.min(x,_),k=_-T;p.style.height=T+"px",p.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,p.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});YC.displayName=gm;var XC="SelectGroup",[H5,q5]=Qo(XC),K5=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=no();return f.jsx(H5,{scope:n,id:s,children:f.jsx(me.div,{role:"group","aria-labelledby":s,...r,ref:e})})});K5.displayName=XC;var JC="SelectLabel",ZC=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=q5(JC,n);return f.jsx(me.div,{id:s.id,...r,ref:e})});ZC.displayName=JC;var yd="SelectItem",[G5,eA]=Qo(yd),tA=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ps(yd,n),c=Rs(yd,n),u=a.value===r,[d,p]=v.useState(i??""),[m,w]=v.useState(!1),x=Pe(e,_=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,_,r,s)}),y=no(),S=v.useRef("touch"),E=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(G5,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:v.useCallback(_=>{p(T=>T||((_==null?void 0:_.textContent)??"").trim())},[]),children:f.jsx(fh.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:f.jsx(me.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:x,onFocus:ae(o.onFocus,()=>w(!0)),onBlur:ae(o.onBlur,()=>w(!1)),onClick:ae(o.onClick,()=>{S.current!=="mouse"&&E()}),onPointerUp:ae(o.onPointerUp,()=>{S.current==="mouse"&&E()}),onPointerDown:ae(o.onPointerDown,_=>{S.current=_.pointerType}),onPointerMove:ae(o.onPointerMove,_=>{var T;S.current=_.pointerType,s?(T=c.onItemLeave)==null||T.call(c):S.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(o.onPointerLeave,_=>{var T;_.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:ae(o.onKeyDown,_=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&_.key===" "||(O5.includes(_.key)&&E(),_.key===" "&&_.preventDefault())})})})})});tA.displayName=yd;var Aa="SelectItemText",nA=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ps(Aa,n),a=Rs(Aa,n),c=eA(Aa,n),u=j5(Aa,n),[d,p]=v.useState(null),m=Pe(e,E=>p(E),c.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,E,c.value,c.disabled)}),w=d==null?void 0:d.textContent,x=v.useMemo(()=>f.jsx("option",{value:c.value,disabled:c.disabled,children:w},c.value),[c.disabled,c.value,w]),{onNativeOptionAdd:y,onNativeOptionRemove:S}=u;return bt(()=>(y(x),()=>S(x)),[y,S,x]),f.jsxs(f.Fragment,{children:[f.jsx(me.span,{id:c.textId,...i,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fi.createPortal(i.children,o.valueNode):null]})});nA.displayName=Aa;var rA="SelectItemIndicator",sA=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return eA(rA,n).isSelected?f.jsx(me.span,{"aria-hidden":!0,...r,ref:e}):null});sA.displayName=rA;var ym="SelectScrollUpButton",iA=v.forwardRef((t,e)=>{const n=Rs(ym,t.__scopeSelect),r=Uy(ym,t.__scopeSelect),[s,i]=v.useState(!1),o=Pe(e,r.onScrollButtonChange);return bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(aA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});iA.displayName=ym;var vm="SelectScrollDownButton",oA=v.forwardRef((t,e)=>{const n=Rs(vm,t.__scopeSelect),r=Uy(vm,t.__scopeSelect),[s,i]=v.useState(!1),o=Pe(e,r.onScrollButtonChange);return bt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?f.jsx(aA,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});oA.displayName=vm;var aA=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Rs("SelectScrollButton",n),o=v.useRef(null),a=ph(n),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),bt(()=>{var d;const u=a().find(p=>p.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),f.jsx(me.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ae(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ae(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ae(s.onPointerLeave,()=>{c()})})}),Q5="SelectSeparator",lA=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(me.div,{"aria-hidden":!0,...r,ref:e})});lA.displayName=Q5;var wm="SelectArrow",Y5=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=mh(n),i=Ps(wm,n),o=Rs(wm,n);return i.open&&o.position==="popper"?f.jsx(N5,{...s,...r,ref:e}):null});Y5.displayName=wm;function cA(t){return t===""||t===void 0}var uA=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=v.useRef(null),i=Pe(e,s),o=Cy(n);return v.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&d){const p=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(p)}},[o,n]),f.jsx(Ud,{asChild:!0,children:f.jsx("select",{...r,ref:i,defaultValue:n})})});uA.displayName="BubbleSelect";function dA(t){const e=en(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function hA(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=X5(t,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function X5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J5=FC,fA=$C,Z5=BC,e9=WC,t9=HC,pA=qC,n9=YC,mA=ZC,gA=tA,r9=nA,s9=sA,yA=iA,vA=oA,wA=lA;const i9=J5,o9=Z5,_A=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(fA,{ref:r,className:xe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,f.jsx(e9,{asChild:!0,children:f.jsx(bS,{className:"h-4 w-4 opacity-50"})})]}));_A.displayName=fA.displayName;const EA=v.forwardRef(({className:t,...e},n)=>f.jsx(yA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(PD,{className:"h-4 w-4"})}));EA.displayName=yA.displayName;const TA=v.forwardRef(({className:t,...e},n)=>f.jsx(vA,{ref:n,className:xe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(bS,{className:"h-4 w-4"})}));TA.displayName=vA.displayName;const xA=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>f.jsx(t9,{children:f.jsxs(pA,{ref:s,className:xe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(EA,{}),f.jsx(n9,{className:xe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),f.jsx(TA,{})]})}));xA.displayName=pA.displayName;const a9=v.forwardRef(({className:t,...e},n)=>f.jsx(mA,{ref:n,className:xe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));a9.displayName=mA.displayName;const _u=v.forwardRef(({className:t,children:e,...n},r)=>f.jsxs(gA,{ref:r,className:xe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[f.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:f.jsx(s9,{children:f.jsx(AD,{className:"h-4 w-4"})})}),f.jsx(r9,{children:e})]}));_u.displayName=gA.displayName;const l9=v.forwardRef(({className:t,...e},n)=>f.jsx(wA,{ref:n,className:xe("-mx-1 my-1 h-px bg-muted",t),...e}));l9.displayName=wA.displayName;const c9=({volume:t,soundEnabled:e,difficulty:n,onVolumeChange:r,onSoundToggle:s,onDifficultyChange:i})=>f.jsx(En,{className:"bg-black/50 backdrop-blur-sm border-cyan-500/30",children:f.jsxs(Tn,{className:"p-4",children:[f.jsx("h2",{className:"text-lg font-['Orbitron'] text-cyan-400 mb-4",children:"SETTINGS"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"volume",className:"block text-gray-400 mb-2",children:"Volume"}),f.jsx(hC,{id:"volume",min:0,max:100,step:1,value:[t],onValueChange:o=>r(o[0]),className:"w-full"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx(vC,{id:"mute-sounds",checked:e,onCheckedChange:s,className:"mr-2"}),f.jsx(sr,{htmlFor:"mute-sounds",className:"text-white",children:"Sound Effects"})]}),f.jsxs("div",{children:[f.jsx(sr,{htmlFor:"difficulty",className:"block text-gray-400 mb-2",children:"Difficulty"}),f.jsxs(i9,{value:n,onValueChange:i,children:[f.jsx(_A,{className:"w-full bg-black/50 border-cyan-500/50",children:f.jsx(o9,{placeholder:"Select difficulty"})}),f.jsxs(xA,{className:"bg-black/90 border-cyan-500/50",children:[f.jsx(_u,{value:"easy",children:"Easy"}),f.jsx(_u,{value:"medium",children:"Medium"}),f.jsx(_u,{value:"hard",children:"Hard"})]})]})]})]})]})});function SA({showLeaderboardButton:t=!0,showGameButton:e=!1}){const{logout:n}=gb(),[,r]=Md(),s=Uo(),[i,o]=v.useState("");v.useEffect(()=>{const u=s.currentUser;u&&o(u.displayName||u.email||"Player")},[s]);const a=()=>{r("/leaderboard")},c=()=>{r("/game")};return f.jsxs("header",{className:"flex flex-wrap justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("h1",{className:"text-3xl sm:text-4xl font-bold font-['Orbitron'] text-cyan-400 mr-4",children:"TETRIS"}),f.jsxs("div",{className:"hidden sm:block bg-black/30 px-4 py-2 rounded-lg backdrop-blur-sm",children:[f.jsx("span",{className:"text-gray-400 mr-2",children:"Player:"}),f.jsx("span",{className:"text-white font-medium",children:i})]})]}),f.jsxs("nav",{className:"flex space-x-4",children:[t&&f.jsxs(qe,{variant:"outline",className:"border-cyan-500/50 bg-black/30 text-white hover:bg-black/50 backdrop-blur-sm flex items-center",onClick:a,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-fuchsia-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),f.jsx("span",{className:"hidden sm:inline",children:"Leaderboard"})]}),e&&f.jsxs(qe,{variant:"outline",className:"border-cyan-500/50 bg-black/30 text-white hover:bg-black/50 backdrop-blur-sm flex items-center",onClick:c,children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-cyan-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),f.jsx("span",{className:"hidden sm:inline",children:"Game"})]}),f.jsxs(qe,{variant:"outline",className:"border-cyan-500/50 bg-black/30 text-white hover:bg-black/50 backdrop-blur-sm flex items-center",onClick:n,children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-cyan-400 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),f.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}const Wi={0:{shape:[[0]],color:"transparent"},I:{shape:[[0,0,0,0],[1,1,1,1],[0,0,0,0],[0,0,0,0]],color:"#00FFFF"},J:{shape:[[0,1,0],[0,1,0],[1,1,0]],color:"#0000FF"},L:{shape:[[0,1,0],[0,1,0],[0,1,1]],color:"#FF8800"},O:{shape:[[1,1],[1,1]],color:"#FFFF00"},S:{shape:[[0,1,1],[1,1,0],[0,0,0]],color:"#00FF00"},T:{shape:[[0,1,0],[1,1,1],[0,0,0]],color:"#FF00FF"},Z:{shape:[[1,1,0],[0,1,1],[0,0,0]],color:"#FF0000"}},Lf=()=>{try{const t="IJLOSTZ",e=t[Math.floor(Math.random()*t.length)];return!e||!Wi[e]?(console.warn("Generated invalid tetromino key, defaulting to I",e),Wi.I):Wi[e]}catch(t){return console.error("Error generating random tetromino:",t),Wi.I}},cE=(t=10,e=20)=>Array.from(Array(e),()=>Array(t).fill([0,"clear"])),Bc=(t,e,{x:n,y:r})=>{if(!t.tetromino||!Array.isArray(t.tetromino))return!1;for(let s=0;s<t.tetromino.length;s++)for(let i=0;i<t.tetromino[s].length;i++)if(t.tetromino[s][i]!==0&&(!e[s+t.pos.y+r]||!e[s+t.pos.y+r][i+t.pos.x+n]||e[s+t.pos.y+r][i+t.pos.x+n][1]!=="clear"))return!0;return!1},u9=(t,e)=>{const n=[40,100,300,1200];return t>0?(e+1)*n[t-1]:0},d9=t=>Math.floor(t/10)+1,Wc=t=>1e3/(t+1)+200,uE=(t,e)=>{const n=t.map((r,s)=>t.map(i=>i[s]));return e>0?n.map(r=>r.reverse()):n.reverse()},dE={score:0,rows:0,level:1,gameOver:!1},h9=()=>{const[t,e]=v.useState(cE()),[n,r]=v.useState(Wi.I),[s,i]=v.useState(()=>({pos:{x:0,y:0},tetromino:[[0]],collided:!1,color:"transparent"})),[o,a]=v.useState(dE),[c,u]=v.useState(null),[d,p]=v.useState(!1),[m,w]=v.useState(!1),[x,y]=v.useState(!0),[S,E]=v.useState(70),[_,T]=v.useState("medium"),{toast:k}=Rl(),O=Uo(),L=ly(),b=v.useRef(null),I=v.useRef(null),A=v.useRef(null),P=v.useRef(null),N=v.useRef(null);v.useEffect(()=>{typeof window<"u"&&(b.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"),I.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-arcade-mechanical-bling-210.mp3"),A.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-player-losing-or-failing-2042.mp3"),P.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3"),N.current=new Audio("https://assets.mixkit.co/sfx/preview/mixkit-quick-jump-arcade-game-239.mp3"),[b,I,A,P,N].forEach(H=>{H.current&&(H.current.volume=S/100)}))},[]),v.useEffect(()=>{[b,I,A,P,N].forEach(H=>{H.current&&(H.current.volume=S/100)})},[S]);const D=v.useCallback(H=>{x&&H.current&&(H.current.currentTime=0,H.current.play().catch(B=>console.error("Audio playback error:",B)))},[x]),R=v.useCallback(H=>{const B=H.map(fe=>fe.map(Ie=>Ie[1]==="clear"?[0,"clear"]:Ie));return s.tetromino&&Array.isArray(s.tetromino)&&s.tetromino.forEach((fe,Ie)=>{fe.forEach((ue,de)=>{ue!==0&&(B[Ie+s.pos.y][de+s.pos.x]=[ue,`${s.collided?"merged":"clear"}`,s.color])})}),s.collided?(ee(),W(B)):B},[s.tetromino,s.pos.y,s.pos.x,s.collided,s.color]),W=v.useCallback(H=>{let B=0;const fe=H.reduce((Ie,ue)=>ue.findIndex(de=>de[0]===0)===-1?(B+=1,Ie.unshift(new Array(H[0].length).fill([0,"clear"])),Ie):(Ie.push(ue),Ie),[]);if(B>0){D(I);const Ie=o.score+u9(B,o.level),ue=o.rows+B,de=d9(ue);a(_e=>({..._e,score:Ie,rows:ue,level:de})),u(Wc(de))}return fe},[o.score,o.rows,o.level,D]),ee=v.useCallback(()=>{try{if(n)i({pos:{x:3,y:0},tetromino:n.shape||[[0]],collided:!1,color:n.color||"transparent"}),r(Lf());else{const H=Lf();i({pos:{x:3,y:0},tetromino:H.shape||[[0]],collided:!1,color:H.color||"transparent"}),r(Lf())}}catch(H){console.error("Error resetting player:",H),i({pos:{x:3,y:0},tetromino:[[0]],collided:!1,color:"transparent"}),r(Wi.I)}},[n]),X=v.useCallback(H=>{Bc(s,t,{x:H,y:0})||(i(B=>({...B,pos:{...B.pos,x:B.pos.x+H}})),D(b))},[s,t,D]),Z=v.useCallback(()=>{const H=JSON.parse(JSON.stringify(s));H.tetromino=uE(H.tetromino,1);const B=H.pos.x;let fe=1;for(;Bc(H,t,{x:0,y:0});)if(H.pos.x+=fe,fe=-(fe+(fe>0?1:-1)),fe>H.tetromino[0].length){H.tetromino=uE(H.tetromino,-1),H.pos.x=B;return}i(H),D(N)},[s,t,D]),V=v.useCallback(()=>{if(o.rows>(o.level-1)*10&&(a(H=>({...H,level:H.level+1})),u(Wc(o.level+1))),!Bc(s,t,{x:0,y:1}))i(H=>({...H,pos:{...H.pos,y:H.pos.y+1}}));else{if(s.pos.y<1){a(H=>({...H,gameOver:!0})),u(null),D(A),q(),k({title:"Game Over!",description:`Your score: ${o.score}`});return}i(H=>({...H,collided:!0})),D(P)}},[s,t,o.rows,o.level,o.score,D,k]),q=v.useCallback(async()=>{const H=O.currentUser;if(H&&o.score>0)try{const B=pu(oy(L,"scores"));await gu(B,{userId:H.uid,username:H.displayName,score:o.score,level:o.level,lines:o.rows,createdAt:FF()})}catch(B){console.error("Error saving score:",B)}},[O,L,o.score,o.level,o.rows]),J=v.useCallback(()=>{e(cE()),a(dE);let H;switch(_){case"easy":H=1e3;break;case"hard":H=500;break;default:H=750}u(H),ee(),p(!0),w(!1)},[_,ee]),ne=v.useCallback(()=>{!o.gameOver&&d&&(u(m?Wc(o.level):null),w(!m))},[o.gameOver,o.level,d,m]),le=v.useCallback(()=>{let H=s.pos.y;for(;!Bc(s,t,{x:0,y:1});)H++,i(B=>({...B,pos:{...B.pos,y:H}}));i(B=>({...B,pos:{...B.pos,y:H},collided:!0})),D(P)},[s,t,D]),ye=v.useCallback(()=>{!m&&!o.gameOver&&(u(null),V())},[m,o.gameOver,V]),Ne=v.useCallback(({keyCode:H,key:B})=>{!o.gameOver&&d&&!m&&(H===37||B==="ArrowLeft"?X(-1):H===39||B==="ArrowRight"?X(1):H===40||B==="ArrowDown"?ye():H===38||B==="ArrowUp"?Z():(H===32||B===" ")&&le()),(H===80||B==="p")&&d&&ne(),(H===13||B==="Enter")&&(!d||o.gameOver)&&J()},[o.gameOver,d,m,X,ye,Z,le,ne,J]);v.useEffect(()=>{if(c!==null&&d&&!m){const H=setInterval(()=>{V()},c);return()=>{clearInterval(H)}}},[V,c,d,m]),v.useEffect(()=>{if(d)return window.addEventListener("keydown",Ne),()=>{window.removeEventListener("keydown",Ne)}},[d,Ne]),v.useEffect(()=>{d&&e(H=>R(H))},[s,R,d]);const Qe=v.useCallback(({keyCode:H,key:B})=>{!o.gameOver&&d&&!m&&(H===40||B==="ArrowDown")&&u(Wc(o.level))},[o.gameOver,d,m,o.level]);return v.useEffect(()=>{if(d)return window.addEventListener("keyup",Qe),()=>{window.removeEventListener("keyup",Qe)}},[d,Qe]),{stage:t,nextPiece:n,gameState:o,player:s,gameStarted:d,gamePaused:m,soundEnabled:x,volume:S,difficulty:_,movePlayer:X,dropPlayer:ye,rotatePlayer:Z,hardDrop:le,startGame:J,pauseGame:ne,setSoundEnabled:y,setVolume:E,setDifficulty:T}};var f9="firebase",p9="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(f9,p9,"app");const m9={apiKey:void 0,authDomain:"undefined.firebaseapp.com",projectId:void 0,storageBucket:"undefined.appspot.com",messagingSenderId:"742100442617",appId:void 0,measurementId:"G-B1D2RFGG66"},IA=XS(m9),hE=Uo(IA),bA=ly(IA);function g9(){const{stage:t,nextPiece:e,gameState:n,gameStarted:r,gamePaused:s,soundEnabled:i,volume:o,difficulty:a,movePlayer:c,dropPlayer:u,rotatePlayer:d,hardDrop:p,startGame:m,pauseGame:w,setSoundEnabled:x,setVolume:y,setDifficulty:S}=h9(),[E,_]=v.useState(0);return v.useEffect(()=>{async function T(){if(hE.currentUser)try{try{const k=oy(bA,"scores"),O=db(k,kF("userId","==",hE.currentUser.uid),hb("score","desc"),fb(1)),L=await mb(O);L.empty||_(L.docs[0].data().score)}catch(k){console.log("User scores might not exist yet:",k)}}catch(k){console.error("Error fetching high score:",k)}}T()},[n.gameOver]),f.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-black to-gray-900 bg-fixed",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-1/4 left-1/4 w-1/2 h-1/2 rounded-full bg-cyan-500/10 blur-[100px]"}),f.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-1/2 h-1/2 rounded-full bg-fuchsia-500/10 blur-[100px]"})]}),f.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-3 sm:py-6 relative",children:[f.jsx(SA,{}),f.jsxs("div",{className:"flex justify-between items-center mb-2 md:hidden",children:[f.jsx(En,{className:"bg-black/60 backdrop-blur-sm border-cyan-500/30 w-1/2 mr-1",children:f.jsxs(Tn,{className:"p-2",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("h3",{className:"text-sm font-['Orbitron'] text-cyan-400",children:"NEXT"}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-gray-400",children:"HIGH"}),f.jsx("span",{className:"text-sm font-bold text-purple-400",children:Math.max(E,n.score)})]})]}),f.jsx(eE,{tetromino:e})]})}),f.jsx(En,{className:"bg-black/60 backdrop-blur-sm border-cyan-500/30 w-1/2 ml-1",children:f.jsx(Tn,{className:"p-2",children:f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-xs text-gray-400",children:"SCORE"}),f.jsx("span",{className:"text-base font-bold text-cyan-400",children:n.score})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-xs text-gray-400",children:"LEVEL"}),f.jsx("span",{className:"text-base font-bold text-cyan-400",children:n.level})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-xs text-gray-400",children:"LINES"}),f.jsx("span",{className:"text-base font-bold text-cyan-400",children:n.rows})]}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-xs text-gray-400",children:"MODE"}),f.jsx("span",{className:"text-base font-bold text-cyan-400 capitalize",children:a})]})]})})})]}),f.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center lg:items-start gap-3 lg:gap-6",children:[f.jsxs("div",{className:"hidden md:block w-full lg:w-64 order-2 lg:order-1",children:[f.jsx(XU,{score:n.score,level:n.level,lines:n.rows,highScore:Math.max(E,n.score)}),f.jsx("div",{className:"mt-4 lg:mt-6",children:f.jsx(En,{className:"bg-black/50 backdrop-blur-sm border-cyan-500/30",children:f.jsxs(Tn,{className:"p-4",children:[f.jsx("h2",{className:"text-lg font-['Orbitron'] text-cyan-400 mb-4",children:"NEXT PIECE"}),f.jsx(eE,{tetromino:e})]})})})]}),f.jsxs("div",{className:"order-1 lg:order-2",children:[f.jsx(QU,{stage:t,gameOver:n.gameOver,score:n.score,onRestart:m,paused:s}),f.jsx(YU,{onStart:m,onPause:w,onRestart:m,onRotate:d,onMoveLeft:()=>c(-1),onMoveRight:()=>c(1),onMoveDown:u,onHardDrop:p,isStarted:r,isPaused:s,isGameOver:n.gameOver})]}),f.jsxs("div",{className:"hidden md:block w-full lg:w-64 order-3",children:[f.jsx(c9,{volume:o,soundEnabled:i,difficulty:a,onVolumeChange:y,onSoundToggle:x,onDifficultyChange:S}),f.jsx("div",{className:"mt-4 lg:mt-6",children:f.jsx(En,{className:"bg-black/50 backdrop-blur-sm border-cyan-500/30",children:f.jsxs(Tn,{className:"p-4",children:[f.jsx("h2",{className:"text-lg font-['Orbitron'] text-cyan-400 mb-4",children:"PIECES"}),f.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[f.jsx("div",{className:"w-4 h-4 bg-cyan-400",title:"I Piece"}),f.jsx("div",{className:"w-4 h-4 bg-cyan-400",title:"I Piece"}),f.jsx("div",{className:"w-4 h-4 bg-cyan-400",title:"I Piece"}),f.jsx("div",{className:"w-4 h-4 bg-cyan-400",title:"I Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-blue-600",title:"J Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-blue-600",title:"J Piece"}),f.jsx("div",{className:"w-4 h-4 bg-blue-600",title:"J Piece"}),f.jsx("div",{className:"w-4 h-4 bg-blue-600",title:"J Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-orange-500",title:"L Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-orange-500",title:"L Piece"}),f.jsx("div",{className:"w-4 h-4 bg-orange-500",title:"L Piece"}),f.jsx("div",{className:"w-4 h-4 bg-orange-500",title:"L Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-yellow-400",title:"O Piece"}),f.jsx("div",{className:"w-4 h-4 bg-yellow-400",title:"O Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-yellow-400",title:"O Piece"}),f.jsx("div",{className:"w-4 h-4 bg-yellow-400",title:"O Piece"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"}),f.jsx("div",{className:"w-4 h-4 bg-transparent"})]})]})})})]})]}),f.jsx("div",{className:"md:hidden w-full mt-2",children:f.jsx(En,{className:"bg-black/60 backdrop-blur-sm border-cyan-500/30",children:f.jsx(Tn,{className:"p-2",children:f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"SOUND"}),f.jsx("button",{onClick:()=>x(!i),className:`w-8 h-8 rounded-full flex items-center justify-center ${i?"bg-cyan-500/70":"bg-gray-700/70"}`,children:i?f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z",clipRule:"evenodd"})}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.707.707L4.586 13H2a1 1 0 01-1-1V8a1 1 0 011-1h2.586l3.707-3.707a1 1 0 011.09-.217zM12.293 7.293a1 1 0 011.414 0L15 8.586l1.293-1.293a1 1 0 111.414 1.414L16.414 10l1.293 1.293a1 1 0 01-1.414 1.414L15 11.414l-1.293 1.293a1 1 0 01-1.414-1.414L13.586 10l-1.293-1.293a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("span",{className:"text-xs text-gray-400 mr-2",children:"DIFFICULTY"}),f.jsxs("select",{value:a,onChange:T=>S(T.target.value),className:"bg-gray-800/80 rounded px-2 py-1 text-sm text-white border-none outline-none",children:[f.jsx("option",{value:"easy",children:"Easy"}),f.jsx("option",{value:"medium",children:"Medium"}),f.jsx("option",{value:"hard",children:"Hard"})]})]})]})})})})]})]})}function y9(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),{toast:s}=Rl(),i=bA;return v.useEffect(()=>{async function o(){r(!0);try{try{const a=oy(i,"scores"),c=db(a,hb("score","desc"),fb(50)),d=(await mb(c)).docs.map((p,m)=>{const w=p.data();return{id:p.id,rank:m+1,username:w.username||"Anonymous",score:w.score||0,level:w.level||1,lines:w.lines||0,date:w.createdAt?new Date(w.createdAt.toDate()).toLocaleDateString():"N/A"}});e(d)}catch(a){console.log("Scores collection might not exist yet:",a),e([])}}catch(a){console.error("Error fetching leaderboard:",a),s({title:"Failed to load leaderboard",description:"Could not connect to database. Please try again later.",variant:"destructive"})}finally{r(!1)}}o()},[i,s]),{leaderboard:t,loading:n}}function bi({className:t,...e}){return f.jsx("div",{className:xe("animate-pulse rounded-md bg-muted",t),...e})}function v9(){const{leaderboard:t,loading:e}=y9();return f.jsxs("div",{className:"min-h-screen w-full bg-gradient-to-b from-black to-gray-900 bg-fixed",children:[f.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-1/4 left-1/4 w-1/2 h-1/2 rounded-full bg-cyan-500/10 blur-[100px]"}),f.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-1/2 h-1/2 rounded-full bg-fuchsia-500/10 blur-[100px]"})]}),f.jsxs("div",{className:"container mx-auto px-4 py-6",children:[f.jsx(SA,{showLeaderboardButton:!1,showGameButton:!0}),f.jsx(En,{className:"bg-black/50 backdrop-blur-sm border-cyan-500/30",children:f.jsx(Tn,{className:"p-6",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"border-b border-gray-700",children:[f.jsx("th",{className:"text-left py-2 px-4 text-cyan-400 font-['Orbitron']",children:"#"}),f.jsx("th",{className:"text-left py-2 px-4 text-cyan-400 font-['Orbitron']",children:"Player"}),f.jsx("th",{className:"text-left py-2 px-4 text-cyan-400 font-['Orbitron']",children:"Score"}),f.jsx("th",{className:"text-left py-2 px-4 text-cyan-400 font-['Orbitron']",children:"Level"}),f.jsx("th",{className:"text-left py-2 px-4 text-cyan-400 font-['Orbitron']",children:"Lines"}),f.jsx("th",{className:"text-left py-2 px-4 text-cyan-400 font-['Orbitron']",children:"Date"})]})}),f.jsx("tbody",{children:e?Array(8).fill(0).map((n,r)=>f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("td",{className:"py-3 px-4",children:f.jsx(bi,{className:"h-5 w-5 bg-gray-800"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(bi,{className:"h-5 w-32 bg-gray-800"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(bi,{className:"h-5 w-16 bg-gray-800"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(bi,{className:"h-5 w-10 bg-gray-800"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(bi,{className:"h-5 w-10 bg-gray-800"})}),f.jsx("td",{className:"py-3 px-4",children:f.jsx(bi,{className:"h-5 w-24 bg-gray-800"})})]},r)):t.length>0?t.map((n,r)=>f.jsxs("tr",{className:"border-b border-gray-800",children:[f.jsx("td",{className:"py-3 px-4 text-white font-bold",children:n.rank}),f.jsx("td",{className:"py-3 px-4 text-white",children:n.username}),f.jsx("td",{className:"py-3 px-4 text-cyan-400 font-bold",children:n.score.toLocaleString()}),f.jsx("td",{className:"py-3 px-4 text-white",children:n.level}),f.jsx("td",{className:"py-3 px-4 text-white",children:n.lines}),f.jsx("td",{className:"py-3 px-4 text-gray-400",children:n.date})]},n.id)):f.jsx("tr",{children:f.jsx("td",{colSpan:6,className:"text-center py-8 text-gray-400",children:"No scores available yet. Be the first to play!"})})})]})})})})]})]})}function w9(){return f.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:f.jsx(En,{className:"w-full max-w-md mx-4",children:f.jsxs(Tn,{className:"pt-6",children:[f.jsxs("div",{className:"flex mb-4 gap-2",children:[f.jsx(RD,{className:"h-8 w-8 text-red-500"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),f.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function _9(){const[t,e]=Md(),[n,r]=v.useState(null),[s,i]=v.useState(!0),{toast:o}=Rl();v.useEffect(()=>{const c=Uo(),u=S1(c,d=>{r(d),i(!1),!d&&t!=="/"&&(e("/"),o({title:"Logged out",description:"You have been logged out"}))});return()=>u()},[t,e,o]);const a=({component:c,...u})=>s?f.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."}):n?f.jsx(c,{...u}):(e("/"),null);return f.jsxs(nN,{children:[f.jsx(Cc,{path:"/",component:$F}),f.jsx(Cc,{path:"/game",children:()=>f.jsx(a,{component:g9})}),f.jsx(Cc,{path:"/leaderboard",children:()=>f.jsx(a,{component:v9})}),f.jsx(Cc,{component:w9})]})}function E9(){return f.jsxs(bN,{client:PN,children:[f.jsx(_9,{}),f.jsx(f2,{})]})}Mx(document.getElementById("root")).render(f.jsx(E9,{}));
